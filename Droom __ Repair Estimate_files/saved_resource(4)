/*!
 * jQuery JavaScript Library v2.2.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-04-05T19:26Z
 */
(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document");}
return factory(w);};}else{factory(global);}}(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var document=window.document;var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var
version="2.2.3",jQuery=function(selector,context){return new jQuery.fn.init(selector,context);},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase();};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this);},get:function(num){return num!=null?(num<0?this[num+this.length]:this[num]):slice.call(this);},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret;},each:function(callback){return jQuery.each(this,callback);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},slice:function(){return this.pushStack(slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},end:function(){return this.prevObject||this.constructor();},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++;}
if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}
if(i===length){target=this;i--;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}
target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg);},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window;},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&(realStringObj-parseFloat(realStringObj)+1)>=0;},isPlainObject:function(obj){var key;if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}
if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf")){return false;}
for(key in obj){}
return key===undefined||hasOwn.call(obj,key);},isEmptyObject:function(obj){var name;for(name in obj){return false;}
return true;},type:function(obj){if(obj==null){return obj+"";}
return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj;},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script);}else{indirect(code);}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break;}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break;}}}
return obj;},trim:function(text){return text==null?"":(text+"").replace(rtrim,"");},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{push.call(ret,arr);}}
return ret;},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i);},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j];}
first.length=i;return first;},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i]);}}
return matches;},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}
return concat.apply([],ret);},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}
if(!jQuery.isFunction(fn)){return undefined;}
args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;},now:Date.now,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator];}
jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false;}
return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1)in obj;}
var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true;}
return 0;},MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i;}}
return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+identifier+")"),"CLASS":new RegExp("^\\.("+identifier+")"),"TAG":new RegExp("^("+identifier+"|[*])"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+
whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-0x10000;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);},unloadHandler=function(){setDocument();};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els));}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1;}};}
function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results;}
if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context);}
context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){if((elem=context.getElementById(m))){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}
if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1){newContext=context;newSelector=selector;}else if(context.nodeName.toLowerCase()!=="object"){if((nid=context.getAttribute("id"))){nid=nid.replace(rescape,"\\$&");}else{context.setAttribute("id",(nid=expando));}
groups=tokenize(selector);i=groups.length;nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";while(i--){groups[i]=nidselect+" "+toSelector(groups[i]);}
newSelector=groups.join(",");newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;}
if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){}finally{if(nid===expando){context.removeAttribute("id");}}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed);}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()];}
return(cache[key+" "]=value);}
return cache;}
function markFunction(fn){fn[expando]=true;return fn;}
function assert(fn){var div=document.createElement("div");try{return!!fn(div);}catch(e){return false;}finally{if(div.parentNode){div.parentNode.removeChild(div);}
div=null;}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-
(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff;}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}
return a?1:-1;}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}
function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context;}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document;}
document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if((parent=document.defaultView)&&parent.top!==parent){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false);}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler);}}
support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className");});support.getElementsByTagName=assert(function(div){div.appendChild(document.createComment(""));return!div.getElementsByTagName("*").length;});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length;});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[];}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId;};};}
Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag);}else if(support.qsa){return context.querySelectorAll(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}
return tmp;}
return results;};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(document.querySelectorAll))){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")");}
if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")");}
if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=");}
if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}
if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]");}});assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=");}
if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");}
div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}
return false;};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0;}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}
compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1;}
if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1;}
return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}
return compare&4?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}else if(aup===bup){return siblingCheck(a,b);}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}
while(ap[i]===bp[i]){i++;}
return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0;};return document;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem);}
expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}
return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context);}
return contains(context,elem);};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem);}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i);}}
while(j--){results.splice(duplicates[j],1);}}
sortInput=null;return results;};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}
return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}
return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}
return match;},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}
if(match[3]){match[2]=match[4]||match[5]||"";}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}
return match.slice(0,3);}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}
if(!operator){return true;}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}
start=dir=type==="only"&&!start&&"nextSibling";}
return true;}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break;}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex;}
if(diff===false){while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff];}
if(node===elem){break;}}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}
return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":function(elem){return elem.disabled===false;},"disabled":function(elem){return elem.disabled===true;},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}
return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text");},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i);}
return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}
return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}
for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}
groups.push((tokens=[]));}
matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}
if(!matched){break;}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}
return selector;}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2]);}else{uniqueCache[dir]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true;}}}}}};}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}
return true;}:matchers[0];}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}
return results;}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}
return newUnmatched;}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}
postFinder(null,(matcherOut=[]),temp,xml);}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret;}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}
matchers.push(matcher);}}
return elementMatcher(matchers);}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context===document||context||outermost;}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML;}
while((matcher=elementMatchers[j++])){if(matcher(elem,context||document,xml)){results.push(elem);break;}}
if(outermost){dirruns=dirrunsUnique;}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--;}
if(seed){unmatched.push(elem);}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}
setMatched=condense(setMatched);}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}
return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector);}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector;}
return cached;};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}else if(compiled){context=context.parentNode;}
selector=selector.slice(tokens.shift().value.length);}
i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}
break;}}}}
(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1;});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}
if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}
if(!assert(function(div){return div.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null;}});}
return Sizzle;})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break;}
matched.push(elem);}}
return matched;};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n);}}
return matched;};var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=(/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/);var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}
if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not;});}
if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not);}
qualifier=jQuery.filter(qualifier,elements);}
return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>-1)!==not;});}
jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}
return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}
for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}
ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret;},filter:function(selector){return this.pushStack(winnow(this,selector||[],false));},not:function(selector){return this.pushStack(winnow(this,selector||[],true));},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this;}
root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}
return this;}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem;}
this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||root).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}else if(jQuery.isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery);}
if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}
return jQuery.makeArray(selector,this);};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break;}}}
return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}
if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0]);}
return indexOf.call(this,elem.jquery?elem[0]:elem);},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}
return cur;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return dir(elem,"nextSibling");},prevAll:function(elem){return dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until);},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem);},children:function(elem){return siblings(elem.firstChild);},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}
if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched);}
if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched);}
if(rparentsprev.test(name)){matched.reverse();}}
return this.pushStack(matched);};});var rnotwhite=(/\S+/g);function createOptions(options){var object={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true;});return object;}
jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var
firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false;}}}
if(!options.memory){memory=false;}
firing=false;if(locked){if(memory){list=[];}else{list="";}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory);}
(function add(args){jQuery.each(args,function(_,arg){if(jQuery.isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&jQuery.type(arg)!=="string"){add(arg);}});})(arguments);if(memory&&!firing){fire();}}
return this;},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--;}}});return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0;},empty:function(){if(list){list=[];}
return this;},disable:function(){locked=queue=[];list=memory="";return this;},disabled:function(){return!list;},lock:function(){locked=queue=[];if(!memory){list=memory="";}
return this;},locked:function(){return!!locked;},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire();}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments);}});});fns=null;}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[i^1][2].disable,tuples[2][2].lock);}
deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}
return deferred;},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values);}else if(!(--remaining)){deferred.resolveWith(contexts,values);}};},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject);}else{--remaining;}}}
if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);}
return deferred.promise();}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this;};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready");}}});function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready();}
jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){window.setTimeout(jQuery.ready);}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed);}}
return readyList.promise(obj);};jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true;}
if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value);};}}
if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}
return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet;};var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType);};function Data(){this.expando=jQuery.expando+Data.uid++;}
Data.uid=1;Data.prototype={register:function(owner,initial){var value=initial||{};if(owner.nodeType){owner[this.expando]=value;}else{Object.defineProperty(owner,this.expando,{value:value,writable:true,configurable:true});}
return owner[this.expando];},cache:function(owner){if(!acceptData(owner)){return{};}
var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value;}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true});}}}
return value;},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[data]=value;}else{for(prop in data){cache[prop]=data[prop];}}
return cache;},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][key];},access:function(owner,key,value){var stored;if(key===undefined||((key&&typeof key==="string")&&value===undefined)){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key));}
this.set(owner,key,value);return value!==undefined?value:key;},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===undefined){return;}
if(key===undefined){this.register(owner);}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase));}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel];}else{name=camel;name=name in cache?[name]:(name.match(rnotwhite)||[]);}}
i=name.length;while(i--){delete cache[name[i]];}}
if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined;}else{delete owner[this.expando];}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache);}};var dataPriv=new Data();var dataUser=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}
dataUser.set(elem,key,data);}else{data=undefined;}}
return data;}
jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem);},data:function(elem,name,data){return dataUser.access(elem,name,data);},removeData:function(elem,name){dataUser.remove(elem,name);},_data:function(elem,name,data){return dataPriv.access(elem,name,data);},_removeData:function(elem,name){dataPriv.remove(elem,name);}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}}
dataPriv.set(elem,"hasDataAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){dataUser.set(this,key);});}
return access(this,function(value){var data,camelKey;if(elem&&value===undefined){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase());if(data!==undefined){return data;}
camelKey=jQuery.camelCase(key);data=dataUser.get(elem,camelKey);if(data!==undefined){return data;}
data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data;}
return;}
camelKey=jQuery.camelCase(key);this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value);if(key.indexOf("-")>-1&&data!==undefined){dataUser.set(this,key,value);}});},null,value,arguments.length>1,null,true);},removeData:function(key){return this.each(function(){dataUser.remove(this,key);});}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}
return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}
if(fn){if(type==="fx"){queue.unshift("inprogress");}
delete hooks.stop;fn.call(elem,next,hooks);}
if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key]);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}
type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}
resolve();return defer.promise(obj);}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur();}:function(){return jQuery.css(elem,prop,"");},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3];valueParts=valueParts||[];initialInUnit=+initial||1;do{scale=scale||".5";initialInUnit=initialInUnit/scale;jQuery.style(elem,prop,initialInUnit+unit);}while(scale!==(scale=currentValue()/initial)&&scale!==1&&--maxIterations);}
if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted;}}
return adjusted;}
var rcheckableType=(/^(?:checkbox|radio)$/i);var rtagName=(/<([\w:-]+)/);var rscriptType=(/^$|\/(?:java|ecma)script/i);var wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var ret=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!=="undefined"?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret;}
function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"));}}
var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}
jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent="";}}}
fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem);}
continue;}
contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp);}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}
return fragment;}
(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;})();var
rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true;}
function returnFalse(){return false;}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}
function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){on(elem,type,selector,data,types[type],one);}
return elem;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return elem;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return elem.each(function(){jQuery.event.add(this,types,fn,data,selector);});}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(!handler.guid){handler.guid=jQuery.guid++;}
if(!(events=elemData.events)){events=elemData.events={};}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined;};}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return;}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events");}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(event.type!=="click"||isNaN(event.button)||event.button<1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length;}
if(matches[sel]){matches.push(handleObj);}}
if(matches.length){handlerQueue.push({elem:cur,handlers:matches});}}}}
if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)});}
return handlerQueue;},props:("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}
return event;}},mouseHooks:{props:("button buttons clientX clientY offsetX offsetY pageX pageY "+"screenX screenY toElement").split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+
(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-
(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+
(doc&&doc.scrollTop||body&&body.scrollTop||0)-
(doc&&doc.clientTop||body&&body.clientTop||0);}
if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}
return event;}},fix:function(event){if(event[jQuery.expando]){return event;}
var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{};}
copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop];}
if(!event.target){event.target=document;}
if(event.target.nodeType===3){event.target=event.target.parentNode;}
return fixHook.filter?fixHook.filter(event,originalEvent):event;},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false;}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false;}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false;}},_default:function(event){return jQuery.nodeName(event.target,"a");}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;}}}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e){e.preventDefault();}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e){e.stopPropagation();}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e){e.stopImmediatePropagation();}
this.stopPropagation();}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn);},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});}});var
rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem;}
function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem;}
function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1];}else{elem.removeAttribute("type");}
return elem;}
function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return;}
if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src);pdataCur=dataPriv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}}
if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur);}}
function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}
function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return collection.each(function(index){var self=collection.eq(index);if(isFunction){args[0]=value.call(this,index,self.html());}
domManip(self,args,callback,ignored);});}
if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}
if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}
callback.call(collection[i],node,i);}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src);}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""));}}}}}}
return collection;}
function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node));}
if(node.parentNode){if(keepData&&jQuery.contains(node.ownerDocument,node)){setGlobalEval(getAll(node,"script"));}
node.parentNode.removeChild(node);}}
return elem;}
jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>");},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i]);}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i]);}}else{cloneCopyEvent(elem,clone);}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}
return clone;},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if((data=elem[dataPriv.expando])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}
elem[dataPriv.expando]=undefined;}
if(elem[dataUser.expando]){elem[dataUser.expando]=undefined;}}}}});jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,true);},remove:function(selector){return remove(this,selector);},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value;}});},null,value,arguments.length);},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent="";}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this);}}},ignored);}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get());}
return this.pushStack(ret);};});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.detach();return display;}
function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach();}
elemdisplay[nodeName]=display;}
return display;}
var rmargin=(/^margin/);var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window;}
return view.getComputedStyle(elem);};var swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name];}
return ret;};var documentElement=document.documentElement;(function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return;}
div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";container.appendChild(div);function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";div.innerHTML="";documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=divStyle.marginLeft==="2px";boxSizingReliableVal=divStyle.width==="4px";div.style.marginRight="50%";pixelMarginRightVal=divStyle.marginRight==="4px";documentElement.removeChild(container);}
jQuery.extend(support,{pixelPosition:function(){computeStyleTests();return pixelPositionVal;},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests();}
return boxSizingReliableVal;},pixelMarginRight:function(){if(boxSizingReliableVal==null){computeStyleTests();}
return pixelMarginRightVal;},reliableMarginLeft:function(){if(boxSizingReliableVal==null){computeStyleTests();}
return reliableMarginLeftVal;},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;"+"display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";documentElement.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight);documentElement.removeChild(container);div.removeChild(marginDiv);return ret;}});})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if((ret===""||ret===undefined)&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);}
if(computed){if(!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}
return ret!==undefined?ret+"":ret;}
function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return;}
return(this.get=hookFn).apply(this,arguments);}};}
var
rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle){return name;}
var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name;}}}
function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value;}
function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles);}
if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}
if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}
return val;}
function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(document.msFullscreenElement&&window.top!==window){if(elem.getClientRects().length){val=Math.round(elem.getBoundingClientRect()[name]*100);}}
if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name];}
if(rnumnonpx.test(val)){return val;}
valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0;}
return(val+
augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px";}
function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}
values[index]=dataPriv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display="";}
if(elem.style.display===""&&isHidden(elem)){values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName));}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"));}}}
for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue;}
if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";}}
return elements;}
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"animationIterationCount":true,"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number";}
if(value==null||value!==value){return;}
if(type==="number"){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px");}
if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}
if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value;}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}
if(val===undefined){val=curCSS(elem,name,styles);}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}
if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val;}
return val;}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);}):getWidthOrHeight(elem,name,extra);}},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles);if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[name]=value;value=jQuery.css(elem,name);}
return setPositiveNumber(elem,value,subtract);}};});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-
swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left;}))+"px";}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"]);}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}
return map;}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);},show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide();}
return this.each(function(){if(isHidden(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}
if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}
return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop];}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.nodeType===1&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var
fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){window.setTimeout(function(){fxNow=undefined;});return(fxNow=jQuery.now());}
function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}
if(includeWidth){attrs.opacity=attrs.width=type;}
return attrs;}
function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween;}}}
function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}
if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block";}}
if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}
for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true;}else{continue;}}
orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}else{display=undefined;}}
if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden;}}else{dataShow=dataPriv.access(elem,"fxshow",{});}
if(toggle){dataShow.hidden=!hidden;}
if(hidden){jQuery(elem).show();}else{anim.done(function(){jQuery(elem).hide();});}
anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0;}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display;}}
function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0];}
if(index!==name){props[name]=value;delete props[index];}
hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}
function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}else{deferred.resolveWith(elem,[animation]);return false;}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}
stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}
if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}
return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(jQuery.isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result);}
return result;}}
jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}
jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);}
jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween;}]},tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"];}else{props=props.match(rnotwhite);}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback);}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback);}else{Animation.prefilters.push(callback);}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue&&type!==false){this.queue(type||"fx",[]);}
return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}
return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}
delete data.finish;});}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}
fxNow=undefined;};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start();}else{jQuery.timers.pop();}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval);}};jQuery.fx.stop=function(){window.clearInterval(timerId);timerId=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout);};});};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t";})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:undefined);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}
if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
elem.setAttribute(name,value+"");return value;}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret;},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false;}
elem.removeAttribute(name);}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else{elem.setAttribute(name,name);}
return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle;}
return ret;};});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name];});}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
return(elem[name]=value);}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
return elem[name];},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1;}}},propFix:{"for":"htmlFor","class":"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex;}
return null;},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}}};}
jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||"";}
jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)));});}
if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}
finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)));});}
if(!arguments.length){return this.attr("class","");}
if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ");}}
finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value);}
if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal);});}
return this.each(function(){var className,i,self,classNames;if(type==="string"){i=0;self=jQuery(this);classNames=value.match(rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className);}
if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"");}}});},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while((elem=this[i++])){if(elem.nodeType===1&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1){return true;}}
return false;}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}
return;}
isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}
if(isFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ");}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
return values;},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true;}}
if(!optionSet){elem.selectedIndex=-1;}
return values;}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1);}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}
if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}
if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault();}}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}
jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}
return event.result;},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem);if(e.isDefaultPrevented()){event.preventDefault();}}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});support.focusin="onfocusin"in window;if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event));};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true);}
dataPriv.access(doc,fix,(attaches||0)+1);},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix);}else{dataPriv.access(doc,fix,attaches);}}};});}
var location=window.location;var nonce=jQuery.now();var rquery=(/\?/);jQuery.parseJSON=function(data){return JSON.parse(data+"");};jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null;}
try{xml=(new window.DOMParser()).parseFromString(data,"text/xml");}catch(e){xml=undefined;}
if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;};var
rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}
function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}
return target;}
function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}
current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}
if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}
prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}
break;}}}}
if(conv!==true){if(conv&&s.throws){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}
return{state:"success",data:response};}
jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}
match=responseHeaders[key.toLowerCase()];}
return match==null?null:match;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}
return this;},overrideMimeType:function(type){if(!state){s.mimeType=type;}
return this;},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]];}}else{jqXHR.always(map[jqXHR.status]);}}
return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}
done(0,finalText);return this;}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host;}catch(e){s.crossDomain=true;}}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR;}
fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(rquery.test(cacheURL)?"&":"?")+s.data);delete s.data;}
if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++;}}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+
(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();}
strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}
transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(state===2){return jqXHR;}
if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return;}
state=2;if(timeoutTimer){window.clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}
response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}
if(status===204||s.type==="HEAD"){statusText="nocontent";}else if(status===304){statusText="notmodified";}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
return jqXHR;},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url));};});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true});};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}
if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();}});jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem);};jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0;};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add);}});}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;}
if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&").replace(r20,"+");};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest();}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&("withCredentials"in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i];}}
if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType);}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
for(i in headers){xhr.setRequestHeader(i,headers[i]);}
callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort();}else if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error");}else{complete(xhr.status,xhr.statusText);}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders());}}};};xhr.onload=callback();errorCallback=xhr.onerror=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback;}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback();}});}};}
callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null);}catch(e){if(callback){throw e;}}},abort:function(){if(callback){callback();}}};}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type);}});document.head.appendChild(script[0]);},abort:function(){if(callback){callback();}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName);}else{window[callbackName]=overwritten;}
if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}
if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);}
responseContainer=overwritten=undefined;});return"script";}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null;}
if(typeof context==="boolean"){keepScripts=context;context=false;}
context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}
parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove();}
return jQuery.merge([],parsed.childNodes);};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}
var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=jQuery.trim(url.slice(off));url=url.slice(0,off);}
if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR]);});});}
return this;};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView;}
jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative";}
curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(jQuery.isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset));}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using"in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return;}
docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box;}
box=elem.getBoundingClientRect();win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft};},position:function(){if(!this[0]){return;}
var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset();}
parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true);}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent;}
return offsetParent||documentElement;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method];}
if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset);}else{elem[method]=val;}},method,val,arguments.length);};});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}});});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable,null);};});});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},size:function(){return this.length;}});jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}
var
_jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;};if(!noGlobal){window.jQuery=window.$=jQuery;}
return jQuery;}));
;/**
 * jQuery Validation Plugin 1.8.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",
url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),
range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&
this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea",
"focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);
return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,
function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},
valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&
window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,
element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,
b){var d=this.errorsFor(a);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");
typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==
b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e=a.attr(d);if(e)b[d]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:
c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?
e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b=
{};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>
0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,
dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||
this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);

;/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(typeof jQuery==='undefined'){throw new Error('Bootstrap\'s JavaScript requires jQuery')}
+function($){'use strict';var version=$.fn.jquery.split(' ')[0].split('.')
if((version[0]<2&&version[1]<9)||(version[0]==1&&version[1]==9&&version[2]<1)||(version[0]>3)){throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4')}}(jQuery);+function($){'use strict';function transitionEnd(){var el=document.createElement('bootstrap')
var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'}
for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}
return false}
$.fn.emulateTransitionEnd=function(duration){var called=false
var $el=this
$(this).one('bsTransitionEnd',function(){called=true})
var callback=function(){if(!called)$($el).trigger($.support.transition.end)}
setTimeout(callback,duration)
return this}
$(function(){$.support.transition=transitionEnd()
if(!$.support.transition)return
$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function($){'use strict';var dismiss='[data-dismiss="alert"]'
var Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.VERSION='3.3.7'
Alert.TRANSITION_DURATION=150
Alert.prototype.close=function(e){var $this=$(this)
var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=$(selector==='#'?[]:selector)
if(e)e.preventDefault()
if(!$parent.length){$parent=$this.closest('.alert')}
$parent.trigger(e=$.Event('close.bs.alert'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.detach().trigger('closed.bs.alert').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.one('bsTransitionEnd',removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement()}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.alert')
if(!data)$this.data('bs.alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.alert
$.fn.alert=Plugin
$.fn.alert.Constructor=Alert
$.fn.alert.noConflict=function(){$.fn.alert=old
return this}
$(document).on('click.bs.alert.data-api',dismiss,Alert.prototype.close)}(jQuery);+function($){'use strict';var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},Button.DEFAULTS,options)
this.isLoading=false}
Button.VERSION='3.3.7'
Button.DEFAULTS={loadingText:'loading...'}
Button.prototype.setState=function(state){var d='disabled'
var $el=this.$element
var val=$el.is('input')?'val':'html'
var data=$el.data()
state+='Text'
if(data.resetText==null)$el.data('resetText',$el[val]())
setTimeout($.proxy(function(){$el[val](data[state]==null?this.options[state]:data[state])
if(state=='loadingText'){this.isLoading=true
$el.addClass(d).attr(d,d).prop(d,true)}else if(this.isLoading){this.isLoading=false
$el.removeClass(d).removeAttr(d).prop(d,false)}},this),0)}
Button.prototype.toggle=function(){var changed=true
var $parent=this.$element.closest('[data-toggle="buttons"]')
if($parent.length){var $input=this.$element.find('input')
if($input.prop('type')=='radio'){if($input.prop('checked'))changed=false
$parent.find('.active').removeClass('active')
this.$element.addClass('active')}else if($input.prop('type')=='checkbox'){if(($input.prop('checked'))!==this.$element.hasClass('active'))changed=false
this.$element.toggleClass('active')}
$input.prop('checked',this.$element.hasClass('active'))
if(changed)$input.trigger('change')}else{this.$element.attr('aria-pressed',!this.$element.hasClass('active'))
this.$element.toggleClass('active')}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.button')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
var old=$.fn.button
$.fn.button=Plugin
$.fn.button.Constructor=Button
$.fn.button.noConflict=function(){$.fn.button=old
return this}
$(document).on('click.bs.button.data-api','[data-toggle^="button"]',function(e){var $btn=$(e.target).closest('.btn')
Plugin.call($btn,'toggle')
if(!($(e.target).is('input[type="radio"], input[type="checkbox"]'))){e.preventDefault()
if($btn.is('input,button'))$btn.trigger('focus')
else $btn.find('input:visible,button:visible').first().trigger('focus')}}).on('focus.bs.button.data-api blur.bs.button.data-api','[data-toggle^="button"]',function(e){$(e.target).closest('.btn').toggleClass('focus',/^focus(in)?$/.test(e.type))})}(jQuery);+function($){'use strict';var Carousel=function(element,options){this.$element=$(element)
this.$indicators=this.$element.find('.carousel-indicators')
this.options=options
this.paused=null
this.sliding=null
this.interval=null
this.$active=null
this.$items=null
this.options.keyboard&&this.$element.on('keydown.bs.carousel',$.proxy(this.keydown,this))
this.options.pause=='hover'&&!('ontouchstart'in document.documentElement)&&this.$element.on('mouseenter.bs.carousel',$.proxy(this.pause,this)).on('mouseleave.bs.carousel',$.proxy(this.cycle,this))}
Carousel.VERSION='3.3.7'
Carousel.TRANSITION_DURATION=600
Carousel.DEFAULTS={interval:5000,pause:'hover',wrap:true,keyboard:true}
Carousel.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return
switch(e.which){case 37:this.prev();break
case 39:this.next();break
default:return}
e.preventDefault()}
Carousel.prototype.cycle=function(e){e||(this.paused=false)
this.interval&&clearInterval(this.interval)
this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval))
return this}
Carousel.prototype.getItemIndex=function(item){this.$items=item.parent().children('.item')
return this.$items.index(item||this.$active)}
Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active)
var willWrap=(direction=='prev'&&activeIndex===0)||(direction=='next'&&activeIndex==(this.$items.length-1))
if(willWrap&&!this.options.wrap)return active
var delta=direction=='prev'?-1:1
var itemIndex=(activeIndex+delta)%this.$items.length
return this.$items.eq(itemIndex)}
Carousel.prototype.to=function(pos){var that=this
var activeIndex=this.getItemIndex(this.$active=this.$element.find('.item.active'))
if(pos>(this.$items.length-1)||pos<0)return
if(this.sliding)return this.$element.one('slid.bs.carousel',function(){that.to(pos)})
if(activeIndex==pos)return this.pause().cycle()
return this.slide(pos>activeIndex?'next':'prev',this.$items.eq(pos))}
Carousel.prototype.pause=function(e){e||(this.paused=true)
if(this.$element.find('.next, .prev').length&&$.support.transition){this.$element.trigger($.support.transition.end)
this.cycle(true)}
this.interval=clearInterval(this.interval)
return this}
Carousel.prototype.next=function(){if(this.sliding)return
return this.slide('next')}
Carousel.prototype.prev=function(){if(this.sliding)return
return this.slide('prev')}
Carousel.prototype.slide=function(type,next){var $active=this.$element.find('.item.active')
var $next=next||this.getItemForDirection(type,$active)
var isCycling=this.interval
var direction=type=='next'?'left':'right'
var that=this
if($next.hasClass('active'))return(this.sliding=false)
var relatedTarget=$next[0]
var slideEvent=$.Event('slide.bs.carousel',{relatedTarget:relatedTarget,direction:direction})
this.$element.trigger(slideEvent)
if(slideEvent.isDefaultPrevented())return
this.sliding=true
isCycling&&this.pause()
if(this.$indicators.length){this.$indicators.find('.active').removeClass('active')
var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)])
$nextIndicator&&$nextIndicator.addClass('active')}
var slidEvent=$.Event('slid.bs.carousel',{relatedTarget:relatedTarget,direction:direction})
if($.support.transition&&this.$element.hasClass('slide')){$next.addClass(type)
$next[0].offsetWidth
$active.addClass(direction)
$next.addClass(direction)
$active.one('bsTransitionEnd',function(){$next.removeClass([type,direction].join(' ')).addClass('active')
$active.removeClass(['active',direction].join(' '))
that.sliding=false
setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)}else{$active.removeClass('active')
$next.addClass('active')
this.sliding=false
this.$element.trigger(slidEvent)}
isCycling&&this.cycle()
return this}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.carousel')
var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=='object'&&option)
var action=typeof option=='string'?option:options.slide
if(!data)$this.data('bs.carousel',(data=new Carousel(this,options)))
if(typeof option=='number')data.to(option)
else if(action)data[action]()
else if(options.interval)data.pause().cycle()})}
var old=$.fn.carousel
$.fn.carousel=Plugin
$.fn.carousel.Constructor=Carousel
$.fn.carousel.noConflict=function(){$.fn.carousel=old
return this}
var clickHandler=function(e){var href
var $this=$(this)
var $target=$($this.attr('data-target')||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))
if(!$target.hasClass('carousel'))return
var options=$.extend({},$target.data(),$this.data())
var slideIndex=$this.attr('data-slide-to')
if(slideIndex)options.interval=false
Plugin.call($target,options)
if(slideIndex){$target.data('bs.carousel').to(slideIndex)}
e.preventDefault()}
$(document).on('click.bs.carousel.data-api','[data-slide]',clickHandler).on('click.bs.carousel.data-api','[data-slide-to]',clickHandler)
$(window).on('load',function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this)
Plugin.call($carousel,$carousel.data())})})}(jQuery);+function($){'use strict';var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},Collapse.DEFAULTS,options)
this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],'+'[data-toggle="collapse"][data-target="#'+element.id+'"]')
this.transitioning=null
if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}
if(this.options.toggle)this.toggle()}
Collapse.VERSION='3.3.7'
Collapse.TRANSITION_DURATION=350
Collapse.DEFAULTS={toggle:true}
Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'}
Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass('in'))return
var activesData
var actives=this.$parent&&this.$parent.children('.panel').children('.in, .collapsing')
if(actives&&actives.length){activesData=actives.data('bs.collapse')
if(activesData&&activesData.transitioning)return}
var startEvent=$.Event('show.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
if(actives&&actives.length){Plugin.call(actives,'hide')
activesData||actives.data('bs.collapse',null)}
var dimension=this.dimension()
this.$element.removeClass('collapse').addClass('collapsing')[dimension](0).attr('aria-expanded',true)
this.$trigger.removeClass('collapsed').attr('aria-expanded',true)
this.transitioning=1
var complete=function(){this.$element.removeClass('collapsing').addClass('collapse in')[dimension]('')
this.transitioning=0
this.$element.trigger('shown.bs.collapse')}
if(!$.support.transition)return complete.call(this)
var scrollSize=$.camelCase(['scroll',dimension].join('-'))
this.$element.one('bsTransitionEnd',$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}
Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass('in'))return
var startEvent=$.Event('hide.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
var dimension=this.dimension()
this.$element[dimension](this.$element[dimension]())[0].offsetHeight
this.$element.addClass('collapsing').removeClass('collapse in').attr('aria-expanded',false)
this.$trigger.addClass('collapsed').attr('aria-expanded',false)
this.transitioning=1
var complete=function(){this.transitioning=0
this.$element.removeClass('collapsing').addClass('collapse').trigger('hidden.bs.collapse')}
if(!$.support.transition)return complete.call(this)
this.$element
[dimension](0).one('bsTransitionEnd',$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)}
Collapse.prototype.toggle=function(){this[this.$element.hasClass('in')?'hide':'show']()}
Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element)
this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()}
Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass('in')
$element.attr('aria-expanded',isOpen)
$trigger.toggleClass('collapsed',!isOpen).attr('aria-expanded',isOpen)}
function getTargetFromTrigger($trigger){var href
var target=$trigger.attr('data-target')||(href=$trigger.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,'')
return $(target)}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.collapse')
var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data&&options.toggle&&/show|hide/.test(option))options.toggle=false
if(!data)$this.data('bs.collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.collapse
$.fn.collapse=Plugin
$.fn.collapse.Constructor=Collapse
$.fn.collapse.noConflict=function(){$.fn.collapse=old
return this}
$(document).on('click.bs.collapse.data-api','[data-toggle="collapse"]',function(e){var $this=$(this)
if(!$this.attr('data-target'))e.preventDefault()
var $target=getTargetFromTrigger($this)
var data=$target.data('bs.collapse')
var option=data?'toggle':$this.data()
Plugin.call($target,option)})}(jQuery);+function($){'use strict';var backdrop='.dropdown-backdrop'
var toggle='[data-toggle="dropdown"]'
var Dropdown=function(element){$(element).on('click.bs.dropdown',this.toggle)}
Dropdown.VERSION='3.3.7'
function getParent($this){var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=selector&&$(selector)
return $parent&&$parent.length?$parent:$this.parent()}
function clearMenus(e){if(e&&e.which===3)return
$(backdrop).remove()
$(toggle).each(function(){var $this=$(this)
var $parent=getParent($this)
var relatedTarget={relatedTarget:this}
if(!$parent.hasClass('open'))return
if(e&&e.type=='click'&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target))return
$parent.trigger(e=$.Event('hide.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.attr('aria-expanded','false')
$parent.removeClass('open').trigger($.Event('hidden.bs.dropdown',relatedTarget))})}
Dropdown.prototype.toggle=function(e){var $this=$(this)
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){if('ontouchstart'in document.documentElement&&!$parent.closest('.navbar-nav').length){$(document.createElement('div')).addClass('dropdown-backdrop').insertAfter($(this)).on('click',clearMenus)}
var relatedTarget={relatedTarget:this}
$parent.trigger(e=$.Event('show.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.trigger('focus').attr('aria-expanded','true')
$parent.toggleClass('open').trigger($.Event('shown.bs.dropdown',relatedTarget))}
return false}
Dropdown.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return
var $this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
if(!isActive&&e.which!=27||isActive&&e.which==27){if(e.which==27)$parent.find(toggle).trigger('focus')
return $this.trigger('click')}
var desc=' li:not(.disabled):visible a'
var $items=$parent.find('.dropdown-menu'+desc)
if(!$items.length)return
var index=$items.index(e.target)
if(e.which==38&&index>0)index--
if(e.which==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).trigger('focus')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.dropdown')
if(!data)$this.data('bs.dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.dropdown
$.fn.dropdown=Plugin
$.fn.dropdown.Constructor=Dropdown
$.fn.dropdown.noConflict=function(){$.fn.dropdown=old
return this}
$(document).on('click.bs.dropdown.data-api',clearMenus).on('click.bs.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.bs.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api',toggle,Dropdown.prototype.keydown).on('keydown.bs.dropdown.data-api','.dropdown-menu',Dropdown.prototype.keydown)}(jQuery);+function($){'use strict';var Modal=function(element,options){this.options=options
this.$body=$(document.body)
this.$element=$(element)
this.$dialog=this.$element.find('.modal-dialog')
this.$backdrop=null
this.isShown=null
this.originalBodyPad=null
this.scrollbarWidth=0
this.ignoreBackdropClick=false
if(this.options.remote){this.$element.find('.modal-content').load(this.options.remote,$.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))}}
Modal.VERSION='3.3.7'
Modal.TRANSITION_DURATION=300
Modal.BACKDROP_TRANSITION_DURATION=150
Modal.DEFAULTS={backdrop:true,keyboard:true,show:true}
Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)}
Modal.prototype.show=function(_relatedTarget){var that=this
var e=$.Event('show.bs.modal',{relatedTarget:_relatedTarget})
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
this.isShown=true
this.checkScrollbar()
this.setScrollbar()
this.$body.addClass('modal-open')
this.escape()
this.resize()
this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',$.proxy(this.hide,this))
this.$dialog.on('mousedown.dismiss.bs.modal',function(){that.$element.one('mouseup.dismiss.bs.modal',function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=true})})
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(that.$body)}
that.$element.show().scrollTop(0)
that.adjustDialog()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in')
that.enforceFocus()
var e=$.Event('shown.bs.modal',{relatedTarget:_relatedTarget})
transition?that.$dialog.one('bsTransitionEnd',function(){that.$element.trigger('focus').trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger('focus').trigger(e)})}
Modal.prototype.hide=function(e){if(e)e.preventDefault()
e=$.Event('hide.bs.modal')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
this.escape()
this.resize()
$(document).off('focusin.bs.modal')
this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal')
this.$dialog.off('mousedown.dismiss.bs.modal')
$.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()}
Modal.prototype.enforceFocus=function(){$(document).off('focusin.bs.modal').on('focusin.bs.modal',$.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger('focus')}},this))}
Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keydown.dismiss.bs.modal',$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off('keydown.dismiss.bs.modal')}}
Modal.prototype.resize=function(){if(this.isShown){$(window).on('resize.bs.modal',$.proxy(this.handleUpdate,this))}else{$(window).off('resize.bs.modal')}}
Modal.prototype.hideModal=function(){var that=this
this.$element.hide()
this.backdrop(function(){that.$body.removeClass('modal-open')
that.resetAdjustments()
that.resetScrollbar()
that.$element.trigger('hidden.bs.modal')})}
Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove()
this.$backdrop=null}
Modal.prototype.backdrop=function(callback){var that=this
var animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$(document.createElement('div')).addClass('modal-backdrop '+animate).appendTo(this.$body)
this.$element.on('click.dismiss.bs.modal',$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false
return}
if(e.target!==e.currentTarget)return
this.options.backdrop=='static'?this.$element[0].focus():this.hide()},this))
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
if(!callback)return
doAnimate?this.$backdrop.one('bsTransitionEnd',callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
var callbackRemove=function(){that.removeBackdrop()
callback&&callback()}
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}}
Modal.prototype.handleUpdate=function(){this.adjustDialog()}
Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:'',paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:''})}
Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:'',paddingRight:''})}
Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth
if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect()
fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}
this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth
this.scrollbarWidth=this.measureScrollbar()}
Modal.prototype.setScrollbar=function(){var bodyPad=parseInt((this.$body.css('padding-right')||0),10)
this.originalBodyPad=document.body.style.paddingRight||''
if(this.bodyIsOverflowing)this.$body.css('padding-right',bodyPad+this.scrollbarWidth)}
Modal.prototype.resetScrollbar=function(){this.$body.css('padding-right',this.originalBodyPad)}
Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement('div')
scrollDiv.className='modal-scrollbar-measure'
this.$body.append(scrollDiv)
var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth
this.$body[0].removeChild(scrollDiv)
return scrollbarWidth}
function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this)
var data=$this.data('bs.modal')
var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option](_relatedTarget)
else if(options.show)data.show(_relatedTarget)})}
var old=$.fn.modal
$.fn.modal=Plugin
$.fn.modal.Constructor=Modal
$.fn.modal.noConflict=function(){$.fn.modal=old
return this}
$(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this)
var href=$this.attr('href')
var $target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,'')))
var option=$target.data('bs.modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
if($this.is('a'))e.preventDefault()
$target.one('show.bs.modal',function(showEvent){if(showEvent.isDefaultPrevented())return
$target.one('hidden.bs.modal',function(){$this.is(':visible')&&$this.trigger('focus')})})
Plugin.call($target,option,this)})}(jQuery);+function($){'use strict';var Tooltip=function(element,options){this.type=null
this.options=null
this.enabled=null
this.timeout=null
this.hoverState=null
this.$element=null
this.inState=null
this.init('tooltip',element,options)}
Tooltip.VERSION='3.3.7'
Tooltip.TRANSITION_DURATION=150
Tooltip.DEFAULTS={animation:true,placement:'top',selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,container:false,viewport:{selector:'body',padding:0}}
Tooltip.prototype.init=function(type,element,options){this.enabled=true
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport))
this.inState={click:false,hover:false,focus:false}
if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error('`selector` option must be specified when initializing '+this.type+' on the window.document object!')}
var triggers=this.options.trigger.split(' ')
for(var i=triggers.length;i--;){var trigger=triggers[i]
if(trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!='manual'){var eventIn=trigger=='hover'?'mouseenter':'focusin'
var eventOut=trigger=='hover'?'mouseleave':'focusout'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()}
Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS}
Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options)
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options}
Tooltip.prototype.getDelegateOptions=function(){var options={}
var defaults=this.getDefaults()
this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value})
return options}
Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusin'?'focus':'hover']=true}
if(self.tip().hasClass('in')||self.hoverState=='in'){self.hoverState='in'
return}
clearTimeout(self.timeout)
self.hoverState='in'
if(!self.options.delay||!self.options.delay.show)return self.show()
self.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)}
Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return true}
return false}
Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusout'?'focus':'hover']=false}
if(self.isInStateTrue())return
clearTimeout(self.timeout)
self.hoverState='out'
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)}
Tooltip.prototype.show=function(){var e=$.Event('show.bs.'+this.type)
if(this.hasContent()&&this.enabled){this.$element.trigger(e)
var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0])
if(e.isDefaultPrevented()||!inDom)return
var that=this
var $tip=this.tip()
var tipId=this.getUID(this.type)
this.setContent()
$tip.attr('id',tipId)
this.$element.attr('aria-describedby',tipId)
if(this.options.animation)$tip.addClass('fade')
var placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
var autoToken=/\s?auto?\s?/i
var autoPlace=autoToken.test(placement)
if(autoPlace)placement=placement.replace(autoToken,'')||'top'
$tip.detach().css({top:0,left:0,display:'block'}).addClass(placement).data('bs.'+this.type,this)
this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element)
this.$element.trigger('inserted.bs.'+this.type)
var pos=this.getPosition()
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(autoPlace){var orgPlacement=placement
var viewportDim=this.getPosition(this.$viewport)
placement=placement=='bottom'&&pos.bottom+actualHeight>viewportDim.bottom?'top':placement=='top'&&pos.top-actualHeight<viewportDim.top?'bottom':placement=='right'&&pos.right+actualWidth>viewportDim.width?'left':placement=='left'&&pos.left-actualWidth<viewportDim.left?'right':placement
$tip.removeClass(orgPlacement).addClass(placement)}
var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight)
this.applyPlacement(calculatedOffset,placement)
var complete=function(){var prevHoverState=that.hoverState
that.$element.trigger('shown.bs.'+that.type)
that.hoverState=null
if(prevHoverState=='out')that.leave(that)}
$.support.transition&&this.$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}}
Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip()
var width=$tip[0].offsetWidth
var height=$tip[0].offsetHeight
var marginTop=parseInt($tip.css('margin-top'),10)
var marginLeft=parseInt($tip.css('margin-left'),10)
if(isNaN(marginTop))marginTop=0
if(isNaN(marginLeft))marginLeft=0
offset.top+=marginTop
offset.left+=marginLeft
$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0)
$tip.addClass('in')
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(placement=='top'&&actualHeight!=height){offset.top=offset.top+height-actualHeight}
var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight)
if(delta.left)offset.left+=delta.left
else offset.top+=delta.top
var isVertical=/top|bottom/.test(placement)
var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight
var arrowOffsetPosition=isVertical?'offsetWidth':'offsetHeight'
$tip.offset(offset)
this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)}
Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?'left':'top',50*(1-delta/dimension)+'%').css(isVertical?'top':'left','')}
Tooltip.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')}
Tooltip.prototype.hide=function(callback){var that=this
var $tip=$(this.$tip)
var e=$.Event('hide.bs.'+this.type)
function complete(){if(that.hoverState!='in')$tip.detach()
if(that.$element){that.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+that.type)}
callback&&callback()}
this.$element.trigger(e)
if(e.isDefaultPrevented())return
$tip.removeClass('in')
$.support.transition&&$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()
this.hoverState=null
return this}
Tooltip.prototype.fixTitle=function(){var $e=this.$element
if($e.attr('title')||typeof $e.attr('data-original-title')!='string'){$e.attr('data-original-title',$e.attr('title')||'').attr('title','')}}
Tooltip.prototype.hasContent=function(){return this.getTitle()}
Tooltip.prototype.getPosition=function($element){$element=$element||this.$element
var el=$element[0]
var isBody=el.tagName=='BODY'
var elRect=el.getBoundingClientRect()
if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}
var isSvg=window.SVGElement&&el instanceof window.SVGElement
var elOffset=isBody?{top:0,left:0}:(isSvg?null:$element.offset())
var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()}
var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null
return $.extend({},elRect,scroll,outerDims,elOffset)}
Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=='bottom'?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=='top'?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=='left'?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}
Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0}
if(!this.$viewport)return delta
var viewportPadding=this.options.viewport&&this.options.viewport.padding||0
var viewportDimensions=this.getPosition(this.$viewport)
if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll
var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight
if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding
var rightEdgeOffset=pos.left+viewportPadding+actualWidth
if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}
return delta}
Tooltip.prototype.getTitle=function(){var title
var $e=this.$element
var o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title}
Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1000000)
while(document.getElementById(prefix))
return prefix}
Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template)
if(this.$tip.length!=1){throw new Error(this.type+' `template` option must consist of exactly 1 top-level element!')}}
return this.$tip}
Tooltip.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow'))}
Tooltip.prototype.enable=function(){this.enabled=true}
Tooltip.prototype.disable=function(){this.enabled=false}
Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled}
Tooltip.prototype.toggle=function(e){var self=this
if(e){self=$(e.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions())
$(e.currentTarget).data('bs.'+this.type,self)}}
if(e){self.inState.click=!self.inState.click
if(self.isInStateTrue())self.enter(self)
else self.leave(self)}else{self.tip().hasClass('in')?self.leave(self):self.enter(self)}}
Tooltip.prototype.destroy=function(){var that=this
clearTimeout(this.timeout)
this.hide(function(){that.$element.off('.'+that.type).removeData('bs.'+that.type)
if(that.$tip){that.$tip.detach()}
that.$tip=null
that.$arrow=null
that.$viewport=null
that.$element=null})}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tooltip')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tooltip
$.fn.tooltip=Plugin
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.noConflict=function(){$.fn.tooltip=old
return this}}(jQuery);+function($){'use strict';var Popover=function(element,options){this.init('popover',element,options)}
if(!$.fn.tooltip)throw new Error('Popover requires tooltip.js')
Popover.VERSION='3.3.7'
Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)
Popover.prototype.constructor=Popover
Popover.prototype.getDefaults=function(){return Popover.DEFAULTS}
Popover.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
var content=this.getContent()
$tip.find('.popover-title')[this.options.html?'html':'text'](title)
$tip.find('.popover-content').children().detach().end()[this.options.html?(typeof content=='string'?'html':'append'):'text'](content)
$tip.removeClass('fade top bottom left right in')
if(!$tip.find('.popover-title').html())$tip.find('.popover-title').hide()}
Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()}
Popover.prototype.getContent=function(){var $e=this.$element
var o=this.options
return $e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)}
Popover.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.arrow'))}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.popover')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.popover
$.fn.popover=Plugin
$.fn.popover.Constructor=Popover
$.fn.popover.noConflict=function(){$.fn.popover=old
return this}}(jQuery);+function($){'use strict';function ScrollSpy(element,options){this.$body=$(document.body)
this.$scrollElement=$(element).is(document.body)?$(window):$(element)
this.options=$.extend({},ScrollSpy.DEFAULTS,options)
this.selector=(this.options.target||'')+' .nav li > a'
this.offsets=[]
this.targets=[]
this.activeTarget=null
this.scrollHeight=0
this.$scrollElement.on('scroll.bs.scrollspy',$.proxy(this.process,this))
this.refresh()
this.process()}
ScrollSpy.VERSION='3.3.7'
ScrollSpy.DEFAULTS={offset:10}
ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)}
ScrollSpy.prototype.refresh=function(){var that=this
var offsetMethod='offset'
var offsetBase=0
this.offsets=[]
this.targets=[]
this.scrollHeight=this.getScrollHeight()
if(!$.isWindow(this.$scrollElement[0])){offsetMethod='position'
offsetBase=this.$scrollElement.scrollTop()}
this.$body.find(this.selector).map(function(){var $el=$(this)
var href=$el.data('target')||$el.attr('href')
var $href=/^#./.test(href)&&$(href)
return($href&&$href.length&&$href.is(':visible')&&[[$href[offsetMethod]().top+offsetBase,href]])||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0])
that.targets.push(this[1])})}
ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset
var scrollHeight=this.getScrollHeight()
var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height()
var offsets=this.offsets
var targets=this.targets
var activeTarget=this.activeTarget
var i
if(this.scrollHeight!=scrollHeight){this.refresh()}
if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}
if(activeTarget&&scrollTop<offsets[0]){this.activeTarget=null
return this.clear()}
for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(offsets[i+1]===undefined||scrollTop<offsets[i+1])&&this.activate(targets[i])}}
ScrollSpy.prototype.activate=function(target){this.activeTarget=target
this.clear()
var selector=this.selector+'[data-target="'+target+'"],'+
this.selector+'[href="'+target+'"]'
var active=$(selector).parents('li').addClass('active')
if(active.parent('.dropdown-menu').length){active=active.closest('li.dropdown').addClass('active')}
active.trigger('activate.bs.scrollspy')}
ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,'.active').removeClass('active')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.scrollspy')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.scrollspy',(data=new ScrollSpy(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.scrollspy
$.fn.scrollspy=Plugin
$.fn.scrollspy.Constructor=ScrollSpy
$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old
return this}
$(window).on('load.bs.scrollspy.data-api',function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this)
Plugin.call($spy,$spy.data())})})}(jQuery);+function($){'use strict';var Tab=function(element){this.element=$(element)}
Tab.VERSION='3.3.7'
Tab.TRANSITION_DURATION=150
Tab.prototype.show=function(){var $this=this.element
var $ul=$this.closest('ul:not(.dropdown-menu)')
var selector=$this.data('target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
if($this.parent('li').hasClass('active'))return
var $previous=$ul.find('.active:last a')
var hideEvent=$.Event('hide.bs.tab',{relatedTarget:$this[0]})
var showEvent=$.Event('show.bs.tab',{relatedTarget:$previous[0]})
$previous.trigger(hideEvent)
$this.trigger(showEvent)
if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented())return
var $target=$(selector)
this.activate($this.closest('li'),$ul)
this.activate($target,$target.parent(),function(){$previous.trigger({type:'hidden.bs.tab',relatedTarget:$this[0]})
$this.trigger({type:'shown.bs.tab',relatedTarget:$previous[0]})})}
Tab.prototype.activate=function(element,container,callback){var $active=container.find('> .active')
var transition=callback&&$.support.transition&&($active.length&&$active.hasClass('fade')||!!container.find('> .fade').length)
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',false)
element.addClass('active').find('[data-toggle="tab"]').attr('aria-expanded',true)
if(transition){element[0].offsetWidth
element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu').length){element.closest('li.dropdown').addClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',true)}
callback&&callback()}
$active.length&&transition?$active.one('bsTransitionEnd',next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next()
$active.removeClass('in')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tab')
if(!data)$this.data('bs.tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tab
$.fn.tab=Plugin
$.fn.tab.Constructor=Tab
$.fn.tab.noConflict=function(){$.fn.tab=old
return this}
var clickHandler=function(e){e.preventDefault()
Plugin.call($(this),'show')}
$(document).on('click.bs.tab.data-api','[data-toggle="tab"]',clickHandler).on('click.bs.tab.data-api','[data-toggle="pill"]',clickHandler)}(jQuery);+function($){'use strict';var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options)
this.$target=$(this.options.target).on('scroll.bs.affix.data-api',$.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',$.proxy(this.checkPositionWithEventLoop,this))
this.$element=$(element)
this.affixed=null
this.unpin=null
this.pinnedOffset=null
this.checkPosition()}
Affix.VERSION='3.3.7'
Affix.RESET='affix affix-top affix-bottom'
Affix.DEFAULTS={offset:0,target:window}
Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
var targetHeight=this.$target.height()
if(offsetTop!=null&&this.affixed=='top')return scrollTop<offsetTop?'top':false
if(this.affixed=='bottom'){if(offsetTop!=null)return(scrollTop+this.unpin<=position.top)?false:'bottom'
return(scrollTop+targetHeight<=scrollHeight-offsetBottom)?false:'bottom'}
var initializing=this.affixed==null
var colliderTop=initializing?scrollTop:position.top
var colliderHeight=initializing?targetHeight:height
if(offsetTop!=null&&scrollTop<=offsetTop)return'top'
if(offsetBottom!=null&&(colliderTop+colliderHeight>=scrollHeight-offsetBottom))return'bottom'
return false}
Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset
this.$element.removeClass(Affix.RESET).addClass('affix')
var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
return(this.pinnedOffset=position.top-scrollTop)}
Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)}
Affix.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return
var height=this.$element.height()
var offset=this.options.offset
var offsetTop=offset.top
var offsetBottom=offset.bottom
var scrollHeight=Math.max($(document).height(),$(document.body).height())
if(typeof offset!='object')offsetBottom=offsetTop=offset
if(typeof offsetTop=='function')offsetTop=offset.top(this.$element)
if(typeof offsetBottom=='function')offsetBottom=offset.bottom(this.$element)
var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom)
if(this.affixed!=affix){if(this.unpin!=null)this.$element.css('top','')
var affixType='affix'+(affix?'-'+affix:'')
var e=$.Event(affixType+'.bs.affix')
this.$element.trigger(e)
if(e.isDefaultPrevented())return
this.affixed=affix
this.unpin=affix=='bottom'?this.getPinnedOffset():null
this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace('affix','affixed')+'.bs.affix')}
if(affix=='bottom'){this.$element.offset({top:scrollHeight-height-offsetBottom})}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.affix')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.affix',(data=new Affix(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.affix
$.fn.affix=Plugin
$.fn.affix.Constructor=Affix
$.fn.affix.noConflict=function(){$.fn.affix=old
return this}
$(window).on('load',function(){$('[data-spy="affix"]').each(function(){var $spy=$(this)
var data=$spy.data()
data.offset=data.offset||{}
if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom
if(data.offsetTop!=null)data.offset.top=data.offsetTop
Plugin.call($spy,data)})})}(jQuery);
;/*!
 * Dropdownhover v1.0.0 (http://bs-dropdownhover.kybarg.com)
 */
+function(o){"use strict";function t(t){return this.each(function(){var e=o(this),r=e.data("bs.dropdownhover"),i=e.data();void 0!==e.data("animations")&&null!==e.data("animations")&&(i.animations=o.isArray(i.animations)?i.animations:i.animations.split(" "));var s=o.extend({},n.DEFAULTS,i,"object"==typeof t&&t);r||e.data("bs.dropdownhover",r=new n(this,s))})}var n=function(t,n){this.options=n,this.$element=o(t);var e=this;this.dropdowns=this.$element.hasClass("dropdown-toggle")?this.$element.parent().find(".dropdown-menu").parent(".dropdown"):this.$element.find(".dropdown"),this.dropdowns.each(function(){o(this).on("mouseenter.bs.dropdownhover",function(t){e.show(o(this).children("a, button"))})}),this.dropdowns.each(function(){o(this).on("mouseleave.bs.dropdownhover",function(t){e.hide(o(this).children("a, button"))})})};n.TRANSITION_DURATION=300,n.DELAY=150,n.TIMEOUT,n.DEFAULTS={animations:["fadeInDown","fadeInRight","fadeInUp","fadeInLeft"]},n.prototype.show=function(t){var e=o(t);window.clearTimeout(n.TIMEOUT),o(".dropdown").not(e.parents()).each(function(){o(this).removeClass("open")});var r=this.options.animations[0];if(!e.is(".disabled, :disabled")){var i=e.parent(),s=i.hasClass("open");if(!s){var d=e.next(".dropdown-menu");i.addClass("open");var a=this.position(d);r="top"==a?this.options.animations[2]:"right"==a?this.options.animations[3]:"left"==a?this.options.animations[1]:this.options.animations[0],d.addClass("animated "+r);var h=o.support.transition&&d.hasClass("animated");h?d.one("bsTransitionEnd",function(){d.removeClass("animated "+r)}).emulateTransitionEnd(n.TRANSITION_DURATION):d.removeClass("animated "+r)}return!1}},n.prototype.hide=function(t){var e=o(t),r=e.parent();n.TIMEOUT=window.setTimeout(function(){r.removeClass("open")},n.DELAY)},n.prototype.position=function(t){var n=o(window);t.css({bottom:"",left:"",top:"",right:""}).removeClass("dropdownhover-top");var e={top:n.scrollTop(),left:n.scrollLeft()};e.right=e.left+n.width(),e.bottom=e.top+n.height();var r=t.offset();r.right=r.left+t.outerWidth(),r.bottom=r.top+t.outerHeight();var i=t.position();i.right=r.left+t.outerWidth(),i.bottom=r.top+t.outerHeight();var s="",d=t.parents(".dropdown-menu").length;if(d)i.left<0?(s="left",t.removeClass("dropdownhover-right").addClass("dropdownhover-left")):(s="right",t.addClass("dropdownhover-right").removeClass("dropdownhover-left")),r.left<e.left?(s="right",t.css({left:"100%",right:"auto"}).addClass("dropdownhover-right").removeClass("dropdownhover-left")):r.right>e.right&&(s="left",t.css({left:"auto",right:"100%"}).removeClass("dropdownhover-right").addClass("dropdownhover-left")),r.bottom>e.bottom?t.css({bottom:"auto",top:-(r.bottom-e.bottom)}):r.top<e.top&&t.css({bottom:-(e.top-r.top),top:"auto"});else{var a=t.parent(".dropdown"),h=a.offset();h.right=h.left+a.outerWidth(),h.bottom=h.top+a.outerHeight(),r.right>e.right&&t.css({left:-(r.right-e.right),right:"auto"}),r.bottom>e.bottom&&h.top-e.top>e.bottom-h.bottom||t.position().top<0?(s="top",t.css({bottom:"100%",top:"auto"}).addClass("dropdownhover-top").removeClass("dropdownhover-bottom")):(s="bottom",t.addClass("dropdownhover-bottom"))}return s};var e=o.fn.dropdownhover;o.fn.dropdownhover=t,o.fn.dropdownhover.Constructor=n,o.fn.dropdownhover.noConflict=function(){return o.fn.dropdownhover=e,this};var r;o(document).ready(function(){o(window).width()>=768&&o('[data-hover="dropdown"]').each(function(){var n=o(this);t.call(n,n.data())})}),o(window).on("resize",function(){clearTimeout(r),r=setTimeout(function(){o(window).width()>=768?o('[data-hover="dropdown"]').each(function(){var n=o(this);t.call(n,n.data())}):o('[data-hover="dropdown"]').each(function(){o(this).removeData("bs.dropdownhover"),o(this).hasClass("dropdown-toggle")?o(this).parent(".dropdown").find(".dropdown").andSelf().off("mouseenter.bs.dropdownhover mouseleave.bs.dropdownhover"):o(this).find(".dropdown").off("mouseenter.bs.dropdownhover mouseleave.bs.dropdownhover")})},200)})}(jQuery);

;(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof exports==="object"){module.exports=factory(require("jquery"));}else{root.bootbox=factory(root.jQuery);}}(this,function init($,undefined){"use strict";var templates={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'>"+"<div class='modal-dialog'>"+"<div class='modal-content'>"+"<div class='modal-body'><div class='bootbox-body'></div></div>"+"</div>"+"</div>"+"</div>",header:"<div class='modal-header'>"+"<h4 class='modal-title'></h4>"+"</div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}};var defaults={locale:"en",backdrop:true,animate:true,className:null,closeButton:true,show:true,container:"body"};var exports={};function _t(key){var locale=locales[defaults.locale];return locale?locale[key]:locales.en[key];}
function processCallback(e,dialog,callback){e.stopPropagation();e.preventDefault();var preserveDialog=$.isFunction(callback)&&callback(e)===false;if(!preserveDialog){dialog.modal("hide");}}
function getKeyLength(obj){var k,t=0;for(k in obj){t++;}
return t;}
function each(collection,iterator){var index=0;$.each(collection,function(key,value){iterator(key,value,index++);});}
function sanitize(options){var buttons;var total;if(typeof options!=="object"){throw new Error("Please supply an object of options");}
if(!options.message){throw new Error("Please specify a message");}
options=$.extend({},defaults,options);if(!options.buttons){options.buttons={};}
options.backdrop=options.backdrop?"static":false;buttons=options.buttons;total=getKeyLength(buttons);each(buttons,function(key,button,index){if($.isFunction(button)){button=buttons[key]={callback:button};}
if($.type(button)!=="object"){throw new Error("button with key "+key+" must be an object");}
if(!button.label){button.label=key;}
if(!button.className){if(total<=2&&index===total-1){button.className="btn-primary";}else{button.className="btn-default";}}});return options;}
function mapArguments(args,properties){var argn=args.length;var options={};if(argn<1||argn>2){throw new Error("Invalid argument length");}
if(argn===2||typeof args[0]==="string"){options[properties[0]]=args[0];options[properties[1]]=args[1];}else{options=args[0];}
return options;}
function mergeArguments(defaults,args,properties){return $.extend(true,{},defaults,mapArguments(args,properties));}
function mergeDialogOptions(className,labels,properties,args){var baseOptions={className:"bootbox-"+className,buttons:createLabels.apply(null,labels)};return validateButtons(mergeArguments(baseOptions,args,properties),labels);}
function createLabels(){var buttons={};for(var i=0,j=arguments.length;i<j;i++){var argument=arguments[i];var key=argument.toLowerCase();var value=argument.toUpperCase();buttons[key]={label:_t(value)};}
return buttons;}
function validateButtons(options,buttons){var allowedButtons={};each(buttons,function(key,value){allowedButtons[value]=true;});each(options.buttons,function(key){if(allowedButtons[key]===undefined){throw new Error("button key "+key+" is not allowed (options are "+buttons.join("\n")+")");}});return options;}
exports.defineLocale=function(name,values){if(values){locales[name]={OK:values.OK,CANCEL:values.CANCEL,CONFIRM:values.CONFIRM};return locales[name];}else{delete locales[name];return null;}};exports.alert=function(){var options;options=mergeDialogOptions("alert",["ok"],["message","callback"],arguments);if(options.callback&&!$.isFunction(options.callback)){throw new Error("alert requires callback property to be a function when provided");}
options.buttons.ok.callback=options.onEscape=function(){if($.isFunction(options.callback)){return options.callback();}
return true;};return exports.dialog(options);};exports.confirm=function(){var options;options=mergeDialogOptions("confirm",["cancel","confirm"],["message","callback"],arguments);options.buttons.cancel.callback=options.onEscape=function(){return options.callback(false);};options.buttons.confirm.callback=function(){return options.callback(true);};if(!$.isFunction(options.callback)){throw new Error("confirm requires a callback");}
return exports.dialog(options);};exports.prompt=function(){var options;var defaults;var dialog;var form;var input;var shouldShow;var inputOptions;form=$(templates.form);defaults={className:"bootbox-prompt",buttons:createLabels("cancel","confirm"),value:"",inputType:"text"};options=validateButtons(mergeArguments(defaults,arguments,["title","callback"]),["cancel","confirm"]);shouldShow=(options.show===undefined)?true:options.show;options.message=form;options.buttons.cancel.callback=options.onEscape=function(){return options.callback(null);};options.buttons.confirm.callback=function(){var value;switch(options.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":value=input.val();break;case"checkbox":var checkedItems=input.find("input:checked");value=[];each(checkedItems,function(_,item){value.push($(item).val());});break;}
return options.callback(value);};options.show=false;if(!options.title){throw new Error("prompt requires a title");}
if(!$.isFunction(options.callback)){throw new Error("prompt requires a callback");}
if(!templates.inputs[options.inputType]){throw new Error("invalid prompt type");}
input=$(templates.inputs[options.inputType]);switch(options.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":input.val(options.value);break;case"select":var groups={};inputOptions=options.inputOptions||[];if(!inputOptions.length){throw new Error("prompt with select requires options");}
each(inputOptions,function(_,option){var elem=input;if(option.value===undefined||option.text===undefined){throw new Error("given options in wrong format");}
if(option.group){if(!groups[option.group]){groups[option.group]=$("<optgroup/>").attr("label",option.group);}
elem=groups[option.group];}
elem.append("<option value='"+option.value+"'>"+option.text+"</option>");});each(groups,function(_,group){input.append(group);});input.val(options.value);break;case"checkbox":var values=$.isArray(options.value)?options.value:[options.value];inputOptions=options.inputOptions||[];if(!inputOptions.length){throw new Error("prompt with checkbox requires options");}
if(!inputOptions[0].value||!inputOptions[0].text){throw new Error("given options in wrong format");}
input=$("<div/>");each(inputOptions,function(_,option){var checkbox=$(templates.inputs[options.inputType]);checkbox.find("input").attr("value",option.value);checkbox.find("label").append(option.text);each(values,function(_,value){if(value===option.value){checkbox.find("input").prop("checked",true);}});input.append(checkbox);});break;}
if(options.placeholder){input.attr("placeholder",options.placeholder);}
if(options.pattern){input.attr("pattern",options.pattern);}
form.append(input);form.on("submit",function(e){e.preventDefault();e.stopPropagation();dialog.find(".btn-primary").click();});dialog=exports.dialog(options);dialog.off("shown.bs.modal");dialog.on("shown.bs.modal",function(){input.focus();});if(shouldShow===true){dialog.modal("show");}
return dialog;};exports.dialog=function(options){options=sanitize(options);var dialog=$(templates.dialog);var innerDialog=dialog.find(".modal-dialog");var body=dialog.find(".modal-body");var buttons=options.buttons;var buttonStr="";var callbacks={onEscape:options.onEscape};if($.fn.modal===undefined){throw new Error("$.fn.modal is not defined; please double check you have included "+"the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ "+"for more details.");}
each(buttons,function(key,button){buttonStr+="<button data-bb-handler='"+key+"' type='button' class='btn "+button.className+"'>"+button.label+"</button>";callbacks[key]=button.callback;});body.find(".bootbox-body").html(options.message);if(options.animate===true){dialog.addClass("fade");}
if(options.className){dialog.addClass(options.className);}
if(options.size==="large"){innerDialog.addClass("modal-lg");}
if(options.size==="small"){innerDialog.addClass("modal-sm");}
if(options.title){body.before(templates.header);}
if(options.closeButton){var closeButton=$(templates.closeButton);if(options.title){dialog.find(".modal-header").prepend(closeButton);}else{closeButton.css("margin-top","-10px").prependTo(body);}}
if(options.title){dialog.find(".modal-title").html(options.title);}
if(buttonStr.length){body.after(templates.footer);dialog.find(".modal-footer").html(buttonStr);}
dialog.on("hidden.bs.modal",function(e){if(e.target===this){dialog.remove();}});dialog.on("shown.bs.modal",function(){dialog.find(".btn-primary:first").focus();});dialog.on("escape.close.bb",function(e){if(callbacks.onEscape){processCallback(e,dialog,callbacks.onEscape);}});dialog.on("click",".modal-footer button",function(e){var callbackKey=$(this).data("bb-handler");processCallback(e,dialog,callbacks[callbackKey]);});dialog.on("click",".bootbox-close-button",function(e){processCallback(e,dialog,callbacks.onEscape);});dialog.on("keyup",function(e){if(e.which===27){dialog.trigger("escape.close.bb");}});$(options.container).append(dialog);dialog.modal({backdrop:options.backdrop,keyboard:false,show:false});if(options.show){dialog.modal("show");}
return dialog;};exports.setDefaults=function(){var values={};if(arguments.length===2){values[arguments[0]]=arguments[1];}else{values=arguments[0];}
$.extend(defaults,values);};exports.hideAll=function(){$(".bootbox").modal("hide");return exports;};var locales={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};exports.init=function(_$){return init(_$||$);};return exports;}));
;!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return g({type:O.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=u(t)),v)}function i(e,t,n){return g({type:O.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){w=e}function s(e,t,n){return g({type:O.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return g({type:O.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var i=m();v||n(i),l(e,i,t)||d(i)}function c(t){var i=m();return v||n(i),t&&0===e(":focus",t).length?void h(t):void(v.children().length&&v.remove())}function d(t){for(var n=v.children(),i=n.length-1;i>=0;i--)l(e(n[i]),t)}function l(t,n,i){var o=i&&i.force?i.force:!1;return t&&(o||0===e(":focus",t).length)?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0):!1}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){w&&w(e)}function g(t){function i(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){r(),d(),l(),u(),p(),c()}function s(){y.hover(b,O),!x.onclick&&x.tapToDismiss&&y.click(w),x.closeButton&&k&&k.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),w(!0)}),x.onclick&&y.click(function(e){x.onclick(e),w()})}function a(){y.hide(),y[x.showMethod]({duration:x.showDuration,easing:x.showEasing,complete:x.onShown}),x.timeOut>0&&(H=setTimeout(w,x.timeOut),q.maxHideTime=parseFloat(x.timeOut),q.hideEta=(new Date).getTime()+q.maxHideTime,x.progressBar&&(q.intervalId=setInterval(D,10)))}function r(){t.iconClass&&y.addClass(x.toastClass).addClass(E)}function c(){x.newestOnTop?v.prepend(y):v.append(y)}function d(){t.title&&(I.append(x.escapeHtml?i(t.title):t.title).addClass(x.titleClass),y.append(I))}function l(){t.message&&(M.append(x.escapeHtml?i(t.message):t.message).addClass(x.messageClass),y.append(M))}function u(){x.closeButton&&(k.addClass("toast-close-button").attr("role","button"),y.prepend(k))}function p(){x.progressBar&&(B.addClass("toast-progress"),y.prepend(B))}function g(e,t){if(e.preventDuplicates){if(t.message===C)return!0;C=t.message}return!1}function w(t){var n=t&&x.closeMethod!==!1?x.closeMethod:x.hideMethod,i=t&&x.closeDuration!==!1?x.closeDuration:x.hideDuration,o=t&&x.closeEasing!==!1?x.closeEasing:x.hideEasing;return!e(":focus",y).length||t?(clearTimeout(q.intervalId),y[n]({duration:i,easing:o,complete:function(){h(y),x.onHidden&&"hidden"!==j.state&&x.onHidden(),j.state="hidden",j.endTime=new Date,f(j)}})):void 0}function O(){(x.timeOut>0||x.extendedTimeOut>0)&&(H=setTimeout(w,x.extendedTimeOut),q.maxHideTime=parseFloat(x.extendedTimeOut),q.hideEta=(new Date).getTime()+q.maxHideTime)}function b(){clearTimeout(H),q.hideEta=0,y.stop(!0,!0)[x.showMethod]({duration:x.showDuration,easing:x.showEasing})}function D(){var e=(q.hideEta-(new Date).getTime())/q.maxHideTime*100;B.width(e+"%")}var x=m(),E=t.iconClass||x.iconClass;if("undefined"!=typeof t.optionsOverride&&(x=e.extend(x,t.optionsOverride),E=t.optionsOverride.iconClass||E),!g(x,t)){T++,v=n(x,!0);var H=null,y=e("<div/>"),I=e("<div/>"),M=e("<div/>"),B=e("<div/>"),k=e(x.closeHtml),q={intervalId:null,hideEta:null,maxHideTime:null},j={toastId:T,state:"visible",startTime:new Date,options:x,map:t};return o(),a(),s(),f(j),x.debug&&console&&console.log(j),y}}function m(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),C=void 0))}var v,w,C,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:c,error:t,getContainer:n,info:i,options:{},subscribe:o,success:s,version:"2.1.2",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});

;!function(t){var e="0.9.3",i={isMsie:function(){var t=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return t?parseInt(t[2],10):!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},bind:t.proxy,bindAll:function(e){var i;for(var n in e)t.isFunction(i=e[n])&&(e[n]=t.proxy(i,e))},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},each:t.each,map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?!1:void 0}),!!n):n},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var r,o,u=this,a=arguments;return r=function(){n=null,i||(s=t.apply(u,a))},o=i&&!n,clearTimeout(n),n=setTimeout(r,e),o&&(s=t.apply(u,a)),s}},throttle:function(t,e){var i,n,s,r,o,u;return o=0,u=function(){o=new Date,s=null,r=t.apply(i,n)},function(){var a=new Date,c=e-(a-o);return i=this,n=arguments,0>=c?(clearTimeout(s),s=null,o=a,r=t.apply(i,n)):s||(s=setTimeout(u,c)),r}},tokenizeQuery:function(e){return t.trim(e).toLowerCase().split(/[\s]+/)},tokenizeText:function(e){return t.trim(e).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},n=function(){var t=/\s+/;return{on:function(e,i){var n;if(!i)return this;for(this._callbacks=this._callbacks||{},e=e.split(t);n=e.shift();)this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push(i);return this},trigger:function(e,i){var n,s;if(!this._callbacks)return this;for(e=e.split(t);n=e.shift();)if(s=this._callbacks[n])for(var r=0;r<s.length;r+=1)s[r].call(this,{type:n,data:i});return this}}}(),s=function(){function e(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n="typeahead:";return i.mixin(e.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(n+t,e)}}),e}(),r=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function e(){return(new Date).getTime()}function n(t){return JSON.stringify(i.isUndefined(t)?null:t)}function s(t){return JSON.parse(t)}var r,o;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(u){r=null}return o=r&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),s(r.getItem(this._prefix(t)))},set:function(t,s,o){return i.isNumber(o)?r.setItem(this._ttlKey(t),n(e()+o)):r.removeItem(this._ttlKey(t)),r.setItem(this._prefix(t),n(s))},remove:function(t){return r.removeItem(this._ttlKey(t)),r.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=r.length;for(t=0;n>t;t++)(e=r.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var n=s(r.getItem(this._ttlKey(t)));return i.isNumber(n)&&e()>n?!0:!1}}:{get:i.noop,set:i.noop,remove:i.noop,clear:i.noop,isExpired:i.noop},i.mixin(t.prototype,o),t}(),o=function(){function t(t){i.bindAll(this),t=t||{},this.sizeLimit=t.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return i.mixin(t.prototype,{get:function(t){return this.cache[t]},set:function(t,e){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]),this.cache[t]=e,this.cachedKeysByAge.push(t)}}),t}(),u=function(){function e(t){i.bindAll(this),t=i.isString(t)?{url:t}:t,a=a||new o,u=i.isNumber(t.maxParallelRequests)?t.maxParallelRequests:u||6,this.url=t.url,this.wildcard=t.wildcard||"%QUERY",this.filter=t.filter,this.replace=t.replace,this.ajaxSettings={type:"get",cache:t.cache,timeout:t.timeout,dataType:t.dataType||"json",beforeSend:t.beforeSend},this._get=(/^throttle$/i.test(t.rateLimitFn)?i.throttle:i.debounce)(this._get,t.rateLimitWait||300)}function n(){c++}function s(){c--}function r(){return u>c}var u,a,c=0,h={};return i.mixin(e.prototype,{_get:function(t,e){function i(i){var s=n.filter?n.filter(i):i;e&&e(s),a.set(t,i)}var n=this;r()?this._sendRequest(t).done(i):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(e){function i(){s(),h[e]=null,r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)}var r=this,o=h[e];return o||(n(),o=h[e]=t.ajax(e,this.ajaxSettings).always(i)),o},get:function(t,e){var n,s,r=this,o=encodeURIComponent(t||"");return e=e||i.noop,n=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(s=a.get(n))?i.defer(function(){e(r.filter?r.filter(s):s)}):this._get(n,e),!!s}}),e}(),a=function(){function n(e){i.bindAll(this),i.isString(e.template)&&!e.engine&&t.error("no template engine specified"),e.local||e.prefetch||e.remote||t.error("one of local, prefetch, or remote is required"),this.name=e.name||i.getUniqueId(),this.limit=e.limit||5,this.minLength=e.minLength||1,this.header=e.header,this.footer=e.footer,this.valueKey=e.valueKey||"value",this.template=s(e.template,e.engine,this.valueKey),this.local=e.local,this.prefetch=e.prefetch,this.remote=e.remote,this.itemHash={},this.adjacencyList={},this.storage=e.name?new r(e.name):null}function s(t,e,n){var s,r;return i.isFunction(t)?s=t:i.isString(t)?(r=e.compile(t),s=i.bind(r.render,r)):s=function(t){return"<p>"+t[n]+"</p>"},s}var o={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return i.mixin(n.prototype,{_processLocalData:function(t){this._mergeProcessedData(this._processData(t))},_loadPrefetchData:function(n){function s(t){var e=n.filter?n.filter(t):t,s=d._processData(e),r=s.itemHash,u=s.adjacencyList;d.storage&&(d.storage.set(o.itemHash,r,n.ttl),d.storage.set(o.adjacencyList,u,n.ttl),d.storage.set(o.thumbprint,p,n.ttl),d.storage.set(o.protocol,i.getProtocol(),n.ttl)),d._mergeProcessedData(s)}var r,u,a,c,h,l,d=this,p=e+(n.thumbprint||"");return this.storage&&(r=this.storage.get(o.thumbprint),u=this.storage.get(o.protocol),a=this.storage.get(o.itemHash),c=this.storage.get(o.adjacencyList)),h=r!==p||u!==i.getProtocol(),n=i.isString(n)?{url:n}:n,n.ttl=i.isNumber(n.ttl)?n.ttl:864e5,a&&c&&!h?(this._mergeProcessedData({itemHash:a,adjacencyList:c}),l=t.Deferred().resolve()):l=t.getJSON(n.url).done(s),l},_transformDatum:function(t){var e=i.isString(t)?t:t[this.valueKey],n=t.tokens||i.tokenizeText(e),s={value:e,tokens:n};return i.isString(t)?(s.datum={},s.datum[this.valueKey]=t):s.datum=t,s.tokens=i.filter(s.tokens,function(t){return!i.isBlankString(t)}),s.tokens=i.map(s.tokens,function(t){return t.toLowerCase()}),s},_processData:function(t){var e=this,n={},s={};return i.each(t,function(t,r){var o=e._transformDatum(r),u=i.getUniqueId(o.value);n[u]=o,i.each(o.tokens,function(t,e){var n=e.charAt(0),r=s[n]||(s[n]=[u]);!~i.indexOf(r,u)&&r.push(u)})}),{itemHash:n,adjacencyList:s}},_mergeProcessedData:function(t){var e=this;i.mixin(this.itemHash,t.itemHash),i.each(t.adjacencyList,function(t,i){var n=e.adjacencyList[t];e.adjacencyList[t]=n?n.concat(i):i})},_getLocalSuggestions:function(t){var e,n=this,s=[],r=[],o=[];return i.each(t,function(t,e){var n=e.charAt(0);!~i.indexOf(s,n)&&s.push(n)}),i.each(s,function(t,i){var s=n.adjacencyList[i];return s?(r.push(s),void((!e||s.length<e.length)&&(e=s))):!1}),r.length<s.length?[]:(i.each(e,function(e,s){var u,a,c=n.itemHash[s];u=i.every(r,function(t){return~i.indexOf(t,s)}),a=u&&i.every(t,function(t){return i.some(c.tokens,function(e){return 0===e.indexOf(t)})}),a&&o.push(c)}),o)},initialize:function(){var e;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new u(this.remote):null,e=this.prefetch?this._loadPrefetchData(this.prefetch):t.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return e},e},getSuggestions:function(t,e){function n(t){r=r.slice(0),i.each(t,function(t,e){var n,s=o._transformDatum(e);return n=i.some(r,function(t){return s.value===t.value}),!n&&r.push(s),r.length<o.limit}),e&&e(r)}var s,r,o=this,u=!1;t.length<this.minLength||(s=i.tokenizeQuery(t),r=this._getLocalSuggestions(s).slice(0,this.limit),r.length<this.limit&&this.transport&&(u=this.transport.get(t,n)),!u&&e&&e(r))}}),n}(),c=function(){function e(e){var n=this;i.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=t(e.hint),this.$input=t(e.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),i.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){n.specialKeyCodeMap[t.which||t.keyCode]||i.defer(n._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=s(this.$input)}function s(e){return t("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t===e}return i.mixin(e.prototype,n,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(t){var e=this.specialKeyCodeMap[t.which||t.keyCode];e&&this.trigger(e+"Keyed",t)},_compareQueryToInputValue:function(){var t=this.getInputValue(),e=r(this.query,t),i=e?this.query.length!==t.length:!1;i?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=t})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),!e&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var t,e=this.$input.val().length,n=this.$input[0].selectionStart;return i.isNumber(n)?n===e:document.selection?(t=document.selection.createRange(),t.moveStart("character",-e),e===t.text.length):!0}}),e}(),h=function(){function e(e){i.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=t(e.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function s(t){return t.data("suggestion")}var r={suggestionsList:'<span class="tt-suggestions"></span>'},o={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return i.mixin(e.prototype,n,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(e){var i=t(e.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),i.addClass("tt-is-under-cursor")},_handleSelection:function(e){var i=t(e.currentTarget);this.trigger("suggestionSelected",s(i))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(t){var e,i,n,r;if(this.isVisible()){if(e=this._getSuggestions(),i=e.filter(".tt-is-under-cursor"),i.removeClass("tt-is-under-cursor"),n=e.index(i)+t,n=(n+1)%(e.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=e.length-1),r=e.eq(n).addClass("tt-is-under-cursor"),this._ensureVisibility(r),this.trigger("cursorMoved",s(r))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(t){var e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),i=this.$menu.scrollTop(),n=t.position().top,s=n+t.outerHeight(!0);0>n?this.$menu.scrollTop(i+n):s>e&&this.$menu.scrollTop(i+(s-e))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){var e={left:"0",right:"auto"},i={left:"auto",right:" 0"};this.$menu.css("ltr"===t?e:i)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var t=this._getSuggestions().filter(".tt-is-under-cursor").first();return t.length>0?s(t):null},getFirstSuggestion:function(){var t=this._getSuggestions().first();return t.length>0?s(t):null},renderSuggestions:function(e,n){var s,u,a,c,h,l="tt-dataset-"+e.name,d='<div class="tt-suggestion">%body</div>',p=this.$menu.find("."+l);0===p.length&&(u=t(r.suggestionsList).css(o.suggestionsList),p=t("<div></div>").addClass(l).append(e.header).append(u).append(e.footer).appendTo(this.$menu)),n.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),a=document.createElement("div"),c=document.createDocumentFragment(),i.each(n,function(i,n){n.dataset=e.name,s=e.template(n.datum),a.innerHTML=d.replace("%body",s),h=t(a.firstChild).css(o.suggestion).data("suggestion",n),h.children().each(function(){t(this).css(o.suggestionChild)}),c.appendChild(h[0])}),p.show().find(".tt-suggestions").html(c)):this.clearSuggestions(e.name),this.trigger("suggestionsRendered")},clearSuggestions:function(t){var e=this.$menu.find(t?".tt-dataset-"+t:'[class^="tt-dataset-"]'),i=e.find(".tt-suggestions");e.hide(),i.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),e}(),l=function(){function e(t){var e,n,r;i.bindAll(this),this.$node=s(t.input),this.datasets=t.datasets,this.dir=null,this.eventBus=t.eventBus,e=this.$node.find(".tt-dropdown-menu"),n=this.$node.find(".tt-query"),r=this.$node.find(".tt-hint"),this.dropdownView=new h({menu:e}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new c({input:n,hint:r}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function s(e){var i=t(o.wrapper),n=t(o.dropdown),s=t(e),r=t(o.hint);i=i.css(u.wrapper),n=n.css(u.dropdown),r.css(u.hint).css({backgroundAttachment:s.css("background-attachment"),backgroundClip:s.css("background-clip"),backgroundColor:s.css("background-color"),backgroundImage:s.css("background-image"),backgroundOrigin:s.css("background-origin"),backgroundPosition:s.css("background-position"),backgroundRepeat:s.css("background-repeat"),backgroundSize:s.css("background-size")}),s.data("ttAttrs",{dir:s.attr("dir"),autocomplete:s.attr("autocomplete"),spellcheck:s.attr("spellcheck"),style:s.attr("style")}),s.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(u.query);try{!s.attr("dir")&&s.attr("dir","auto")}catch(a){}return s.wrap(i).parent().prepend(r).append(n)}function r(t){var e=t.find(".tt-query");i.each(e.data("ttAttrs"),function(t,n){i.isUndefined(n)?e.removeAttr(t):e.attr(t,n)}),e.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t),t.remove()}var o={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},u={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",color:"#fff"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return i.isMsie()&&i.mixin(u.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),i.isMsie()&&i.isMsie()<=7&&(i.mixin(u.wrapper,{display:"inline",zoom:"1"}),i.mixin(u.query,{marginTop:"-1px"})),i.mixin(e.prototype,n,{_managePreventDefault:function(t){var e,i,n=t.data,s=!1;switch(t.type){case"tabKeyed":e=this.inputView.getHintValue(),i=this.inputView.getInputValue(),s=e&&e!==i;break;case"upKeyed":case"downKeyed":s=!n.shiftKey&&!n.ctrlKey&&!n.metaKey}s&&n.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();t!==this.dir&&(this.dir=t,this.$node.css("direction",t),this.dropdownView.setLanguageDirection(t))},_updateHint:function(){var t,e,n,s,r,o=this.dropdownView.getFirstSuggestion(),u=o?o.value:null,a=this.dropdownView.isVisible(),c=this.inputView.isOverflow();u&&a&&!c&&(t=this.inputView.getInputValue(),e=t.replace(/\s{2,}/g," ").replace(/^\s+/g,""),n=i.escapeRegExChars(e),s=new RegExp("^(?:"+n+")(.*$)","i"),r=s.exec(u),this.inputView.setHintValue(t+(r?r[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(t){var e=t.data;this.inputView.setInputValue(e.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView["blured"===t.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(t){var e=t.data;e.shiftKey||e.ctrlKey||e.metaKey||this.dropdownView["upKeyed"===t.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(t){var e="suggestionSelected"===t.type,n=e?t.data:this.dropdownView.getSuggestionUnderCursor();n&&(this.inputView.setInputValue(n.value),e?this.inputView.focus():t.data.preventDefault(),e&&i.isMsie()?i.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",n.datum,n.dataset))},_getSuggestions:function(){var t=this,e=this.inputView.getQuery();i.isBlankString(e)||i.each(this.datasets,function(i,n){n.getSuggestions(e,function(i){e===t.inputView.getQuery()&&t.dropdownView.renderSuggestions(n,i)})})},_autocomplete:function(t){var e,i,n,s,r;("rightKeyed"!==t.type&&"leftKeyed"!==t.type||(e=this.inputView.isCursorAtEnd(),i="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===t.type:"rightKeyed"===t.type,e&&!i))&&(n=this.inputView.getQuery(),s=this.inputView.getHintValue(),""!==s&&n!==s&&(r=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.datum,r.dataset)))},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),r(this.$node),this.$node=null},setQuery:function(t){this.inputView.setQuery(t),this.inputView.setInputValue(t),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),e}();!function(){var e,n={},r="ttView";e={initialize:function(e){function o(){var e,n=t(this),o=new s({el:n});e=i.map(u,function(t){return t.initialize()}),n.data(r,new l({input:n,eventBus:o=new s({el:n}),datasets:u})),t.when.apply(t,e).always(function(){i.defer(function(){o.trigger("initialized")})})}var u;return e=i.isArray(e)?e:[e],0===e.length&&t.error("no datasets provided"),u=i.map(e,function(t){var e=n[t.name]?n[t.name]:new a(t);return t.name&&(n[t.name]=e),e}),this.each(o)},destroy:function(){function e(){var e=t(this),i=e.data(r);i&&(i.destroy(),e.removeData(r))}return this.each(e)},setQuery:function(e){function i(){var i=t(this).data(r);i&&i.setQuery(e)}return this.each(i)}},jQuery.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)}}()}(window.jQuery);;;(function(root,factory){if(typeof define==='function'&&define.amd){define(factory);}else if(typeof exports==='object'){module.exports=factory();}else{root.NProgress=factory();}})(this,function(){var NProgress={};NProgress.version='0.2.0';var Settings=NProgress.settings={minimum:0.08,easing:'ease',positionUsing:'',speed:200,trickle:true,trickleRate:0.02,trickleSpeed:800,showSpinner:true,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:'body',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div><div class="progress-overlay"></div>'};NProgress.configure=function(options){var key,value;for(key in options){value=options[key];if(value!==undefined&&options.hasOwnProperty(key))Settings[key]=value;}
return this;};NProgress.status=null;NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1);NProgress.status=(n===1?null:n);var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;progress.offsetWidth;queue(function(next){if(Settings.positionUsing==='')Settings.positionUsing=NProgress.getPositioningCSS();css(bar,barPositionCSS(n,speed,ease));if(n===1){css(progress,{transition:'none',opacity:1});progress.offsetWidth;setTimeout(function(){css(progress,{transition:'all '+speed+'ms linear',opacity:0});setTimeout(function(){NProgress.remove();next();},speed);},speed);}else{setTimeout(next,speed);}});return this;};NProgress.isStarted=function(){return typeof NProgress.status==='number';};NProgress.start=function(){if(!NProgress.status)NProgress.set(0);var work=function(){setTimeout(function(){if(!NProgress.status)return;NProgress.trickle();work();},Settings.trickleSpeed);};if(Settings.trickle)work();return this;};NProgress.done=function(force){if(!force&&!NProgress.status)return this;return NProgress.inc(0.3+0.5*Math.random()).set(1);};NProgress.inc=function(amount){var n=NProgress.status;if(!n){return NProgress.start();}else{if(typeof amount!=='number'){amount=(1-n)*clamp(Math.random()*n,0.1,0.95);}
n=clamp(n+amount,0,0.994);return NProgress.set(n);}};NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate);};(function(){var initial=0,current=0;NProgress.promise=function($promise){if(!$promise||$promise.state()==="resolved"){return this;}
if(current===0){NProgress.start();}
initial++;current++;$promise.always(function(){current--;if(current===0){initial=0;NProgress.done();}else{NProgress.set((initial-current)/initial);}});return this;};})();NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById('nprogress');addClass(document.documentElement,'nprogress-busy');var progress=document.createElement('div');progress.id='nprogress';progress.innerHTML=Settings.template;var bar=progress.querySelector(Settings.barSelector),perc=fromStart?'-100':toBarPerc(NProgress.status||0),parent=document.querySelector(Settings.parent),spinner;css(bar,{transition:'all 0 linear',transform:'translate3d('+perc+'%,0,0)'});if(!Settings.showSpinner){spinner=progress.querySelector(Settings.spinnerSelector);spinner&&removeElement(spinner);}
if(parent!=document.body){addClass(parent,'nprogress-custom-parent');}
parent.appendChild(progress);return progress;};NProgress.remove=function(){removeClass(document.documentElement,'nprogress-busy');removeClass(document.querySelector(Settings.parent),'nprogress-custom-parent');var progress=document.getElementById('nprogress');progress&&removeElement(progress);};NProgress.isRendered=function(){return!!document.getElementById('nprogress');};NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style;var vendorPrefix=('WebkitTransform'in bodyStyle)?'Webkit':('MozTransform'in bodyStyle)?'Moz':('msTransform'in bodyStyle)?'ms':('OTransform'in bodyStyle)?'O':'';if(vendorPrefix+'Perspective'in bodyStyle){return'translate3d';}else if(vendorPrefix+'Transform'in bodyStyle){return'translate';}else{return'margin';}};function clamp(n,min,max){if(n<min)return min;if(n>max)return max;return n;}
function toBarPerc(n){return(-1+n)*100;}
function barPositionCSS(n,speed,ease){var barCSS;if(Settings.positionUsing==='translate3d'){barCSS={transform:'translate3d('+toBarPerc(n)+'%,0,0)'};}else if(Settings.positionUsing==='translate'){barCSS={transform:'translate('+toBarPerc(n)+'%,0)'};}else{barCSS={'margin-left':toBarPerc(n)+'%'};}
barCSS.transition='all '+speed+'ms '+ease;return barCSS;}
var queue=(function(){var pending=[];function next(){var fn=pending.shift();if(fn){fn(next);}}
return function(fn){pending.push(fn);if(pending.length==1)next();};})();var css=(function(){var cssPrefixes=['Webkit','O','Moz','ms'],cssProps={};function camelCase(string){return string.replace(/^-ms-/,'ms-').replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase();});}
function getVendorProp(name){var style=document.body.style;if(name in style)return name;var i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1),vendorName;while(i--){vendorName=cssPrefixes[i]+capName;if(vendorName in style)return vendorName;}
return name;}
function getStyleProp(name){name=camelCase(name);return cssProps[name]||(cssProps[name]=getVendorProp(name));}
function applyCss(element,prop,value){prop=getStyleProp(prop);element.style[prop]=value;}
return function(element,properties){var args=arguments,prop,value;if(args.length==2){for(prop in properties){value=properties[prop];if(value!==undefined&&properties.hasOwnProperty(prop))applyCss(element,prop,value);}}else{applyCss(element,args[1],args[2]);}}})();function hasClass(element,name){var list=typeof element=='string'?element:classList(element);return list.indexOf(' '+name+' ')>=0;}
function addClass(element,name){var oldList=classList(element),newList=oldList+name;if(hasClass(oldList,name))return;element.className=newList.substring(1);}
function removeClass(element,name){var oldList=classList(element),newList;if(!hasClass(element,name))return;newList=oldList.replace(' '+name+' ',' ');element.className=newList.substring(1,newList.length-1);}
function classList(element){return(' '+(element.className||'')+' ').replace(/\s+/gi,' ');}
function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element);}
return NProgress;});;var LocalStorageHandler=LocalStorageHandler||new function(){var _ls=window.localStorage;this.length=_ls.length;this.minutes=(typeof window.local_storage_expiry!=='undefined')?window.local_storage_expiry:10;this.exist=function(key){try{var cache=JSON.parse(_ls.getItem(key));var now=new Date().getTime();if(typeof cache!=='undefined'&&cache!==null){if(typeof cache.time!=='undefined'&&cache.time!==null&&typeof cache.value!=='undefined'&&cache.value!==null){var diff=(now-cache.time)/1000;diff/=60;var minutes=Math.abs(Math.round(diff));if(minutes<this.minutes){return true;}}
this.remove(key);}
return false;}catch(e){return false;}};this.get=function(key){try{var cache=JSON.parse(_ls.getItem(key));if(this.exist(key)){return cache.value;}}catch(e){return _ls.getItem(key);}};this.set=function(key,val,callback){var data={'value':val,'time':new Date().getTime()};_ls.setItem(key,JSON.stringify(data));if($.isFunction(callback))
callback(val);return this.get(key);};this.key=function(index){if(typeof index==='number'){return _ls.key(index);}};this.data=function(){var i=0;var data=[];while(_ls.key(i)){data[i]=[_ls.key(i),this.get(_ls.key(i))];i++;}
return data.length?data:null;};this.remove=function(keyOrIndex){var result=false;var key=(typeof keyOrIndex==='number')?this.key(keyOrIndex):keyOrIndex;if(key in _ls){result=true;_ls.removeItem(key);}
return result;};this.clear=function(){var len=_ls.length;_ls.clear();return len;};};window.Cookies={set:function(name,value,days,path){var d=new Date();d.setTime(d.getTime()+(days*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=name+"="+value+"; "+expires+";domain="+window.cookie_domain+";path=/";},get:function(name){var name=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')
c=c.substring(1);if(c.indexOf(name)==0)
return c.substring(name.length,c.length);}
return"";},delete:function(name){this.set(name,"",-1);}};var Utils=Utils||new function(){this.empty=function(mixedVar){var undef
var key
var i
var len
var emptyValues=[undef,null,false,0,'','0']
for(i=0,len=emptyValues.length;i<len;i++){if(mixedVar===emptyValues[i]){return true}}
if(typeof mixedVar==='object'){for(key in mixedVar){if(mixedVar.hasOwnProperty(key)){return false}}
return true}
return false};this.str_slug=function(str){str=str.replace(/^\s+|\s+$/g,'');str=str.toLowerCase();var from="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;";var to="aaaaaeeeeiiiioooouuuunc------";for(var i=0,l=from.length;i<l;i++){str=str.replace(new RegExp(from.charAt(i),'g'),to.charAt(i));}
str=str.replace(/[^a-z0-9 -]/g,'').replace(/\s+/g,'-').replace(/-+/g,'-');return str;};this.in_array=function(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)return true;}
return false;};this.array_get=function($array,$key,$default,$split="."){if(!$key||$key===""){return $array;}
if(typeof $array[$key]!=='undefined'){return $array[$key];}
var key_parts=$key.split($split);for(var i=0;i<key_parts.length;i++){var segment=key_parts[i];if($array===null){return $default;}
if(typeof $array==='object'&&typeof $array[segment]==='undefined'){return $default;}
$array=$array[segment];}
return $array;};this.number_format=function(labelValue){return Math.abs(Number(labelValue))>=1.0e+9?Math.abs(Number(labelValue))/1.0e+9+"B":Math.abs(Number(labelValue))>=1.0e+6?Math.abs(Number(labelValue))/1.0e+6+"M":Math.abs(Number(labelValue))>=1.0e+3?Math.abs(Number(labelValue))/1.0e+3+"K":Math.abs(Number(labelValue));};this.money_format=function(val){if(val>=10000000)val=(val/10000000).toFixed(2)+' Cr';else if(val>=100000)val=(val/100000).toFixed(2)+' Lakhs';else if(val>=1000)val=(val/1000).toFixed(2)+' K';return val;};};var JsCssLoad=JsCssLoad||new function(){var loaded_scripts=[];var loaded_styles=[];function loadList(resources,options){options=options||{};var i=0,delayScripts=options.delayScripts||false,scripts=[],resource;for(;i<resources.length;i+=1){resource=resources[i];switch(resource.type&&resource.type.toLowerCase()){case'js':case'javascript':case'script':if(delayScripts===false){loadJs(resource);}else{scripts.push(resource);}
break;case'css':case'stylesheet':loadCss(resource);break;default:console.error('Could not determine type of resource: '+JSON.stringify(resource));}}
if(scripts.length){setTimeout(function(){options.delayScripts=false;loadList(scripts,options);},delayScripts);}}
function loadJs(options){var script=document.createElement('script'),src=options.src||options.path||options.href,cb=options.callback;if(Utils.in_array(src,loaded_scripts)){if(typeof cb==='function'&&options.force_cb===true){cb(null,script);}
return true;}
script.async=!!options.async||false;script.src=src;if(options.attrs){_setAttributes(script,options.attrs)}
if(typeof cb==='function'){var onEnd='onload'in script?_stdOnEnd:_ieOnEnd;onEnd(script,cb);if(!script.onload){_stdOnEnd(script,cb);}}
_getHead().appendChild(script);}
function loadCss(options){var link=document.createElement('link'),href=options.href||options.path||options.src,cb=options.callback;if(Utils.in_array(href,loaded_styles)){if(typeof cb==='function'&&options.force_cb===true){cb(null,link);}
return true;}
loaded_styles.push(href);link.rel='stylesheet';link.href=href;if(options.attrs){_setAttributes(link,options.attrs)}
_getHead().appendChild(link);if(typeof cb==='function'){var img=document.createElement('img');img.onerror=function(e){cb(e,link);};img.onload=function(){cb(null,link);};img.src=href;}}
function _setAttributes(element,attributes){for(var attributeName in attributes){if(attributes.hasOwnProperty(attributeName)){element.setAttribute(attributeName,attributes[attributeName]);}}}
function _stdOnEnd(script,cb){script.onload=function(){this.onerror=this.onload=null;loaded_scripts.push(this.src);cb(null,script);};script.onerror=function(){this.onerror=this.onload=null;cb(new Error('Failed to load '+this.src),script)};}
function _ieOnEnd(script,cb){script.onreadystatechange=function(){if(this.readyState!=='complete'&&this.readyState!=='loaded'){return;}
this.onreadystatechange=null;cb(null,script)}}
function _getHead(){return document.head||document.getElementsByTagName('head')[0];}
this.loadJs=loadJs;this.loadCss=loadCss;this.loadList=loadList;};var LS=LS||new function(){var _ls=window.localStorage;this.length=_ls.length;this.minutes=(typeof window.local_storage_expiry!=='undefined')?window.local_storage_expiry:10;this.exist=function(key){try{var cache=JSON.parse(_ls.getItem(key));var now=new Date().getTime();if(typeof cache!=='undefined'&&cache!==null){if(typeof cache.time!=='undefined'&&cache.time!==null&&typeof cache.value!=='undefined'&&cache.value!==null){var diff=(now-cache.time)/1000;diff/=60;var minutes=Math.abs(Math.round(diff));if(minutes<this.minutes){return true;}}
this.remove(key);}
return false;}catch(e){return false;}};this.get=function(key){try{var cache=JSON.parse(_ls.getItem(key));if(this.exist(key)){return cache.value;}}catch(e){return _ls.getItem(key);}};this.set=function(key,val,callback){var data={'value':val,'time':new Date().getTime()};_ls.setItem(key,JSON.stringify(data));if($.isFunction(callback))
callback(val);return this.get(key);};this.key=function(index){if(typeof index==='number'){return _ls.key(index);}};this.data=function(){var i=0;var data=[];while(_ls.key(i)){data[i]=[_ls.key(i),this.get(_ls.key(i))];i++;}
return data.length?data:null;};this.remove=function(keyOrIndex){var result=false;var key=(typeof keyOrIndex==='number')?this.key(keyOrIndex):keyOrIndex;if(key in _ls){result=true;_ls.removeItem(key);}
return result;};this.clear=function(){var len=_ls.length;_ls.clear();return len;};};var LC=LC||new function(){this._lc={};this.exist=function(key){return this._lc.hasOwnProperty(key)&&typeof this._lc[key]!=='undefined';};this.get=function(key,default_value=null){if(this.exist(key)){return this._lc[key];}
return default_value;};this.set=function(key,val,callback){this._lc[key]=val;if($.isFunction(callback))
callback(val);return this.get(key);};this.data=function(){return this._lc;};this.remove=function(key){if(this.exist(key)){delete this._lc[key];return true;}
return false;};this.clear=function(){this._lc={};};};(function($){$.fn.extend({searchList:function(source,attr,cb){$.searchList(this,source,attr,cb);return this;}});$.extend({searchList:function($this,source,attr,cb){var prev_source=source.clone();var list=prev_source.find('li');if(attr){list=prev_source.find("li*["+attr+"]");if(list.length<=0){list=prev_source.find('li');}}
$this.bind('keyup',function(){var searchString=$(this).val();if(searchString.length>0){var html='<ul class="d-margin-top-5 d-margin-bottom-10 d-font-size-13 d-font-weight-300 d-line-height-2">';var found=[];list.each(function(index,value){var currentName=$(value).html().trim();var dataVal=typeof $(value).data('val')!=='undefined'?$(value).data('val'):'data-val on li not found';if(!Utils.in_array(dataVal,found)&&currentName.toUpperCase().startsWith(searchString.toUpperCase())){html+='<li class="d-display-block d-padding-2 clickable" data-val="'+dataVal+'">'+currentName+'</li>';found.push(dataVal);}});if(found.length<5){list.each(function(index,value){var currentName=$(value).html().trim();var dataVal=typeof $(value).data('val')!=='undefined'?$(value).data('val'):'data-val on li not found';if(!Utils.in_array(dataVal,found)&&currentName.toUpperCase().indexOf(searchString.toUpperCase())>-1){html+='<li class="d-display-block d-padding-2 clickable" data-val="'+dataVal+'">'+currentName+'</li>';found.push(dataVal);}});}
html+="</ul>";source.html(html);}else{source.html(prev_source.html());}
return cb?cb(searchString):true;});}});}(jQuery));(function($){var selectors=[];var checkBinded=false;var checkLock=false;var defaults={interval:250,force_process:false};var $window=$(window);var $priorAppeared=[];function isAppeared(){return $(this).is(':appeared');}
function isNotTriggered(){return!$(this).data('_appear_triggered');}
function process(){checkLock=false;for(var index=0,selectorsLength=selectors.length;index<selectorsLength;index++){var $appeared=$(selectors[index]).filter(isAppeared);$appeared.filter(isNotTriggered).data('_appear_triggered',true).trigger('appear',[$appeared]);if($priorAppeared[index]){var $disappeared=$priorAppeared[index].not($appeared);$disappeared.data('_appear_triggered',false).trigger('disappear',[$disappeared]);}
$priorAppeared[index]=$appeared;}}
function addSelector(selector){selectors.push(selector);$priorAppeared.push();}
$.expr.pseudos.appeared=$.expr.createPseudo(function(_arg){return function(element){var $element=$(element);if(!$element.is(':visible')){return false;}
var windowLeft=$window.scrollLeft();var windowTop=$window.scrollTop();var offset=$element.offset();var left=offset.left;var top=offset.top;if(top+$element.height()>=windowTop&&top-($element.data('appear-top-offset')||0)<=windowTop+$window.height()&&left+$element.width()>=windowLeft&&left-($element.data('appear-left-offset')||0)<=windowLeft+$window.width()){return true;}
return false;};});$.fn.extend({appear:function(selector,options){$.appear(this,options);return this;}});$.extend({appear:function(selector,options){var opts=$.extend({},defaults,options||{});if(!checkBinded){var onCheck=function(){if(checkLock){return;}
checkLock=true;setTimeout(process,opts.interval);};$(window).scroll(onCheck).resize(onCheck);checkBinded=true;}
if(opts.force_process){setTimeout(process,opts.interval);}
addSelector(selector);},force_appear:function(){if(checkBinded){process();return true;}
return false;}});}(jQuery));(function($){$.fn.extend({loading:function(action,text){action=action||'start';var self=$(this);if(action=='start'){if(self.attr("disabled")=="disabled"){return false;}
var loading_text=text||'Loading';self.attr("disabled","disabled");self.attr('data-btn-text',self.html());self.html(`${loading_text}<span class="spinner-border spinner-border-sm"role="status"aria-hidden="true"></span>`);self.addClass('loading');}
if(action=='stop'){var stop_text=text||self.attr('data-btn-text');self.html(stop_text);self.removeClass('loading');self.removeAttr("disabled");}
return this;}});}(jQuery));(function($){$.fn.extend({inputFilter:function(filterType){var self=$(this);self.bind('keypress',function(evt){if(filterType=='text'){var charCode=(evt.which)?evt.which:evt.keyCode
if(charCode>31&&(charCode<65||charCode>90)&&(charCode<97||charCode>122)){if(self.siblings('small').length<1){self.after("<small class='text-danger input-accepts'>This Field Only Accepts Text.</small>");self.siblings('small').show();}else{self.siblings('small').show();}
return false;}
self.siblings('small.input-accepts').remove();return true;}
if(filterType=='numeric'){var charCode=(evt.which)?evt.which:evt.keyCode
if(charCode>31&&(charCode<48||charCode>57)){if(self.siblings('small').length<1){self.after("<small class='text-danger input-accepts'>This Field Only Accepts Number.</small>");self.siblings('small').show();}else{self.siblings('small').show();}
return false;}
self.siblings('small.input-accepts').remove();return true;}
if(filterType=='phone'){self.attr('maxlength',10);var phoneVal=evt.target.value;var phoneRegEx=/^[6-9]\d{9}$/;var phoneResult=phoneRegEx.test(phoneVal);var charCode=(evt.which)?evt.which:evt.keyCode;if(charCode>31&&(charCode<48||charCode>57)){if(self.siblings('small').length<1){self.after("<small class='text-danger input-accepts'>This Field Accepts Only Number.</small>");self.siblings('small').show();}else{self.siblings('small').text('This Field Accepts Only Number.');self.siblings('small').show();}
return false;}
if(phoneResult){self.siblings('small.input-accepts').remove();return true;}else{if(self.siblings('small').length<1){self.after("<small class='text-danger input-accepts'>This Field Starts With 6, 7, 8, 9.</small>");self.siblings('small').show();}else{self.siblings('small').text('This Field Starts With 6, 7, 8, 9.');self.siblings('small').show();}}}
return this;});}});$("input[data-filter]").each(function(){$(this).inputFilter($(this).data('filter'));});}(jQuery));(function($){$.fn.extend({renderCities(el,cities,selected=''){var html='<option></option>';var is_selected=false;for(i=0;i<cities.length;i++){var val=cities[i];if(selected.toLowerCase()===val.toLowerCase()){html+='<option value="'+val+'" selected>'+val+'</option>';is_selected=true;}else{html+='<option value="'+val+'">'+val+'</option>';}};if(is_selected){el.parents(".form-group").addClass("active");}
el.html(html);},cities:function(cities=null,selected=''){var loc=window.Cookies.get('dul')||null;loc=loc?atob(loc):'';selected=selected==''?loc:'';var self=$(this);if(cities==null){if(!LS.exist('all_cities')){$.get("/all_cities?json=1",function(d){if(d.code=='success'){LS.set('all_cities',d.data,function(cities){self.renderCities(self,cities,selected);});}else{throw Error("Error while loading cities");}},'json');return this;}}
cities=cities||LS.get('all_cities');self.renderCities(self,cities,selected);return this;}});}(jQuery));$.fn.serializeObject=function()
{var o={};var a=this.serializeArray();$.each(a,function(){if(o[this.name]){if(!o[this.name].push){o[this.name]=[o[this.name]];}
o[this.name].push(this.value||'');}else{o[this.name]=this.value||'';}});return o;};;var gstRegex=/^([0][1-9]|[1-3][0-9])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[a-zA-Z]{1}[0-9a-zA-Z]{1})+$/;$("body").on('click','.wishlist small',function(event){event.stopPropagation();});var productJSON={};window.Cookies={set:function(name,value,days,path){var d=new Date();d.setTime(d.getTime()+(days*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=name+"="+value+"; "+expires+";domain="+window.cookie_domain+";path=/";},get:function(name){var name=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')
c=c.substring(1);if(c.indexOf(name)==0)
return c.substring(name.length,c.length);}
return"";},delete:function(name){this.set(name,"",-1);}};var DroomApp=DroomApp||new function(){var self=this;this.maxHeight=-1;this.prev_search_city_ajax=null;var reduce_height=0;this.prev_q_val='';this.prev_search_ajax=null;this.cities_loaded=0;var my_requirement_load=0;this.localCache={data:{},remove:function(url){delete self.localCache.data[url];},exist:function(url){return self.localCache.data.hasOwnProperty(url)&&self.localCache.data[url]!==null;},get:function(url){return self.localCache.data[url];},set:function(url,cachedData,callback){self.localCache.remove(url);self.localCache.data[url]=cachedData;if($.isFunction(callback))
callback(cachedData);}};$('#adobe-top-nav-search').click(function(){$(this).parent('#header_search_box').addClass('d-z-index-10');});$('.adobe-top-nav-links').click(function(){$('#header_search_box').removeClass('d-z-index-10');});$(".sideBar ul li.heading.heading_dropdown").click(function(){$(this).next(".dropdown_inner").slideToggle(500);});$('.dropdown_inner li').each(function(){if($(this).hasClass('active')){$(this).parent('div').addClass('dropdown_inner_visible');}});$('.dropdown_inner li a').on('click',function(){$(this).addClass('active')})
this.bind=function(userData){DroomApp.load_js("/themes/common/js/locations.js",function(){$("#main_header_location").locations({name:'mainHeaderLocation',inline:true,saveInCookie:true,onSelect:function(city,plugin,text){if(city){$('.header-location').find('label').eq(0).text(city);}else{$('.header-location').find('label').eq(0).text("Location");}
$('.overlay').addClass('hidden');$(".header-location").removeClass('active');},onManualSelect:function(city){if(typeof DroomAppSearch!="undefined"||typeof DroomBuyPage!="undefined"){location.reload();}}});},{},true);$(".my-requirements-home").on("click",function(){DroomApp.load_js('/themes/beta/js/LocalStorage.js');DroomApp.load_js('/themes/beta/libs/nouislider/nouislider.min.js');DroomApp.load_js('/themes/beta/js/my-requirement/script.js',function(){MyReqHome.bind('myRequirementModal');$("#myRequirementModal").modal('show');},{},true);$('.menu.drm-assist').addClass("hidden");});$('#myRequirementModal').on('shown.bs.modal',function(){$('body').addClass('modal-open');$('.desktop').addClass('modal-open');});$('#myRequirementModal').on('hidden.bs.modal',function(){$('.menu.drm-assist').removeClass("hidden");});$('.assistDragModal').find(".my-requirements-home").on("click",function(){$("#assistDragModal").modal("hide");});$('#buyerModelWindow').on('show.bs.modal',function(){if($(this).find('.lazy-loading').attr("src")==''){var imageSrc=$(this).find('.lazy-loading').attr("data-src");$(this).find('.lazy-loading').attr('src',imageSrc);}});$(document).on('click','.adobe-top-nav-links',function(){window.dispatchEvent(new Event('resize'));})
$(".discovery-carousel-block").owlCarousel({loop:false,nav:true,lazyLoad:true,items:1,margin:20,dots:false,autoplay:false,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],});$('body').on('change','.interested-dropdown',function(){var type=$(this).val();$('.lead_vehicles, .lead_loan_insurance, .lead_certification_services, .lead_automobile_services, .lead_everything_else').addClass('hidden');if(type!=='I Want To Buy'){$('.lead_'+type).removeClass('hidden');if(type=='vehicles'){$('.leadcondition').removeClass('hidden');$('.leadmmyt').removeClass('hidden');}else{$('.leadcondition').addClass('hidden');$('.leadmmyt').addClass('hidden');}}});$('body').on('click','.lead_additional_details',function(e){e.preventDefault();if($('.popup_lead_id').val()==''){var name=$('.buyer-model-main').find('.leadname').val();var mobile_phone=$('.lead_mobile_phone').val();var category=$('.categories-dropdown :selected').val();var location=$('.locations-dropdown :selected').val();var condition=$('.leadcondition input[name="lead-condition"]:checked').val();$(".form-group").find('.text-error').html('');$(".form-group").find('.text-error').addClass('hidden');var isError=0;var errorStr='';var inlineError=[];var new_is_error=0;var new_err_str='';if(name===''){isError++;errorStr+='The name field is required<br>';inlineError['name']='The name field is required';}else{$('input[name="name"]').closest('.form-group').find('.text-danger').addClass('hidden');}
var isValidPhone=validatedPhone(mobile_phone);if(isValidPhone!="true"){isError++;errorStr+=isValidPhone+'<br>';inlineError['phonenumber']=isValidPhone;}else{$('input[name="phonenumber"]').closest('.form-group').find('.text-danger').addClass('hidden');}
if(isError>0){if(errorStr!=''){var errorText='Error';if(isError>1)
errorText='Errors';if(isError>0){new_is_error++;new_err_str+=errorStr;}
if(new_is_error>0);{var errorArr=new_err_str.split('<br>');var errorStr='';if(errorArr.length>2){for(i=1;i<errorArr.length;i++){errorStr+=i+'. '+errorArr[i-1]+'<br>';}}else{errorStr+=errorArr[0]+'<br>';}
for(var key in inlineError){$('input[name="'+key+'"]').closest('.form-group').addClass('invalid');$('input[name="'+key+'"]').closest('.form-group').find('.text-danger').html(inlineError[key]);$('input[name="'+key+'"]').closest('.form-group').find('.text-danger').removeClass('hidden');}}}
return false;}
var tab=$('.interested-dropdown :selected').val();var category='';var offerings='';var selection='';var errorkey='';if(tab=='vehicles'){category=$('.categories-dropdown :selected').html();errorkey='categories-dropdown';}else if(tab=='loan_insurance'){category=$('.loans-dropdown :selected').val();errorkey='loans-dropdown';}else if(tab=='certification_services'){category=$('.certifications-dropdown :selected').val();selection=$('.certifications-dropdown :selected').val();errorkey='certifications-dropdown';}else if(tab=='automobile_services'){category=$('.automobiles-dropdown :selected').val();errorkey='automobiles-dropdown';}else if(tab=='everything_else'){category=$('.everything-else-dropdown :selected').val();offerings=$('.everything-else-dropdown :selected').val();errorkey='everything-else-dropdown';}
if(tab==="I Want To Buy"){$('.interested-dropdown').closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.interested-dropdown').closest('.form-group').find('.text-danger').addClass('hidden');}
if(category==="Select a Category"||category==="Select a Service"||category==="Select a Report"){$('.'+errorkey).closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.'+errorkey).closest('.form-group').find('.text-danger').addClass('hidden');}
if(location==="Select Location"){$('.locations-dropdown').closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.locations-dropdown').closest('.form-group').find('.text-danger').addClass('hidden');}
$.ajax({url:"/leads-popup-data",type:"POST",data:{name:name,mobile_phone:mobile_phone,category:category,location:location,condition:condition},dataType:"json",success:function(d){if(d.code=='success'){$('.popup_lead_id').val(d.data._id);}else{DroomApp.show_msg(d.error,'error',5000);}}});}
$('.lead_additional_data').removeClass('hidden');$('.lead_basic_details').addClass('hidden');});$('body').on('click','.buyermodelbutton',function(){var name=$('.buyer-model-main').find('.leadname').val();var mobile_phone=$('.lead_mobile_phone').val();var tab=$('.interested-dropdown :selected').val();var category='';var offerings='';var selection='';var errorkey='';if(tab=='vehicles'){category=$('.categories-dropdown :selected').html();errorkey='categories-dropdown';}else if(tab=='loan_insurance'){category=$('.loans-dropdown :selected').val();errorkey='loans-dropdown';}else if(tab=='certification_services'){category=$('.certifications-dropdown :selected').val();selection=$('.certifications-dropdown :selected').val();errorkey='certifications-dropdown';}else if(tab=='automobile_services'){category=$('.automobiles-dropdown :selected').val();errorkey='automobiles-dropdown';}else if(tab=='everything_else'){category=$('.everything-else-dropdown :selected').val();offerings=$('.everything-else-dropdown :selected').val();errorkey='everything-else-dropdown';}
var location=$('.locations-dropdown :selected').val();var condition=$('.leadcondition input[name="lead-condition"]:checked').val();$(".form-group").find('.text-error').html('');$(".form-group").find('.text-error').addClass('hidden');var isError=0;var errorStr='';var inlineError=[];var new_is_error=0;var new_err_str='';if(name===''){isError++;errorStr+='The name field is required<br>';inlineError['name']='The name field is required';}else{$('input[name="name"]').closest('.form-group').find('.text-danger').addClass('hidden');}
var isValidPhone=validatedPhone(mobile_phone);if(isValidPhone!="true"){isError++;errorStr+=isValidPhone+'<br>';inlineError['phonenumber']=isValidPhone;}else{$('input[name="phonenumber"]').closest('.form-group').find('.text-danger').addClass('hidden');}
if(isError>0){if(errorStr!=''){var errorText='Error';if(isError>1)
errorText='Errors';if(isError>0){new_is_error++;new_err_str+=errorStr;}
if(new_is_error>0);{var errorArr=new_err_str.split('<br>');var errorStr='';if(errorArr.length>2){for(i=1;i<errorArr.length;i++){errorStr+=i+'. '+errorArr[i-1]+'<br>';}}else{errorStr+=errorArr[0]+'<br>';}
for(var key in inlineError){$('input[name="'+key+'"]').closest('.form-group').addClass('invalid');$('input[name="'+key+'"]').closest('.form-group').find('.text-danger').html(inlineError[key]);$('input[name="'+key+'"]').closest('.form-group').find('.text-danger').removeClass('hidden');}}}
return false;}
if(tab==="I Want To Buy"){$('.interested-dropdown').closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.interested-dropdown').closest('.form-group').find('.text-danger').addClass('hidden');}
if(category==="Select a Category"||category==="Select a Service"||category==="Select a Report"){$('.'+errorkey).closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.'+errorkey).closest('.form-group').find('.text-danger').addClass('hidden');}
if(location==="Select Location"){$('.locations-dropdown').closest('.form-group').find('.text-danger').removeClass('hidden');return false;}else{$('.locations-dropdown').closest('.form-group').find('.text-danger').addClass('hidden');}
$('.buyermodelbutton').attr('disabled',true);$.ajax({url:"/leads-popup-data",type:"POST",data:{tab:tab,name:name,mobile_phone:mobile_phone,category:category,offerings:offerings,selection:selection,location:location,condition:condition},dataType:"json",success:function(d){if(d.code=='success'){DroomApp.show_msg(d.message,'message',5000);$('.popup_lead_id').val(d.data._id);$('#buyerModelWindow').modal('hide');}else{DroomApp.show_msg(d.error,'error',5000);}}});$('.buyermodelbutton').attr('disabled',false);return false;});function validatedPhone(phone){if(phone==''){return'The phone number field is required';}else if(phone.length<10){return'The phone number must be at least 10 digits';}else if(parseInt(phone.charAt(0))<6){return'Please enter valid phone number';}else{return"true";}
return"true";}
$('body').on('click','.buyermodelbuttonadditional',function(){var mmyt=$('.buyer-model-main').find('.lead-mmyt').val();var whenToBuy=$('.when-to-buy :selected').val();var lead_id=$('.popup_lead_id').val();var is_autoloan=0;var is_insurance=0;if($('.used-new-filter input[name="lead-auto-loan"]:checked')){is_autoloan=1;}
if($('.used-new-filter input[name="lead-insurance"]:checked')){is_insurance=1;}
$.ajax({url:"/update-leads-popup-data",type:"POST",data:{mmyt:mmyt,whenToBuy:whenToBuy,is_autoloan:is_autoloan,is_insurance:is_insurance,lead_id:lead_id},dataType:"json",success:function(d){if(d.code=='success'){DroomApp.show_msg(d.message,'message',5000);data=d.data;$('.popup_lead_id').val('');$('#buyerModelWindow').modal('hide');}else{DroomApp.show_msg(d.error,'error',5000);}}});return false;});$("body").on('keyup keydown',"#auto-suggest-mmyt",function(e){switch(e.which){case 40:e.preventDefault();var val=$(this).val();$(this).focus().val('').val(val);$("#mmyt_autosuggest_list").find('li:not(:last-child).selected').removeClass('selected').next().addClass('selected');break;case 38:e.preventDefault();var val=$(this).val();$(this).focus().val('').val(val);$("#mmyt_autosuggest_list").find('li:not(:first-child).selected').removeClass('selected').prev().addClass('selected');break;case 13:var mmyt_str=$("#mmyt_autosuggest_list").find("li.selected a").text();if(mmyt_str!==undefined){$("#auto-suggest-mmyt").val(mmyt_str.trim());$("#mmyt_autosuggest_list").hide();}
break;default:self.load_autosuggest();break;}});this.prev_q_val=null;this.load_autosuggest=function(){var data={};var q=$('#auto-suggest-mmyt').val();if(q.length<=0){$("#mmyt_autosuggest_list").show().html(self.popular_searches);return false;}
if(self.prev_q_val==q){return false;}
self.prev_q_val=q;data['q']=q;data['dashboard']=q;data['root_category_id']=$('.categories-dropdown :selected').val();data['category_name']=$('.categories-dropdown :selected').text();self.prev_search_ajax=$.ajax({type:"GET",url:base_url+"/core/mmytautosuggest.php?"+$.param(data),beforeSend:function(){$("#mmyt_autosuggest_list").show().html("<div class='loader'><i class='fa fa-cog fa-spin'></i></div>");},success:function(d){prev_search_ajax=null;if(d.length>0){$("#mmyt_autosuggest_list").show().html(d);}}});}
$("body").on("click",".js-mmyt-str",function(e){$("#auto-suggest-mmyt").val($(this).text().trim());$("#mmyt_autosuggest_list").hide();});self.bind_ad_campain();if(userData!=='false'){self.load_user_data();}
self.image_after_load();$('#msgModal').modal('show');setTimeout(function(){$('#msgModal').modal('hide');},4000);var nav_header=$("#nav_header").html();$("#category_html").html(nav_header);$(".nav-main-tabs").on('mouseover',function(){if($(this).find('.nav[role="sub"]')){$(this).css("background-color",'#f1f5fa');$('.nav-main-tabs').not(this).css("background-color",'white');}});$("#category_html").mouseleave(function(){$('.nav-main-tabs').css("background-color",'white');});$("body").on("click",".dropdown.custom",function(e){var dropdown_btn=$(this);if(dropdown_btn.find(".menu").length<=0){return false;}
var overlay=$("body").find(".overlay");if(dropdown_btn.hasClass("active")){dropdown_btn.removeClass('active');overlay.addClass("hidden");}else{$(".dropdown.custom").removeClass('active');dropdown_btn.addClass('active');overlay.removeClass("hidden");}});$('body').on('click',"header.header .dropdown.custom",function(){$("body").find('.overlay').css('top','54px');});$("body").on("click",".user-details-account",function(e){var dropdown_btn=$("#user_details");if(dropdown_btn.find(".menu").length<=0){return false;}
var overlay=$("body").find(".overlay");if(dropdown_btn.hasClass("active")){dropdown_btn.removeClass('active');overlay.addClass("hidden");}else{$(".dropdown.custom").removeClass('active');dropdown_btn.addClass('active');overlay.removeClass("hidden");}});$('body').on("click",".dropdown.custom .menu *",function(e){e.stopPropagation();});$("body").on("click",".overlay",function(){$(".dropdown.custom").removeClass('active').removeClass('show');$(".dropup.custom").removeClass('active').removeClass('show');$(this).addClass('hidden');$('#header_search_box').removeClass("active");$("#main_search_results").hide();$("body").find('.overlay').css('top','0px');$("body").removeClass('disable-scroll');if($('.header[role="global"]').find('.categoryBtn').hasClass('active')){$('.header[role="global"]').find('.categoryBtn').removeClass("active");}});$("body").on('mouseover','.nav[role="category"]',function(){$('.nav[role="category"]').addClass("active");$("body").find('.overlay').removeClass("hidden");$("#nav_category_button").addClass('active');});$("body").on('mouseover','.header[role="global"] .nav[role="category"]',function(){$('.header[role="global"]').find('.categoryBtn').addClass('active');});$("body").on('mouseout','.nav[role="category"]',function(){$('.nav[role="category"]').removeClass("active");$("body").find('.overlay').addClass("hidden");$("#nav_category_button").removeClass('active');$('.header[role="global"]').find('.categoryBtn').removeClass('active');});$('body').on('click','.stickyBtnFooter',function(){$('.stickyBtnFooter').removeClass('active');$(this).addClass('active');})
$("body").on('click','#header_category_button',function(){$('.header[role="global"]').find('.categoryBtn').toggleClass("active");$("body").find('.overlay').removeClass("hidden");});$("body").on('click','#nav_category_button',function(){$(this).toggleClass('active');if($(this).hasClass('active')){$('.header[role="global"]').find('.categoryBtn').addClass('active');$("body").find('.overlay').removeClass("hidden");}else{$('.header[role="global"]').find('.categoryBtn').removeClass('active');$("body").find('.overlay').addClass("hidden");}});$("body").on('mouseover','.nav[role="category"] > li',function(){if($(this).find('.nav[role="sub"]')){var sub_menu=$(this).find('.nav[role="sub"]');if(sub_menu.find('.banner').find('img')){if(sub_menu.find('.banner').find('a').length>1){banner=sub_menu.find('.banner').find('a');$.each(banner,function(key,val){var img=banner[key].attributes['data-src'].value;var banner_alt=banner[key].attributes['data-alt'].value;if(banner[key].innerHTML==''&&img!=''){var img='<img src="'+img+'" alt="'+banner_alt+'" />';banner[key].innerHTML=img;}});}else{var banner=sub_menu.find('.banner').find('a').data('src');var banner_alt=sub_menu.find('.banner').find('a').data('alt');if(sub_menu.find('.banner').find('a').html()==''&&banner!=''){var img='<img src="'+banner+'" alt="'+banner_alt+'" />';sub_menu.find('.banner').find('a').html(img);}}}}
var navHeight=$('.nav[role="category"]').height();if(navHeight>316){$('.nav[role="sub"] .banner').css('height',navHeight);$('.nav[role="sub"] .banner.one img').css('height',navHeight);$('.nav[role="sub"] .banner.two img').css('height',(navHeight/2));}});$('#tvcModal').on('shown.bs.modal',function(){$(this).find('.embed-tvc').append('<iframe src="https://www.youtube.com/embed/keY9oD9jehE" frameborder="0" allowfullscreen></iframe>');});$("#tvcModal").on('hidden.bs.modal',function(){$('#tvcModal').find('.embed-tvc').empty();});$('#dropoutModal').on('shown.bs.modal',function(){$(this).find('.embed-dropout').append('<iframe src="https://www.youtube.com/embed/vThhDU7B-1c" frameborder="0" allowfullscreen></iframe>')});$("#dropoutModal").on('hidden.bs.modal',function(){$('#dropoutModal').find('.embed-dropout').empty();});self.fixedHeader(".header[role='global']",1);$('.droom-assist-chat > a').click(function(e){$('.droom-assist-chat .dropup').toggleClass('show');$('.overlay').toggleClass('hidden');});$("#carousel-wishlist").carousel();$("body").on('keyup',"[name='search_city']",function(e){self.find_cities();});$("body").on('keyup',"[name='wg_search_city1']",function(e){self.wg_find_cities();});$("body").on('click',".locate_me_btn",function(e){$(".detect-location .error-span").addClass('hide');self.get_location();setTimeout(function(){$('.locate_me_btn').text('Detect My Location')},10000);});$("body").on('click',".reset",function(e){$(".detect-location .error-span").addClass('hide');self.locate_me_city("");});$('body').on('mouseover','.header-location',function(){});var offset=150;var duration=500;$(window).scroll(function(){if($(this).scrollTop()>offset){$('a.scroll-top').fadeIn(duration).css('right','1px');}else{$('a.scroll-top').fadeOut(duration).css('right','-61px');}});$('a.scroll-top').click(function(event){event.preventDefault();$('html, body').animate({scrollTop:0},duration);return false;})
$('a[data-slide="next"]').click(function(){$('#carousel-wishlist').carousel('next');});self.render_wishlist();var is_menu_open=0;$('#category-drop').click(function(){$(this).parent().find('.dropdown-menu').toggleClass('active-menu');if(is_menu_open==0){$.ajax({url:"/left_menu",type:"GET",dataType:"json",success:function(d){if(d.status){$("#menu_buying_count").text(d.data.buying);$("#menu_selling_count").text(d.data.selling);$("#menu_watching_count").text(d.data.watching);if(d.data.expiry_date!=""){$("#expiry_date").text("Expiring on "+d.data.expiry_date);}
is_menu_open=1;}}});}});$('.mobile-overlay').click(function(){if($('.dropdown-menu').hasClass('active-menu'))$('.dropdown-menu').removeClass('active-menu');});$(".countdown").each(function(){var ts=(new Date()).getTime()+($(this).data('time'))*1000;$(this).countdown({timestamp:ts});});$('[data-toggle="tooltip"]').tooltip();self.initialFlexHieght();$(window).scroll(function(){if(self.reduce_height==1){self.initialFlexHieght(1);self.reduce_height=0;}else{self.initialFlexHieght();}});$(':input[type=number]').on('mousewheel',function(e){$(this).blur();});$("body").on('mouseover','header.header .dropdown.sell, header.header .dropdown#user_details',function(){$('.overlay').removeClass('hidden');$(this).find('.menu').show();$(this).closest('header.header').addClass('active');});$("body").on('mouseleave','header.header .dropdown.assist, header.header .dropdown.sell, header.header .dropdown#user_details',function(){$('.overlay').addClass('hidden');$(this).find('.menu').hide();$('header.header').removeClass('active');});$("body").on("click",".locate_me_city li span",function(){self.locate_me_city($(this).text());});$("body").on("click","header .header-location",function(){$('[name="search_city"]').val('');$('.search-location-result').hide();$(".search-location-result").html("");$('#all_cities_loc').show();});$("#mmyt-control").on('keyup',function(){if($(this).val()!=''){$(this).closest('.form').find('.btn').removeClass('disabled');$(this).closest('.form').find('.search-mmyt').addClass('active');$(this).closest('.form').find('.search-mmyt .menu').addClass('active');$(this).closest('.form').find('.search-mmyt .form-control').focus();}else{$(this).closest('.form').find('.btn').addClass('disabled');$(this).closest('.form').find('.search-mmyt').removeClass('active');$(this).closest('.form').find('.search-mmyt .menu').removeClass('active');}});$('body').on('click','.dashboard-modal .modal-body .form .search-mmyt .menu ul li',function(){var listVal=$(this).text();$('#search-mmyt-control').val(listVal);$(this).closest('.search-mmyt .menu').removeClass('active');});$('body').find('.form-group.floating-group .form-control').each(function(){if($(this).val()==''){$(this).closest('.form-group').removeClass('active');}else{$(this).closest('.form-group').addClass('active');}});$('body').on('change keyup click','.form-group.floating-group .form-control',function(){if($(this).val()==''){$(this).closest('.form-group').removeClass('active');}else{$(this).closest('.form-group').addClass('active');}});$('body').on('change','.custom-control input[name="transaction_type"]',function(){if(this.value=='b'){$('.used-text-update').text('');$('.used-text-update-from').text('From');}
else if(this.value=='s'){$('.used-text-update, .used-text-update-from').text('To');}else{}});if($('.gs_time_slot').length>0){$('.gs_time_slot').datetimepicker({minDate:moment().startOf('hour').add(4,'hour'),});}
$(".germ_shield_buy_btn").on('click',function(){var $this=$(this);var text=$($this).text();if(text=='Book Now'){$(".germ_shield_buy_btn").text('Book Now');$($this).text('Hide');}
if(text=='Hide'){$(".germ_shield_buy_btn").text('Book Now');}
$(".book-your-facility").collapse('hide');});$(".jumpstart_buy_btn").on('click',function(){var $this=$(this);var text=$($this).text();if(text=='Book Now'){$(".jumpstart_buy_btn").text('Book Now');$($this).text('Hide');}
if(text=='Hide'){$(".jumpstart_buy_btn").text('Book Now');}
$(".book-your-jfacility").collapse('hide');});$(".germ_shield_add_to_cart").on('submit',function(){$(".facilities_error").addClass('hidden');$(".facilitiesbuiltup_error").addClass('hidden');var $this=$(this);var category=$this.data('category');var pincode=$this.find("input[name='pincode']").val();var address=$this.find("input[name='address']").val();var built_up=$this.find("input[name='built_up_area']").val();var time_slot=$this.find("input[name='date']").val();var btn=$this.find("[type=submit]");var sprice=$this.find("input[name='unit_price']").val();if(sprice!=undefined&&sprice!=''&&sprice!='0'&&sprice!='NAN'){var booking_amount=parseInt(built_up)*parseInt(sprice);var listid=$this.find("input[name='price']").val();$("#price_"+listid).val(booking_amount);}
else{var listid=$this.find("input[name='listing_id']").val();}
if(category=='1511'){if(!pincode){btn.closest('.facilities_error').removeClass('hidden');return false}}else if(category=='1521'){if(!built_up||!address||!pincode||!time_slot){$('.facilities_error').removeClass('hidden');return false;}
if(built_up<100){$('.facilitiesbuiltup_error').removeClass('hidden');return false;}}
else{if(!address||!pincode||!time_slot){$('.facilities_error').removeClass('hidden');return false;}}
$.ajax({type:"post",url:"/check-germshield-pincode",dataType:"JSON",data:{pincode:pincode,page_type:'germshield'},success:function(d){if(d.code=='success'){$.ajax({type:"POST",url:"/add_to_cart",dataType:"JSON",data:$this.serialize(),beforeSend:function(){btn.loading();},success:function(d){btn.loading('stop');if(d.code!='failed'){if(d.items!=undefined&&d.items!=''){$.each(d.items,function(key,value){var lid=JSON.parse(JSON.stringify(value.id));if(listid!=''&&lid!=''&&listid==lid){var category_name=value.product_title;var product_price=value.selling_price;var photo=JSON.parse(JSON.stringify(value.photo.thumb));$("#product_img").attr('src',photo);$("#p_title").text(category_name);$("#product_price").text(product_price);}});}
$("#add_to_cart_popup").modal("show");}
else{DroomApp.show_msg(d.errors,'error',5000);}}});}else{$("#ncr_pincode_modal").modal('show');}}});});$(".jumpstart_add_to_cart").on('submit',function(){$(".facilities_error").addClass('hidden');var $this=$(this);var category=$this.data('category');var pincode=$this.find("input[name='pincode']").val();var address=$this.find("input[name='address']").val();var built_up=$this.find("input[name='built_up_area']").val();var time_slot=$this.find("input[name='date']").val();var btn=$this.find("[type=submit]");if(category=='1511'){if(!pincode){btn.closest('.facilities_error').removeClass('hidden');return false}}else if(category=='1521'){if(!built_up||!address||!pincode||!time_slot){$('.facilities_error').removeClass('hidden');return false;}}else{if(!address||!pincode||!time_slot){$('.facilities_error').removeClass('hidden');return false;}}
$.ajax({type:"post",url:"/check-germshield-pincode",dataType:"JSON",data:{pincode:pincode,page_type:'jumpstart'},success:function(d){if(d.code=='success'){$.ajax({type:"POST",url:"/add_to_cart",dataType:"JSON",data:$this.serialize(),beforeSend:function(){btn.loading();},success:function(d){btn.loading('stop');DroomApp.show_msg('Items added to cart.','message',3000);window.location.href=https_base_url+"/cart-summary";}});}else{$("#ncr_pincode_modal").modal('show');}}});});};this.initialFlexHieght=function(special_case){$('.is-flex > [class^="col-"]').each(function(){var h=$(this).height();if(special_case){if(!(h>self.maxHeight)){self.maxHeight=h;}}else{self.maxHeight=h>self.maxHeight?h:self.maxHeight;}});};this.load_user_data=function(){var data={};data.cart_count=0;data.watchlist_count=0;data.user=false;if($(location).attr('href').indexOf("secure")>=0){var url=https_base_url;}else{var url=base_url;}
$.ajax({type:"GET",url:url+"/user_data_ajax",dataType:"json",headers:{'Cache-Control':'no-cache, must-revalidate','Expires':'Sat, 26 Jul 1997 05:00:00 GMT'},success:function(d){if(d.code=='success'){self.render_user_data(d.data);}}});};this.render_user_data=function(data){data.cart_count=data.cart_count||0;data.watchlist_count=data.watchlist_count||0;if(data.cart_count>0){$(".mobilestickyBtnCart").removeClass("hidden");}
if(data.cart_count>0){$(".mobileCartHeader").removeClass("hidden");$(".drm-header").find(".dashboard-link").addClass("hidden");$("#header_search_box").find(".dashboard-link").addClass("hidden");}
$("#cart_count").text(data.cart_count);$("#watchlist_count").text(data.watchlist_count);if(data.user){if(data.device=='mobile'){$('#header-user-icon').addClass("active");$('#header-user-icon').attr('href','/'+data.url);$('#mobile-left-menu').html(data.mobileLeftMenu);if(window.Cookies.get('dul')){}else{}}else{$("#user_loggedout").addClass("hidden");$("#user_loggedin").removeClass("hidden");$("#loggedin_user_name").removeClass("hidden");var fn='';var ln='';if(typeof data.user.fn!=='undefined'&&data.user.fn!=''&&data.user.fn!=null)
fn=data.user.fn;if(typeof data.user.ln!=='undefined'&&data.user.ln!=''&&data.user.ln!=null)
ln=data.user.ln;$("#loggedin_user_name").text(fn+" "+ln);$("#user_details").addClass("account");$('#new_login_header_span').html(data.html);$("#user_name_loggined").text(fn+" "+ln);if(typeof data.user.pr!=='undefined'&&data.user.pr==1){$("#user_loggedin").find(".user_account_link").html("My Storemanager").attr("href","/account");$("#user_loggedin").addClass('store');}else{$('.casual_seller').addClass("hidden");$("#user_loggedin").find(".user_account_link").html("My Account");$("#user_loggedin").removeClass('store');}
$("#user_details").addClass("account");}}else{if(data.device=='mobile'){$('#header-user-icon').removeClass("active");$('#header-user-icon').attr('href','/user/login');$('#mobile-left-menu').html(data.mobileLeftMenu);if(window.Cookies.get('dul')){}else{}}else{$("#user_loggedout").removeClass("hidden");$("#user_loggedin").addClass("hidden");$("#loggedin_user_name").addClass("hidden");$("#user_details").removeClass("account");}}};this.fixedHeader=function(el,get_position,follow_el){var get_scroll=$(window).scrollTop();if(get_scroll>get_position){$(el).addClass('fixed');}else if(get_scroll<get_position){$(el).removeClass('fixed');}
if(follow_el){if($(follow_el).offset().top+$(follow_el).height()<=(get_scroll+110+$(el).height())){$(el).addClass("absolute");}else{$(el).removeClass("absolute");}}
$(window).scroll(function(){get_scroll=$(window).scrollTop();if(get_scroll>get_position){$(el).addClass('fixed');}else if(get_scroll<get_position){$(el).removeClass('fixed');}
if(follow_el){if($(follow_el).offset().top+$(follow_el).height()<=(get_scroll+110+$(el).height())){$(el).addClass("absolute");}else{$(el).removeClass("absolute");}}});};this.getBetaoutIdentifiers=function(){};this.sentEventtoBetaout=function(eventPageName){$.ajax({url:"/event-beta-page",type:'get',dataType:'JSON',data:'eventName='+eventPageName,success:function(data){if(data.code=='success'){return true;}else{return false;}}});};this.render_wishlist=function(){$("#wishlist_dropdown").on('click',function(){if($(this).hasClass('active')){$(this).removeClass('active');$("body").find(".overlay").addClass('hidden');return false;}
self.load_wishlist_dropdown();});$('#wishlist_dropdown').on("click",".menu",function(e){e.stopPropagation();});$('#wishlist_dropdown').on('click','.remove-wishlist',function(){var id=$(this).data('id');var from='dropdown';self.remove_wishlist($(this),id,from);});$('body').on("click",".wishlist-action, .wishlist-action-mobile",function(e){e.stopPropagation();var from='listing';var action=$(this).data('action')?$(this).data('action'):'wishlist';var source=$(this).data('source')?$(this).data('source'):'';if(window.location.pathname=='/wishlist'||window.location.pathname=='/wishlist/comparison'){from='wishlist';}
var id=$(this).data('id');if($(this).hasClass('added')){self.remove_wishlist($(this),id,from,action,source);}else{self.add_to_wishlist($(this),id,from,action,source);}});$('body').on("click",".wishlist",function(e){e.stopPropagation();if($(this).hasClass('added')&&$(this).hasClass('watchlist-action')&&$(this).data('source')!="quicksell"){$(this).append('<small>Added to <a href="/storemanager?section_id=watch_list_ajax&tab=1&new_store_manager=1&data-model=watch_list">Watchlist</a></small>');setTimeout(function(){$('.wishlist-action.added').children('small').remove();},5000);}else if($(this).hasClass('added')&&$(this).data('source')!="quicksell"){$(this).append('<small>Added to <a target = "_blank" href="/wishlist">Wishlist</a></small>');setTimeout(function(){$('.wishlist-action.added').children('small').remove();},5000);}else{$(this).children('small').remove();}});};this.load_wishlist_dropdown=function(){var $this=$("#wishlist_dropdown");var menu=$this.find('.menu');if($(location).attr('href').indexOf("secure")>=0){var url=https_base_url;}else{var url=base_url;}
$.ajax({url:url+"/wishlist/dropdown",type:"GET",data:{},dataType:"json",beforeSend:function(){menu.find('.wishlist-loader').hide();},success:function(d){var html=$("div",d.html);if(html.hasClass('empty')){menu.addClass('empty').removeClass('wishlist');menu.find('.wishlist-loader').hide();}else{menu.removeClass('double').removeClass('single');var col='';if($(d.html).find('.wishlist-column').length==1){col='single';}else if($(d.html).find('.wishlist-column').length==2){col='double';}
menu.removeClass('empty').addClass('wishlist').addClass(col);}
menu.html(d.html);$("#watchlist_count").text(d.count);$('#carousel-wishlist').carousel(0);}});};this.remove_wishlist=function(el,id,from,action,source){var data={id:id,action:action,source:source};if(el.parents('section.block-appear').data('id')){data.widget=el.parents('section.block-appear').data('id');}
$.ajax({url:base_url+"/wishlist/remove",type:"POST",data:data,dataType:'json',beforeSend:function(){if(from=='listing'){el.removeClass('added');}},success:function(d){if(d.code=='success'){if(source=='quicksell'){el.append('<small>Removed from Quicksell Wishlist</small>');setTimeout(function(){$('.wishlist-action').children('small').remove();},5000);}
if(from=='dropdown'){self.load_wishlist_dropdown();}else if(from=='listing'){el.removeClass('added');}else if(from=='wishlist'){window.location.reload();}
$("#watchlist_count").text(d.count);}}});};this.add_to_wishlist=function(el,id,from,action,source){var data={id:id,action:action,source:source};if(el.parents('section.block-appear').data('id')){data.widget=el.parents('section.block-appear').data('id');}
$.ajax({url:base_url+"/wishlist/add",type:"POST",data:data,dataType:'json',beforeSend:function(){el.addClass('added');},success:function(d){if(d.code=='success'){if(source=='quicksell'){el.append('<small>Added to Quicksell Wishlist</small>');setTimeout(function(){$('.wishlist-action.added').children('small').remove();},5000);}
el.addClass('added');DroomApp.show_msg('You have added your listing to Wish list','info',5000);$("#watchlist_count").text(d.count);self.saveLeadInQueue(id,'Wishlist');}
if(!auth){window.location.href='/user/login?redirect_url='+window.location.href;}}});};this.show_msg=function(message,type,time){var alert_class='success';var title="Success!";if(type=='error'){alert_class='error';title="Error!";}else if(type=='info'){alert_class='info';title="Info!";}else if(type=='warning'){alert_class='warning';title="Warning!";}
toastr.options={"closeButton":false,"debug":false,"newestOnTop":false,"progressBar":false,"positionClass":"toast-top-right","preventDuplicates":false,"onclick":null,"showDuration":"300","hideDuration":"1000","timeOut":"5000","extendedTimeOut":"1000","showEasing":"swing","hideEasing":"linear","showMethod":"fadeIn","hideMethod":"fadeOut"};toastr[alert_class](message,title);return false;clearTimeout(self.notify_timer);var notify_el=$(".notification[role='global']");notify_el.removeClass("show");var alert_class='alert-success';var title="Success!";if(type=='error'){alert_class='alert-danger';title="Error!";}else if(type=='info'){alert_class='alert-info';title="Info!";}else if(type=='warning'){alert_class='alert-warning';title="Warning!";}
var html='<div role="alert" class="alert '+alert_class+' alert-dismissible">';html+='<button aria-label="Close" data-dismiss="alert" class="close" type="button">';html+='<span aria-hidden="true">×</span></button>';html+='<strong>'+title+'</strong> '+message;html+='</div>';notify_el.html(html).addClass("show");self.notify_timer=setTimeout(function(){notify_el.removeClass("show");},time);};this.image_after_load=function(){$('.nav[role="global"] .bar > li > div').click(function(){var imgId1=$('#roadPrice').attr('data-src');var imgId2=$('#vehicleInsurance').attr('data-src');var imgId3=$('#orangeBookValue').attr('data-src');if($('#roadPrice').attr('src')==''||$('#vehicleInsurance').attr('src')==''||$('#orangeBookValue').attr('src')==''){$('#roadPrice').attr('src',imgId1);$('#vehicleInsurance').attr('src',imgId2);$('#orangeBookValue').attr('src',imgId3);}});};this.showGst=function(){$('#transitionGST').modal('show');$('body').on('click','#applied_for_gst_popup',function(){$('#gst_number_popup').val('');});$('body').on('keyup','#gst_number_popup',function(){$('#applied_for_gst_popup').attr('checked',false);});$('body').on('click','#turn_over_flag1',function(){$('#gstPopupFlagError').hide();});$('body').on('click','#turn_over_flag2',function(){$('#gstPopupFlagError').hide();});$(".glyphicon-info-sign").tooltip();$('#gstPopupForm').on('submit',function(){var gstError=false;var is_error=false;var turn_over_flag=$('#gstPopupForm input[name="turn_over_flag"]:checked').val();if(turn_over_flag==undefined){$('#gstPopupFlagError').addClass('has-error');$('#gstPopupFlagError').html('Please choose an option.');$('#gstPopupFlagError').show();gstError=true;}else{$('#gstPopupFlagError').removeClass('has-error');$('#gstPopupFlagError').html('');if(turn_over_flag=='1'){if($('#gst_number_popup').val()==''&&!$('#applied_for_gst_popup').is(':checked')){gstError=true;is_error=true;$('#gstPopupNumberError').addClass('has-error');$('#gst_number_popup').addClass('has-error');$('#gstPopupNumberError').html('Please enter GSTIN or declare if you have applied for the same.');$('#gstPopupNumberError').show();}else if($('#gst_number_popup').val()!=''&&$('#applied_for_gst_popup').is(':checked')){gstError=true;is_error=true;$('#gstPopupNumberError').addClass('has-error');$('#gst_number_popup').addClass('has-error');$('#gstPopupNumberError').html('Please select an option.');$('#gstPopupNumberError').show();}}
if(is_error==false){if($('#gst_number_popup').val()!=''){var reg=/^[0-9]{2}[A-Z|a-z]{5}[0-9]{4}[A-Z|a-z]{1}[A-Z|a-z|1-9]{1}[A-Z|a-z|0-9]{2}$/;if(!$('#gst_number_popup').val().match(reg)){gstError=true;$('#gstPopupNumberError').addClass('has-error');$('#gst_number_popup').addClass('has-error');$('#gstPopupNumberError').html('Please enter a valid GST number.');$('#gstPopupNumberError').show();}}}}
if(!gstError){$('#gstPopupNumberError').removeClass('has-error');$('#gst_number_popup').removeClass('has-error');$('#gstPopupNumberError').html('');$('#gstPopupNumberError').hide();$.ajax({type:"GET",url:base_url+"/account",data:$(this).serialize(),dataType:'json',beforeSend:function(){$('#gstButtonLoader').show();$('#gstButtons').hide();},success:function(d){$('#gstButtonLoader').hide();$('#gstButtons').show();if(d.code=='success'){DroomApp.show_msg(d.message,'message',5000);$('#transitionGST').modal('hide');}else{DroomApp.show_msg(d.errors,'error',5000);}}});}
return false;});};this.showTncGst=function(){$('#tnc-gst').modal('show');$('#tnc-gst').modal({backdrop:'static',keyboard:false});$('#gstTncPopupForm').on('submit',function(){$.ajax({type:"GET",url:base_url+"/account",data:$(this).serialize(),dataType:'json',beforeSend:function(){$('#gstButtonLoader').show();$('#gstButtons').hide();},success:function(d){$('#gstButtonLoader').hide();$('#gstButtons').show();if(d.code=='success'){DroomApp.show_msg(d.message,'message',5000);$('#tnc-gst').modal('hide');}else{DroomApp.show_msg(d.errors,'error',5000);}}});return false;});};this.checkCookie=function(){var unknownCookie=["__insp_norec_sess","__insp_nv","__insp_ref","__insp_slim","__insp_targlpt","__insp_targlpu","__insp_uid","__insp_wid","__zlcmid"];setTimeout(function(){for(var i=0;i<unknownCookie.length;i++){var c=unknownCookie[i];if(window.Cookies.get(c)!=""){window.Cookies.delete(c);}}},1000);setTimeout(function(){for(var i=0;i<unknownCookie.length;i++){var c=unknownCookie[i];if(window.Cookies.get(c)!=""){window.Cookies.delete(c);}}},3000);setTimeout(function(){for(var i=0;i<unknownCookie.length;i++){var c=unknownCookie[i];if(window.Cookies.get(c)!=""){window.Cookies.delete(c);}}},10000);};this.analyticsFunction=function(category,action,label,value){ga('send','event',{eventCategory:category,eventAction:action,eventLabel:label,eventValue:value});return true;};this.locate_me_city=function(city){if(typeof city==='undefined'||city===""){window.Cookies.set('dul',btoa(city),-30);}else{window.Cookies.set('dul',btoa(city),30);}
$('.overlay').addClass('hidden');$(".header-location").removeClass('active');$('.detect-location .after-location').removeClass('hide');$('.detect-location .before-location').addClass('hide');if(typeof DroomAppSearch!="undefined"||typeof DroomBuyPage!="undefined"){location.reload();}};this.find_cities=function(){var q=$('[name=search_city]').val();if(q.length==0){$('#all_cities_loc').show();$('.search-location-result').hide();}else{if(q.length<2){$('.search-location-result').hide();$(".search-location-result").html("");return false;}
if(q.length>3&&/^\d+$/.test(q.trim())){return false;}
if(self.prev_search_city_ajax!=null){self.prev_search_city_ajax.abort();}
self.prev_search_city_ajax=$.ajax({type:"GET",url:base_url+"/autocomplete_city?search_city="+q,dataType:'json',success:function(d){if(d.code=='success'){$('#all_cities_loc').hide();$('.search-location-result').show();$(".search-location-result").html(d.data);}}});}};this.wg_find_cities=function(){var q=$('[name=wg_search_city1]').val();if(q.length==0){$('#wg_all_cities_loc').show();$('.wg-search-location-result').hide();}else{if(q.length<2){$('.wg-search-location-result').hide();$(".wg-search-location-result").html("");return false;}
if(q.length>3&&/^\d+$/.test(q.trim())){return false;}
if(self.prev_search_city_ajax!=null){self.prev_search_city_ajax.abort();}
self.prev_search_city_ajax=$.ajax({type:"GET",url:base_url+"/autocomplete_city?search_city="+q,dataType:'json',success:function(d){if(d.code=='success'){$('#wg_all_cities_loc').hide();$('.wg-search-location-result').show();$(".wg-search-location-result").html(d.data);}}});}};this.get_location=function(){$('.search-location-result').hide();$(".search-location-result").html("");if(navigator.geolocation){$(".locate_me_btn").html("Detecting ...");navigator.geolocation.getCurrentPosition(function(position){var lat=position.coords.latitude;var long=position.coords.longitude;$.ajax({type:"GET",url:base_url+"/locate_me?latitude="+lat+"&longitude="+long,dataType:'json',success:function(d){if(d.code=='success'){self.locate_me_city(d.data);}}});},function(error){if(error.code==error.PERMISSION_DENIED){$(".locate_me_btn").text("Location Access Denied. Please go to Browser settings to give Access.");}else{$(".locate_me_btn").text("Unable to fetch Location, please select a location from below list.");}});}
else{$(".locate_me_btn").text("Unable to fetch Location, please select a location from below list.")}};$('body').on('click','#dashboard_autosuggest_list .search[role="result"] li a',function(){$('.dashboard-modal .modal-body .form .form-group .loader').show();});this.listing_icons_responsive=function(){$('.listing-item .badges').each(function(){var show_el=$(this).find(".more");var icons=$(this).find('.ico');var total=icons.length;var can_adjust=(Math.floor($(this).width()/30)-2);var show_more=total-can_adjust;if(show_more>0){show_el.removeClass('hidden');$(this).find(".more span.more_number").text("");$(this).find(".more span.more_number").text("+"+show_more);var html='';icons.each(function(i,v){if(i>=can_adjust){v.remove();html=html+v.outerHTML;}});}
$(this).find('.more .box').html(html);var width=(show_more+1)*30;$(this).find('.more .box').css('width',width);});};this.load_qspp_modal=function(source,alias){$.ajax({type:"GET",url:'/qspp_modal_data',data:{source:source,alias:alias},dataType:"json",async:false,success:function(data){if(data.code=='success'){if(data.url!=''&&typeof data.url!='undefined'){window.location.href=data.url;}
$('#qspp_modal_block').html(data.data);var modal_id=$('#qspp_modal_block').find('.modal').attr('id');$('#'+modal_id).modal('show');self.render_qspp_popup(modal_id);if(DroomAppMiles)
DroomAppMiles.bind();}else{self.show_msg(data.errors,'error',5000);}}});};this.render_qspp_popup=function(id){if(id=='qspp_offer_modal'){$('#qspp_offer_continue').submit(function(e){e.preventDefault();$('#tc_error').text("");var final_amount=$("#final_amount").data('value');$("#amount_to_be_paid").attr('value',final_amount);$("#become_qspp_io_button").attr('disabled',true);if($("#terms_condition").prop("checked")==true){var datastring=new FormData($(this)[0]);var isError=0;var url="/quicksell/qspp_introductory_offer";$.ajax({type:"POST",url:url,data:datastring,async:false,cache:false,dataType:"JSON",contentType:false,processData:false,success:function(response){var uri=window.location.toString();if(uri.indexOf("?")>0){var clean_uri=uri.substring(0,uri.indexOf("?"));window.history.replaceState({},document.title,clean_uri);}
if(response.code=='success'){DroomApp.show_msg(response.message,'success',5000);window.location.reload()}else{DroomApp.show_msg(response.message,'error',5000);}}});}else{$('#tc_error').text("You need to agree to the T&C to continue.");}
$("#become_qspp_io_button").attr('disabled',false);return false;});}
if(id=='qspp_modal'){$('#count_my_existing_miles').change(function(){if($(this).is(":checked")){var new_deducted_amount=$('#miles_required').attr('data-value')-$('#miles_balance').attr('data-value');if(new_deducted_amount<=0){new_deducted_amount=0;}
$('#amount_after_miles_used').attr('data-value',new_deducted_amount);$('#amount_after_miles_used').text('₹'+new_deducted_amount);var new_discount_amount=Math.floor($('#amount_after_miles_used').attr('data-value')*($('#count_my_existing_miles').data('percentage')/100));$('#discount_amount').attr('data-value',new_discount_amount);$('#discount_amount').text('- ₹'+new_discount_amount);var new_final_amount=$('#amount_after_miles_used').attr('data-value')-new_discount_amount;$('#final_amount').attr('data-value',new_final_amount);$('#final_amount').text('₹'+new_final_amount);}else{$('#amount_after_miles_used').attr('data-value',$('#miles_required').data('value'));$('#amount_after_miles_used').text('₹'+$('#miles_required').data('value'));var new_discount_amount=Math.floor($('#amount_after_miles_used').attr('data-value')*($('#count_my_existing_miles').data('percentage')/100));$('#discount_amount').attr('data-value',new_discount_amount);$('#discount_amount').text('- ₹'+new_discount_amount);var new_final_amount=$('#miles_required').attr('data-value')-new_discount_amount;$('#final_amount').attr('data-value',new_final_amount);$('#final_amount').text('₹'+new_final_amount);}});$('#qspp_addmiles_continue').submit(function(e){e.preventDefault();$('#tc_error').text("");var final_amount=$("#final_amount").data('value');$("#qspp_discount_amount").attr('value',$("#discount_amount").data('value'));$("#amount_to_be_paid").attr('value',final_amount);$("#become_qspp_button").attr('disabled',true);if($("#terms_condition").prop("checked")==true){var datastring=new FormData($(this)[0]);var isError=0;var url="/account/droom-miles";$.ajax({type:"POST",url:url,data:datastring,async:false,cache:false,dataType:"JSON",contentType:false,processData:false,success:function(response){if(response.code=='success'){$('#qspp_modal').modal('hide');window.location.href='/cart-checkout?step=2';}else if(response.code=='perfect'){DroomApp.show_msg(response.message,'success',5000);window.location.reload();}else{DroomApp.show_msg(response.message,'error',5000);}}});}else{$('#tc_error').text("You need to agree to the T&C to continue.");}
$("#become_qspp_button").attr('disabled',false);return false;});}};this.quicksell_qspp_modal=function(){$('body').on('click','#qspp_submit',function(e){var source=$(this).data('source');var alias=$(this).data('alias');self.load_qspp_modal(source,alias);});};this.show_subscription_popup=function(params){if($("#buyer_subscription_popup").length===0){var bsp=document.createElement("div");bsp.setAttribute('id','buyer_subscription_popup');$("body").append(bsp);}
if(typeof params==='undefined'){params={};}
params.type=params.type||'four_wheeler';params.message=params.message||'You Have Reached Your Limit of 3 Messages as a Basic Buyer';var html='<div class="modal default fade lightbox" id="lightbox_subscribe" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog modal-sm" role="document"> <div class="modal-content"> <div class="modal-body"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <div class="content"> <div class="banner bg-none"> <figure> <img class="img-responsive" src="https://cdn1.acedms.com/photos/images/web/beta/images/pages/subscribe/chat-limit.svg" alt=""/> </figure> <div class="title"> <h2> Oops! </h2> </div><div class="slogan"> '+params.message+' </div></div><div class="block p-20 m-0 plans" role="global"> <div class="header"> <h2 class="heading"> <span>Subscribe to Droom Plus <span class="drmpluslogo"> <img src="https://cdn1.acedms.com/photos/images/web/beta/images/dpluscolor.png"> </span> Now</span> <br>Get India’s Most Premium Buying Experience </h2> </div>';if(params.type=='four_wheeler'){html+=`<div class="content"><div class="row flex plans"><div class="col-xs-6"><div class="plan subscription_plan clickable"data-name="package41"data-amount="2000"data-title="Droom Plus Subscription for 4-wheelers (1 Month Plan)"><div class="check"><i class="fa fa-check-circle"></i></div><h2 class="title"><strong>₹ 2000</strong><br><strong>1 Month Plan</strong></h2><div class="points"><ul><li><i class="fa fa-check"></i><span>Unlimited Messaging</span></li><li><i class="fa fa-check"></i><span>3 Certification Packages</span></li><li><i class="fa fa-check"></i><span>Unlimited FCTS Reports<a target="_blank"href="https://cdn1.acedms.com/photos/images/web/downloads/Sample%20FCTS%20Report.pdf">view</a></span></li><li><i class="fa fa-check"></i><span>Pre-Approved Loan</span></li><li><i class="fa fa-check"></i><span>Assisted Buying</span></li><li><i class="fa fa-check"></i><span>Unlock unlimited Certification Packages by Seller</span></li><li><i class="fa fa-check"></i><span>Negotiation Tool for Best Price</span></li></ul></div></div></div><div class="col-xs-6"><div class="plan featured subscription_plan active clickable"data-name="package43"data-amount="2499"data-title="Droom Plus Subscription for 4-wheelers (3 Months Plan)"><div class="check"><i class="fa fa-check-circle"></i></div><div class="featured orange">Value<br>For Money</div><h2 class="title"><strong>₹ 2499</strong><br><strong>3 Months Plan</strong></h2><div class="points"><ul><li><i class="fa fa-check"></i><span>Unlimited Messaging</span></li><li><i class="fa fa-check"></i><span>4 Certification Packages</span></li><li><i class="fa fa-check"></i><span>Unlimited FCTS Reports<a target="_blank"href="https://cdn1.acedms.com/photos/images/web/downloads/Sample%20FCTS%20Report.pdf">view</a></span></li><li><i class="fa fa-check"></i><span>Pre-Approved Loan</span></li><li><i class="fa fa-check"></i><span>Assisted Buying</span></li><li><i class="fa fa-check"></i><span>Unlock unlimited Certification Packages by Seller</span></li><li><i class="fa fa-check"></i><span>Negotiation Tool for Best Price</span></li></ul></div></div></div></div></div>`;}else if(params.type=='two_wheeler'){html+=`<div class="content"><div class="row flex plans"><div class="col-xs-6"><div class="plan subscription_plan clickable"data-name="package21"data-amount="1000"data-title="Droom Plus Subscription for 2-wheelers (1 Month Plan)"><div class="check"><i class="fa fa-check-circle"></i></div><h2 class="title"><strong>₹ 1000</strong><br><strong>1 Month Plan</strong></h2><div class="points"><ul><li><i class="fa fa-check"></i><span>Unlimited Messaging</span></li><li><i class="fa fa-check"></i><span>3 Certification Packages</span></li><li><i class="fa fa-check"></i><span>Unlimited FCTS Reports<a target="_blank"href="https://cdn1.acedms.com/photos/images/web/downloads/Sample%20FCTS%20Report.pdf">view</a></span></li><li><i class="fa fa-check"></i><span>Pre-Approved Loan</span></li><li><i class="fa fa-check"></i><span>Assisted Buying</span></li><li><i class="fa fa-check"></i><span>Unlock unlimited Certification Packages by Seller</span></li><li><i class="fa fa-check"></i><span>Negotiation Tool for Best Price</span></li></ul></div></div></div><div class="col-xs-6"><div class="plan featured subscription_plan active clickable"data-name="package23"data-amount="1299"data-title="Droom Plus Subscription for 2-wheelers (3 Months Plan)"><div class="check"><i class="fa fa-check-circle"></i></div><div class="featured orange">Value<br>For Money</div><h2 class="title"><strong>₹ 1299</strong><br><strong>3 Months Plan</strong></h2><div class="points"><ul><li><i class="fa fa-check"></i><span>Unlimited Messaging</span></li><li><i class="fa fa-check"></i><span>4 Certification Packages</span></li><li><i class="fa fa-check"></i><span>Unlimited FCTS Reports<a target="_blank"href="https://cdn1.acedms.com/photos/images/web/downloads/Sample%20FCTS%20Report.pdf">view</a></span></li><li><i class="fa fa-check"></i><span>Pre-Approved Loan</span></li><li><i class="fa fa-check"></i><span>Assisted Buying</span></li><li><i class="fa fa-check"></i><span>Unlock unlimited Certification Packages by Seller</span></li><li><i class="fa fa-check"></i><span>Negotiation Tool for Best Price</span></li></ul></div></div></div></div></div>`;}
html+=`</div><div class="form-group text-center"><div class="checkbox checkbox-success"><input id="bs_aggreement"type="checkbox"/><label for="bs_aggreement">I Agree to the<a href="/terms-of-use">Terms&Conditions</a></label></div></div><div class="actions"><button class="btn btn-primary buyer_subscription">Subscribe Now</button></div><div class="note text-center">Or<a class="read_ml"role="button"data-toggle="collapse"data-target="#collapseCP2"href="javascript:void(0)"aria-expanded="false"aria-controls="collapseExample">Read More</a></div><div class="collapse collapseCP"id="collapseCP2"><h5 class="text-center">Why Certification Package?<br><small>Get Peace of Mind,No Negative Surprises!</small></h5><div class="row"><div class="col-sm-6"><div class="points sm"><ul><li><i class="vista vista-obv"></i><strong>OBV Pricing Certificate</strong><li><i class="fa fa-check"></i><span>Fair Market Value of the Vehicle</span></li><li><i class="fa fa-check"></i><span>3 year depreciation of vehicle</span></li><li><i class="fa fa-check"></i><span>60,90 days&lifetime transaction details and more..</span></li></ul></div></div><div class="col-sm-6"><div class="points sm"><ul><li><i class="vista vista-history"></i><strong>Vehicle History Certificate</strong><li><i class="fa fa-check"></i><span>check Authenticity of vehicle information provided by seller</span></li><li><i class="fa fa-check"></i><span>check if vehicle is blacklisted</span></li><li><i class="fa fa-check"></i><span>check vehicle Loan history and more..</span></li></ul></div></div></div><div class="row"><div class="col-sm-6"><div class="points sm"><ul><li><i class="vista vista-eco"></i><strong>ECO Inspection Certificate</strong><li><i class="fa fa-check"></i><span>121+Checkpoints inspection by certified Technicians</span></li><li><i class="fa fa-check"></i><span>Vehicle Images(Includes damaged/broken parts,if any)</span></li><li><i class="fa fa-check"></i><span>Estimated cost of repairs and more..</span></li></ul></div></div><div class="col-sm-6"><div class="points sm"><ul><li><i class="vista vista-history"></i><strong>Full Circle Trust Score Report<br/><small>Need more surety and trust?</small></strong><li><i class="fa fa-check"></i><span>Avoid Risk from unknowns with FCTS report.</span></li><li><i class="fa fa-check"></i><span>Know all about FCTS components and their scores comprising the transparency score,health score,pricing score and seller score.</span></li></ul></div></div></div></div></div></div></div></div></div>`;$("#buyer_subscription_popup").html(html);$("#lightbox_subscribe").modal('show');$(".subscription_plan").on('click',function(){$(".subscription_plan").removeClass('active');$(this).addClass('active');});$('#collapseCP2').on('hidden.bs.collapse',function(){$('.read_ml').text('Read More');}).on('shown.bs.collapse',function(){$('.read_ml').text('Read Less');});$(".buyer_subscription").on('click',function(){if($('#bs_aggreement').is(":checked")==false){DroomApp.show_msg('Kindly Agree to the T&C to Proceed','error',2000);return false;}
$(".buyer_subscription").addClass('disabled');var package=$('.subscription_plan.active').data('name');var name=$('.subscription_plan.active').data('title');var amount=$('.subscription_plan.active').data('amount');$.ajax({type:'POST',url:'/subscribe/buy',data:{'package':package,'package_name':name,'amount':amount},beforeSend:function(){$('.buyer_subscription').html("Adding to Cart<i class='fa fa-spinner fa-pulse fa-fw'></i>");$('.buyer_subscription').attr('disabled','disabled')},success:function(result){if(result.code=='success'){DroomApp.show_msg('Item added to cart.','message',5000);var count=result.data.item_count;$('#cart_count').html(count);window.location="/cart-summary";}},error:function(result){$('.buyer_subscription').removeAttr('disabled').text('Subscribe Now');}});});};this.bind_ad_campain=function(force){};this.saveLeadInQueue=function(dlid,source){if(auth){if(source!=undefined){var location=(atob(window.Cookies.get('dul')));$.ajax({url:"/save-lead-in-queue",type:"POST",dataType:"JSON",data:{'listing_id':dlid,'source':source,'location':location},success:function(result){if(result.code=='success'){}}});}}};this.load_js=function(url,cb,attrs,force_cb,async){if(typeof JsCssLoad==='undefined'){console.log('JsCssLoad library not found');return false;}
async=async||false;attrs=attrs||{};force_cb=force_cb||false;if(/https|http/.test(url)||url.substring(0,2)==="//"){}else{var assets_url=window.assets_url||'';var assets_version=window.assets_version||1;if(window.minify===1){url=assets_url+"?f="+url+"&v="+assets_version;}else{url=assets_url+url;}}
JsCssLoad.loadJs({src:url,attrs:attrs,callback:cb||null,async:async,force_cb:force_cb});};this.load_css=function(url,cb,attrs,force_cb,async){if(typeof JsCssLoad==='undefined'){console.log('JsCssLoad library not found');return false;}
async=async||false;attrs=attrs||{};force_cb=force_cb||false;if(/https|http/.test(url)||url.substring(0,2)==="//"){}else{var assets_url=window.assets_url||'';var assets_version=window.assets_version||1;if(window.minify===1){url=assets_url+"?f="+url+"&v="+assets_version;}else{url=assets_url+url;}}
JsCssLoad.loadCss({href:url,attrs:attrs,callback:cb||null,async:async,force_cb:force_cb});};this.detect_current_location=function(cb){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){var lat=position.coords.latitude;var long=position.coords.longitude;$.ajax({type:"GET",url:"/locate_me?latitude="+lat+"&longitude="+long,dataType:'json',success:function(d){if(d.code=='success'){return cb?cb(null,d.data):true;}else{return cb?cb("Unable to Find Location."):false;}}});},function(error){if(error.code===error.PERMISSION_DENIED){return cb?cb("Location Access Denied. Please go to Browser settings to give Access."):false;}else{return cb?cb("Unable to Fetch Location, Please select a Location from below list."):false;}});}else{return cb?cb("Unable to fetch Location, please select a location from below list."):false;}};this.getAllCities=function(cb){if(LS.exist('all_cities')){return typeof cb==='function'?cb(LS.get('all_cities')):true;}else{$.get("/all_cities?json=1",function(d){if(d.code=='success'){LS.set('all_cities',d.data,function(cities){return typeof cb==='function'?cb(cities):true;});}else{return typeof cb==='function'?cb(null):true;}},'json');}};};$(window).scroll(function(){var $this=$(this),$head=$('body.mobile header.main');if($this.scrollTop()>130){$head.addClass('fixed');}else{$head.removeClass('fixed');}});var validatePinAndPhone=function(event){if((event.charCode>=65&&event.charCode<=90)||(event.charCode>=97&&event.charCode<=122)||event.charCode==32){return false;}else{return true;}}
$(document).ready(function(){$("#rating_gs").on('click',function(){$("#rating_gs").val('Processing ...');$("#rating_gs").addClass('disabled');});$("#assistChat").on("click",function(){if(typeof joe_params!=='undefined'){joe_params['click']=1;$("#white-gloves-modal").modal("hide");DroomApp.load_js('/themes/beta/js/joehukumchat.js',function(){$("#mobile-chat-container").trigger("click");},{},true);}});$(".categoryinfo ul li a.selected").parent("li").addClass("current");$('.white-gloves-modal a[href="#btn-non-luxury-modal"]').on("click",function(){$("#white-gloves-modal").modal("hide");MyReqHome.otp_step_input(event,'whiteGlove-luxury-modal');$('#btn-non-luxury-modal').on('hidden.bs.modal',function(){$('#whiteGlove-luxury-modal').modal('show');$("body").addClass("modal-open");});});$('.white-gloves-modal a[href="#btn-assist-modal"]').on("click",function(){$("#white-gloves-modal").modal("hide");$('#btn-non-luxury-modal').on('hidden.bs.modal',function(){$('#white-glove-assist').modal('show');$("body").addClass("modal-open");});});$(".germ-shield-modal-new").on("click",function(){$("#gsModal").modal('show');});$("#gsModal").on("show.bs.modal",function(event){DroomApp.load_css('/themes/beta/css/pages/home/gs-icomoon/style.css');DroomApp.load_css('/themes/beta/css/pages/home/gs-modal.css');});$('#white-glove-assist, #whiteGlove-luxury-modal').on('hidden.bs.modal',function(){$("body").css('padding-right',0);});$('body').on('show.bs.modal','#add_to_cart_popup',function(){DroomApp.load_css('/themes/beta/css/elements/modals/add-to-cart.css');});$("#gsModal").on("show.bs.modal",function(event){DroomApp.load_css('/themes/beta/css/pages/home/gs-icomoon/style.css');DroomApp.load_css('/themes/beta/css/pages/home/gs-modal.css');});});function addChatBot(){if(typeof include_joe_js!=='undefined'&&include_joe_js==1){DroomApp.load_js('/themes/beta/js/joehukumchat.js');}
if(typeof include_joe_clone_js!=='undefined'&&include_joe_clone_js==1){DroomApp.load_js('/themes/beta/js/joehukum_clone.js');}
if(typeof include_joe_test_js!=='undefined'&&include_joe_test_js==1){DroomApp.load_js('/themes/beta/js/joehukum_test.js');}}
window.addEventListener("load",addChatBot);function bookingamt(id){listid=id.split("_");listid=listid[1];var qty=parseInt($('#unitprice_'+listid).val());var price=parseFloat($('#fbuiltup_'+listid).val());$('#bookingamt_'+listid).text((qty*price?qty*price:0).toFixed(2));}
function msgCountCall(){$.ajax({type:"GET",url:'/unreadMsgCount',dataType:"json",success:function(data){if(data.code=='success'){data.data.unread_message_count=data.data.unread_message_count||0;if(data.data.unread_message_count>0){$("#unread_message_count").text(data.data.unread_message_count);$("#unread_message_count").removeClass('hidden');}}}});}
var prevScrollpos=window.pageYOffset;window.onscroll=function(){var currentScrollPos=window.pageYOffset;prevScrollpos=currentScrollPos;}
$(function(){$('ul.footerNav li a[href^="/'+location.pathname.split("/")[1]+'"]').addClass('active');});function isAlphanumericGlobal(obj){var str=event.keyCode;if(!((str>=48&&str<=57)||(str>=97&&str<=122)||(str>=65&&str<=90)))
return false;if($(obj).val()>99999999999999)
return false;}
function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();console.log(expires);document.cookie=cname+"="+cvalue+"; "+expires+";domain="+window.cookie_domain+";path=/";}
function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')
c=c.substring(1);if(c.indexOf(name)==0)
return c.substring(name.length,c.length);}
return"";}
$('body').on('click','#popup_refer',function(event){var referrer_data=$('#popup_referrer_data').val();var email_regex=/^([a-zA-Z0-9\._\+-]+)\@((\[?)[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,7}|[0-9]{1,3})(\]?))$/;var mobile_regex=/^(((\+?\(91\))|0|((00|\+)?91))-?)?[4-9]\d{9}$/;if(!email_regex.test(referrer_data)&&!mobile_regex.test(referrer_data)){DroomApp.show_msg("Enter a valid email address or mobile number",'error',5000);event.preventDefault();return false;}
$('#popupReferLoader').show();$('#popupReferButton').hide();$.ajax({url:base_url+"/sendemailsmsreferrals",type:"get",dataType:"JSON",contentType:'application/json',data:{referrer_data,referrer_data},success:function(response){if(response.code=='success'){DroomApp.show_msg(response.message,'success',5000);$('#popup_referrer_data').val('');$('#popupReferLoader').hide();$('#popupReferButton').show();}else{DroomApp.show_msg(response.message,'error',5000);$('#popupReferLoader').hide();$('#popupReferButton').show();}}});});$("#landing_refer").click(function(event){var referrer_data=$('#landing_referrer_data').val();var email_regex=/^([a-zA-Z0-9\._\+-]+)\@((\[?)[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,7}|[0-9]{1,3})(\]?))$/;var mobile_regex=/^(((\+?\(91\))|0|((00|\+)?91))-?)?[4-9]\d{9}$/;if(!email_regex.test(referrer_data)&&!mobile_regex.test(referrer_data)){DroomApp.show_msg("Enter a valid email address or mobile number",'error',5000);event.preventDefault();return false;}
$('#landingReferLoader').show();$('#landingReferButton').hide();$.ajax({url:base_url+"/sendemailsmsreferrals",type:"get",dataType:"JSON",data:{referrer_data,referrer_data},success:function(response){if(response.code=='success'){DroomApp.show_msg(response.message,'success',5000);$('#landing_referrer_data').val('');$('#landingReferLoader').hide();$('#landingReferButton').show();}else{DroomApp.show_msg(response.message,'error',5000);$('#landingReferLoader').hide();$('#landingReferButton').show();}}});});$('body').on('show.bs.modal','#add_to_cart_popup',function(){$(this).find('.lazy-loading').each(function(){if($(this).attr('src')==''){var imageSrc=$(this).attr("data-src");$(this).attr("src",imageSrc);}});});function copyLink(value){var tempInput=document.createElement("input");tempInput.style="position: absolute; left: -1000px; top: -1000px";tempInput.value=value;document.body.appendChild(tempInput);tempInput.select();document.execCommand("copy");document.body.removeChild(tempInput);DroomApp.show_msg("Referral link has been copied successfully!",'success',5000);};$(function(){var prev_product_search_ajax=null;window.CMPObj={};CMPObj.searching_product=false;CMPObj.getInstance=function(){return this;};CMPObj.validateForm=function($form){if(typeof $form!='undefined'&&$form!=''&&$form!==null){$form.find("span.text-danger").remove();var is_error=false;$form.find("div.required").each(function(){var $div=$(this);if($div.find("input[type='radio']").length>0){var error=true;$div.find("input[type='radio']").each(function(){if($(this).is(":checked")){error=false;}});if(error===true){is_error=true;CMPObj.getInstance().showErrorMsg($div,'');}}
if($div.find("input[type='checkbox']").length>0){var error=true;$div.find("input[type='checkbox']").each(function(){if($(this).is(":checked")){error=false;}});if(error===true){is_error=true;CMPObj.getInstance().showErrorMsg($div,'');}}});$form.find("input[type='text'],input[type='number'],input[type='email'],input[type='password'],input[type='tel'],input[type='range'],input[type='file'],select,textarea").filter("[required]").each(function(){var id=$(this).attr('id');var val=$.trim($(this).val());if(typeof id!='undefined'&&val==''){is_error=true;CMPObj.getInstance().showErrorMsg($(this).closest("div.cls-par"),$(this));}});$form.find("input.validate_pattern").each(function(){var pattern=$(this).attr('pattern');if(typeof pattern!='undefined'&&pattern!=''&&$(this).val()!=''){var result=$(this).val().match(pattern);if(result===null){is_error=true;CMPObj.getInstance().showErrorMsg($(this).closest("div.cls-par"),"Invalid input");}}});return!is_error;}else{return false;}}
CMPObj.showErrorMsg=function($parent,$me,msg){if(msg==''||msg==null){msg="Above field is required";}
if($me!='undefined'&&$me!=''&&$me!=null){$me.addClass("invalid");}
$parent.addClass("invalid");$parent.find("div.note").remove();$parent.append('<div class="note">'+msg+'</div>');}
CMPObj.resetDomInContainer=function($obj){$obj.find("input[type='text']").val('');$obj.find("input[type='number']").val('');$obj.find("input[type='email']").val('');$obj.find("input[type='password']").val('');$obj.find("input[type='tel']").val('');$obj.find("input[type='range']").val('');$obj.find("textarea").html('');$obj.find("input[type='checkbox']").prop('checked',false);$obj.find("input[type='radio']").prop('checked',false);$obj.find("input[type='file']").each(function(ind,ele){$(this).replaceWith(ele);});$obj.find("select").each(function(){$(this).val('');if($(this).hasClass('selectpicker')){$(this).selectpicker("refresh");}});}
CMPObj.mandatory=function($obj){$obj.find("input[type='text']").prop('required',true);$obj.find("input[type='number']").prop('required',true);$obj.find("input[type='email']").prop('required',true);$obj.find("input[type='password']").prop('required',true);$obj.find("input[type='tel']").prop('required',true);$obj.find("input[type='range']").prop('required',true);$obj.find("textarea").prop('required',true);$obj.find("select").prop('required',true);$obj.find("input[type='checkbox']").closest("div.content").addClass('required');$obj.find("input[type='radio']").closest("div.content").addClass('required');}
CMPObj.nonmandatory=function($obj){$obj.find("input[type='text']").removeAttr('required');$obj.find("input[type='number']").removeAttr('required');$obj.find("input[type='email']").removeAttr('required');$obj.find("input[type='password']").removeAttr('required');$obj.find("input[type='tel']").removeAttr('required');$obj.find("input[type='range']").removeAttr('required');$obj.find("textarea").removeAttr('required');$obj.find("select").removeAttr('required');$obj.find("input[type='checkbox']").closest("div.content").removeClass('required');$obj.find("input[type='radio']").closest("div.content").removeClass('required');}
CMPObj.toggleClass=function($obj,c_name){$obj.toggleClass(c_name);}
CMPObj.toggleAttr=function($obj,a_name,a_value){var $attr=$obj.prop(a_name);if(typeof $attr!==typeof undefined&&$attr!=false){$obj.removeAttr(a_name);}else{$obj.prop(a_name,a_value);}}
CMPObj.toggleMandate=function($obj){this.toggleAttr($obj.find("input[type='text']"),'required',true);this.toggleAttr($obj.find("input[type='number']"),'required',true);this.toggleAttr($obj.find("input[type='email']"),'required',true);this.toggleAttr($obj.find("input[type='password']"),'required',true);this.toggleAttr($obj.find("input[type='tel']"),'required',true);this.toggleAttr($obj.find("input[type='range']"),'required',true);this.toggleAttr($obj.find("textarea"),'required',true);this.toggleAttr($obj.find("select"),'required',true);this.toggleClass($obj.find("input[type='checkbox']").closest("div.content"),'required');this.toggleClass($obj.find("input[type='radio']").closest("div.content"),'required');}
CMPObj.getModel=function($obj){var return_da=false;if(typeof $obj=='undefined'||$obj.val()==''||$obj.val()==0){return return_da;}
$.ajax({url:"/cmp/model",type:'GET',dataType:'JSON',async:false,data:{make_id:$obj.val()},success:function(ret){console.log(ret);if(ret.code=='success'){return_da=ret.data;}else{console.log(ret.message);}}});return return_da;}
CMPObj.populateModel=function($obj,$target,selected){$target.find('option').remove();var data=this.getModel($obj);if(selected=='undefined'||selected==''){var selected=$('#model,#model_for_rentals').attr('data-selected');}
$target.append($("<option></option>").attr("value",'').attr("data-make-id",'').attr("data-id",'').text('--Select--'));if(typeof data!=='undefined'&&data!==false){$.each(data,function(ind,model){$target.append($("<option></option>").attr("value",model.model_name).attr("data-make-id",model.make_id).attr("data-id",model.id).text(model.model_org_name));});$target.val(selected);}else{console.log("Some error occured populateModel");}}
CMPObj.getTrim=function($obj){var return_da=false;if(typeof $obj=='undefined'||$obj.val()==''||$obj.val()==0){return return_da;}
$.ajax({url:"/cmp/trim",type:'GET',dataType:'JSON',async:false,data:{model_id:$obj.val()},success:function(ret){if(ret.code=='success'){return_da=ret.data;}else{console.log(ret.message);}}});return return_da;}
CMPObj.populateTrim=function($obj,$target,selected){$target.find('option').remove();var data=this.getTrim($obj);if(selected=='undefined'||selected==''){var selected=$('#trim,#trim_for_rentals').attr('data-selected');}
$target.append($("<option></option>").attr("value",'').attr("data-make-id",'').attr("data-model-id",'').attr("data-id",'').text('--Select--'));if(typeof data!=='undefined'&&data!==false){if($('#model_for_rentals').val()!=null){$.each(data,function(ind,trim){$target.append($("<option></option>").attr("value",trim.trim_name).attr("data-model-id",trim.model_id).attr("data-make-id",trim.make_id).attr("data-id",trim.id).text(trim.trim_org_name));});$target.val(selected);}}else{console.log("Some error occured populateTrim");}}
CMPObj.getColor=function($obj){var return_da=false;var trim_id=$obj.find("option:selected").data('id');if(typeof $obj=='undefined'||typeof trim_id=='undefined'||trim_id==''||trim_id==null){return return_da;}
$.ajax({url:"/cmp/color",type:'GET',dataType:'JSON',async:false,data:{trim:trim_id},success:function(ret){if(ret.code=='success'){return_da=ret.data;}else{console.log(ret.message);}}});return return_da;}
CMPObj.populateColor=function($obj,$target,selected){$target.find('option').remove();var data=this.getColor($obj);if(data!==false&&typeof data!=='undefined'&&data!==false){$.each(data,function(ind,color){if(color.color!=null&&color.color.actual!=''){$target.append($("<option></option>").attr("id","res_opt_"+color.id).attr("value",color.color_id).attr("data-id",color.id).attr("data-tokens",color.color.generic).attr("data-generic",color.color.genric).attr("data-hexcode",color.color.hexcode).text(color.color.actual));}});this.selecteDropOption($target,selected);}else{console.log("Some error occured populateModel");}}
CMPObj.updateColor=function($obj,$target1,$target2){var generic=$obj.find('option:selected').data('generic');var hexcode=$obj.find('option:selected').data('hexcode');if(typeof generic!=='undefined'&&typeof hexcode!=='undefined'){if(typeof $target1!='undefined'){$target1.val(generic);}
if(typeof $target2!='undefined'){$target2.val(hexcode);}}else{console.log("Some error occured color generic");}}
CMPObj.removeAllOption=function($obj){$obj.find('option').remove();}
CMPObj.findProduct=function($obj,category_id,$placeholder,min_char,$button_placeholder,condition){min_char=parseInt(min_char);if(typeof $obj!='undefined'&&typeof $placeholder!='undefined'&&$obj.val()!=''&&$obj.val().length>=min_char&&category_id!=''&&condition!=''){if(false===CMPObj.searching_product){CMPObj.searching_product=false;$obj.parents().eq(1).find("#product_id").remove();if(typeof $button_placeholder!='undefined'&&$button_placeholder!=''){}
$placeholder.html("<div class='loader'><i class='fa fa-cog fa-spin'></i></div>").removeClass('hide');if(prev_product_search_ajax!=null){prev_product_search_ajax.abort();}
prev_product_search_ajax=$.ajax({url:"/product/product-by-title-and-category",type:'GET',dataType:'json',async:true,cache:false,data:{product_title:$obj.val(),category_id:category_id,condition:condition},success:function(ret){CMPObj.searching_product=false;$placeholder.html('');if(ret.code=='success'){if(ret.data.length>0){var lmth='<ul>';CMPObj.obj=$obj;CMPObj.button_placeholder=$button_placeholder;$.each(ret.data,function(ind,ele){CMPObj.category={};CMPObj.category=ele.category;lmth+="<li onclick=\"CMPObj.selectProduct($(this), CMPObj.obj, CMPObj.category, CMPObj.button_placeholder)\" data-id='"+ele.id+"'>";lmth+=ele.product_title;lmth+="</li>";});lmth+='</ul>';$placeholder.html(lmth).removeClass('hide');}else{$placeholder.html('<ul><li>No result found</li></ul>').removeClass('hide');}}else if(ret.code=='failed'){$placeholder.html('<ul><li>No result found</li></ul>').removeClass('hide');}}});}else{console.log("Ongoing request");}}else{$obj.parents().eq(1).find("#product_id").remove();$placeholder.html('').addClass('hide');}
return false;}
CMPObj.selectProduct=function($obj,$placeholder,$category,$button_placeholder){if(typeof $obj!=='undefined'&&typeof $placeholder!=='undefined'){var id=$obj.data('id');var text=$obj.text();if(typeof id!=='undefined'&&id!=''){$("#validMsg, #validCatMsg").html('');$placeholder.val(text);$placeholder.parent().find("#product_id").remove();$placeholder.parent().append("<input type='hidden' name='product_id' id='product_id' value='"+id+"' />");$obj.parents().eq(1).html('').addClass('hide');}else{console.log("Select product data not valid");}}else{console.log("Invalid select product");}}
CMPObj.showListingCreationButtons=function(category,$placeholder){$placeholder.html('');if(typeof category.context!=='undefined'&&category.context!=''){if(category.context=='new'){$placeholder.append('<label for="vehicleDetails">Condition <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="New condition means unused and undamaged vehicles with pristine interior and exterior, to be sold by authorised dealers and OEMs. A vehicle is considered Used if it had at least one previous owner and has been driven earlier."></i></label><div class="form-inline"><div class="radio"><input id="new" type="radio" name="condition" value="new" checked="checked" /><label for="new">New</label></div></div>');}else if(category.context=='used'){$placeholder.append('<label for="vehicleDetails">Condition <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="New condition means unused and undamaged vehicles with pristine interior and exterior, to be sold by authorised dealers and OEMs. A vehicle is considered Used if it had at least one previous owner and has been driven earlier."></i></label><div class="form-inline"><div class="radio"><input id="used" type="radio" name="condition" value="used" checked="checked" /><label for="used">Used</label></div></div>');}else if(category.context=='both'){$placeholder.append('<label for="vehicleDetails">Condition <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="New condition means unused and undamaged vehicles with pristine interior and exterior, to be sold by authorised dealers and OEMs. A vehicle is considered Used if it had at least one previous owner and has been driven earlier."></i></label><div class="form-inline"><div class="radio"><input id="used" name="condition" value="used" type="radio"  checked="checked" /><label for="used">Used</label></div><div class="radio"><input id="new" type="radio" name="condition" value="new"  /><label for="new">New</label></div></div>');}}else{console.log("Product id not found");}}
CMPObj.getCities=function($obj){var return_da=false;if(typeof $obj.val()=='undefined'||$obj.val()==''||$obj.val()==0){return return_da;}
$.ajax({url:"/product/cities",type:'GET',dataType:'JSON',async:false,data:{state_name:$obj.val()},success:function(ret){if(ret.code=='success'){return_da=ret.data;}else{console.log(ret.message);}}});return return_da;}
CMPObj.populateCities=function($obj,$target,selected){$target.find('option').remove();var data=this.getCities($obj);if(data!==false&&typeof data.data!=='undefined'&&data.data!==false){$.each(data.data,function(ind,city){if($obj.val()!==''&&$obj.val()==city.state_name){$target.append($("<option></option>").attr("value",city.city_name).attr("data-state-id",city.state_id).attr("data-state-name",city.state_name).attr("data-id",city.id).text(city.city_name));}});this.selecteDropOption($target,selected);}else{console.log("Some error occured populateCities");}}
CMPObj.selecteDropOption=function($target,selected){if(typeof selected!='undefined'&&selected!=''){$.each(selected,function(ind,ele){$target.find("option:eq('"+ele+"')").prop('selected',true);});}else if(typeof $target.data("selected")!='undefined'&&$target.data("selected")!=''){var selOption=$target.data("selected").split(",");$.each(selOption,function(ind,ele){$target.find("option[value='"+ele+"']").prop('selected',true);});}}
CMPObj.resetProductFind=function($obj,$placeholder,$button_placeholder){if(typeof $obj!='undefined'){$obj.val('');$obj.parents().eq(1).find("#product_id").remove();}
if(typeof $placeholder!='undefined'){$placeholder.html('').addClass('hide');}
if(typeof $button_placeholder!='undefined'&&$button_placeholder!=''){$button_placeholder.html('');}}});function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')
c=c.substring(1);if(c.indexOf(name)==0)
return c.substring(name.length,c.length);}
return"";}
function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires+";path=/";}
function createImpression(key,click){if(!click){click=0;}
var session=getCookie(key+click);$.ajax({url:"/saved_impression",type:"post",data:{key:key,isClick:click,session:session},success:function(data){setCookie(key+click,1,0.00667);data=JSON.parse(data);if(data.code=='success'){console.info('impression added');}else{console.info('failed to add impression');}},});}
function redirectToPreviousPage(){history.go(-1);};;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.moment=factory()}(this,(function(){'use strict';var hookCallback;function hooks(){return hookCallback.apply(null,arguments);}
function setHookCallback(callback){hookCallback=callback;}
function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==='[object Array]';}
function isObject(input){return input!=null&&Object.prototype.toString.call(input)==='[object Object]';}
function isObjectEmpty(obj){var k;for(k in obj){return false;}
return true;}
function isNumber(input){return typeof input==='number'||Object.prototype.toString.call(input)==='[object Number]';}
function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==='[object Date]';}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i));}
return res;}
function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b);}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i];}}
if(hasOwnProp(b,'toString')){a.toString=b.toString;}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf;}
return a;}
function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc();}
function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null};}
function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags();}
return m._pf;}
var some;if(Array.prototype.some){some=Array.prototype.some;}else{some=function(fun){var t=Object(this);var len=t.length>>>0;for(var i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true;}}
return false;};}
var some$1=some;function isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);var parsedParts=some$1.call(flags.parsedDateParts,function(i){return i!=null;});var isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||(flags.meridiem&&parsedParts));if(m._strict){isNowValid=isNowValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined;}
if(Object.isFrozen==null||!Object.isFrozen(m)){m._isValid=isNowValid;}
else{return isNowValid;}}
return m._isValid;}
function createInvalid(flags){var m=createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags);}
else{getParsingFlags(m).userInvalidated=true;}
return m;}
function isUndefined(input){return input===void 0;}
var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject;}
if(!isUndefined(from._i)){to._i=from._i;}
if(!isUndefined(from._f)){to._f=from._f;}
if(!isUndefined(from._l)){to._l=from._l;}
if(!isUndefined(from._strict)){to._strict=from._strict;}
if(!isUndefined(from._tzm)){to._tzm=from._tzm;}
if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC;}
if(!isUndefined(from._offset)){to._offset=from._offset;}
if(!isUndefined(from._pf)){to._pf=getParsingFlags(from);}
if(!isUndefined(from._locale)){to._locale=from._locale;}
if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val;}}}
return to;}
var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN);}
if(updateInProgress===false){updateInProgress=true;hooks.updateOffset(this);updateInProgress=false;}}
function isMoment(obj){return obj instanceof Moment||(obj!=null&&obj._isAMomentObject!=null);}
function absFloor(number){if(number<0){return Math.ceil(number)||0;}else{return Math.floor(number);}}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber);}
return value;}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++;}}
return diffs+lengthDiff;}
function warn(msg){if(hooks.suppressDeprecationWarnings===false&&(typeof console!=='undefined')&&console.warn){console.warn('Deprecation warning: '+msg);}}
function deprecate(msg,fn){var firstTime=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,msg);}
if(firstTime){var args=[];var arg;for(var i=0;i<arguments.length;i++){arg='';if(typeof arguments[i]==='object'){arg+='\n['+i+'] ';for(var key in arguments[0]){arg+=key+': '+arguments[0][key]+', ';}
arg=arg.slice(0,-2);}else{arg=arguments[i];}
args.push(arg);}
warn(msg+'\nArguments: '+Array.prototype.slice.call(args).join('')+'\n'+(new Error()).stack);firstTime=false;}
return fn.apply(this,arguments);},fn);}
var deprecations={};function deprecateSimple(name,msg){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(name,msg);}
if(!deprecations[name]){warn(msg);deprecations[name]=true;}}
hooks.suppressDeprecationWarnings=false;hooks.deprecationHandler=null;function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==='[object Function]';}
function set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop;}else{this['_'+i]=prop;}}
this._config=config;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+(/\d{1,2}/).source);}
function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop]);}else if(childConfig[prop]!=null){res[prop]=childConfig[prop];}else{delete res[prop];}}}
for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop]);}}
return res;}
function Locale(config){if(config!=null){this.set(config);}}
var keys;if(Object.keys){keys=Object.keys;}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i);}}
return res;};}
var keys$1=keys;var defaultCalendar={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'};function calendar(key,mom,now){var output=this._calendar[key]||this._calendar['sameElse'];return isFunction(output)?output.call(mom,now):output;}
var defaultLongDateFormat={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format;}
this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1);});return this._longDateFormat[key];}
var defaultInvalidDate='Invalid date';function invalidDate(){return this._invalidDate;}
var defaultOrdinal='%d';var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace('%d',number);}
var defaultRelativeTime={future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'};function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(isFunction(output))?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number);}
function pastFuture(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return isFunction(format)?format(output):format.replace(/%s/i,output);}
var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+'s']=aliases[shorthand]=unit;}
function normalizeUnits(units){return typeof units==='string'?aliases[units]||aliases[units.toLowerCase()]:undefined;}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop];}}}
return normalizedInput;}
var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority;}
function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj){units.push({unit:u,priority:priorities[u]});}
units.sort(function(a,b){return a.priority-b.priority;});return units;}
function makeGetSet(unit,keepTime){return function(value){if(value!=null){set$1(this,unit,value);hooks.updateOffset(this,keepTime);return this;}else{return get(this,unit);}};}
function get(mom,unit){return mom.isValid()?mom._d['get'+(mom._isUTC?'UTC':'')+unit]():NaN;}
function set$1(mom,unit,value){if(mom.isValid()){mom._d['set'+(mom._isUTC?'UTC':'')+unit](value);}}
function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]();}
return this;}
function stringSet(units,value){if(typeof units==='object'){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units);for(var i=0;i<prioritized.length;i++){this[prioritized[i].unit](units[prioritized[i].unit]);}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value);}}
return this;}
function zeroFill(number,targetLength,forceSign){var absNumber=''+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?(forceSign?'+':''):'-')+
Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber;}
var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==='string'){func=function(){return this[callback]();};}
if(token){formatTokenFunctions[token]=func;}
if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2]);};}
if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token);};}}
function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'');}
return input.replace(/\\/g,'');}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]];}else{array[i]=removeFormattingTokens(array[i]);}}
return function(mom){var output='',i;for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i];}
return output;};}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate();}
format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m);}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input;}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1;}
return format;}
var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return(isStrict&&strictRegex)?strictRegex:regex;};}
function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token));}
return regexes[token](config._strict,config._locale);}
function unescapeFormat(s){return regexEscape(s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4;}));}
function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}
var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==='string'){token=[token];}
if(isNumber(callback)){func=function(input,array){array[callback]=toInt(input);};}
for(i=0;i<token.length;i++){tokens[token[i]]=func;}}
function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token);});}
function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token);}}
var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;var indexOf;if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf;}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i;}}
return-1;};}
var indexOf$1=indexOf;function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate();}
addFormatToken('M',['MM',2],'Mo',function(){return this.month()+1;});addFormatToken('MMM',0,0,function(format){return this.localeData().monthsShort(this,format);});addFormatToken('MMMM',0,0,function(format){return this.localeData().months(this,format);});addUnitAlias('month','M');addUnitPriority('month',8);addRegexToken('M',match1to2);addRegexToken('MM',match1to2,match2);addRegexToken('MMM',function(isStrict,locale){return locale.monthsShortRegex(isStrict);});addRegexToken('MMMM',function(isStrict,locale){return locale.monthsRegex(isStrict);});addParseToken(['M','MM'],function(input,array){array[MONTH]=toInt(input)-1;});addParseToken(['MMM','MMMM'],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month;}else{getParsingFlags(config).invalidMonth=input;}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_');function localeMonths(m,format){if(!m){return this._months;}
return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?'format':'standalone'][m.month()];}
var defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');function localeMonthsShort(m,format){if(!m){return this._monthsShort;}
return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?'format':'standalone'][m.month()];}
function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=createUTC([2000,i]);this._shortMonthsParse[i]=this.monthsShort(mom,'').toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,'').toLocaleLowerCase();}}
if(strict){if(format==='MMM'){ii=indexOf$1.call(this._shortMonthsParse,llc);return ii!==-1?ii:null;}else{ii=indexOf$1.call(this._longMonthsParse,llc);return ii!==-1?ii:null;}}else{if(format==='MMM'){ii=indexOf$1.call(this._shortMonthsParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._longMonthsParse,llc);return ii!==-1?ii:null;}else{ii=indexOf$1.call(this._longMonthsParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._shortMonthsParse,llc);return ii!==-1?ii:null;}}}
function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return handleStrictParse.call(this,monthName,format,strict);}
if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];}
for(i=0;i<12;i++){mom=createUTC([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i');}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i;}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i;}else if(!strict&&this._monthsParse[i].test(monthName)){return i;}}}
function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom;}
if(typeof value==='string'){if(/^\d+$/.test(value)){value=toInt(value);}else{value=mom.localeData().monthsParse(value);if(!isNumber(value)){return mom;}}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom;}
function getSetMonth(value){if(value!=null){setMonth(this,value);hooks.updateOffset(this,true);return this;}else{return get(this,'Month');}}
function getDaysInMonth(){return daysInMonth(this.year(),this.month());}
var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,'_monthsRegex')){computeMonthsParse.call(this);}
if(isStrict){return this._monthsShortStrictRegex;}else{return this._monthsShortRegex;}}else{if(!hasOwnProp(this,'_monthsShortRegex')){this._monthsShortRegex=defaultMonthsShortRegex;}
return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex;}}
var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,'_monthsRegex')){computeMonthsParse.call(this);}
if(isStrict){return this._monthsStrictRegex;}else{return this._monthsRegex;}}else{if(!hasOwnProp(this,'_monthsRegex')){this._monthsRegex=defaultMonthsRegex;}
return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex;}}
function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length;}
var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=createUTC([2000,i]);shortPieces.push(this.monthsShort(mom,''));longPieces.push(this.months(mom,''));mixedPieces.push(this.months(mom,''));mixedPieces.push(this.monthsShort(mom,''));}
shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);}
for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i]);}
this._monthsRegex=new RegExp('^('+mixedPieces.join('|')+')','i');this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp('^('+longPieces.join('|')+')','i');this._monthsShortStrictRegex=new RegExp('^('+shortPieces.join('|')+')','i');}
addFormatToken('Y',0,0,function(){var y=this.year();return y<=9999?''+y:'+'+y;});addFormatToken(0,['YY',2],0,function(){return this.year()%100;});addFormatToken(0,['YYYY',4],0,'year');addFormatToken(0,['YYYYY',5],0,'year');addFormatToken(0,['YYYYYY',6,true],0,'year');addUnitAlias('year','y');addUnitPriority('year',1);addRegexToken('Y',matchSigned);addRegexToken('YY',match1to2,match2);addRegexToken('YYYY',match1to4,match4);addRegexToken('YYYYY',match1to6,match6);addRegexToken('YYYYYY',match1to6,match6);addParseToken(['YYYYY','YYYYYY'],YEAR);addParseToken('YYYY',function(input,array){array[YEAR]=input.length===2?hooks.parseTwoDigitYear(input):toInt(input);});addParseToken('YY',function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input);});addParseToken('Y',function(input,array){array[YEAR]=parseInt(input,10);});function daysInYear(year){return isLeapYear(year)?366:365;}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0;}
hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000);};var getSetYear=makeGetSet('FullYear',true);function getIsLeapYear(){return isLeapYear(this.year());}
function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y);}
return date;}
function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y);}
return date;}
function firstWeekOffset(year,dow,doy){var
fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1;}
function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear;}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year);}else{resYear=year;resDayOfYear=dayOfYear;}
return{year:resYear,dayOfYear:resDayOfYear};}
function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy);}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1;}else{resYear=mom.year();resWeek=week;}
return{week:resWeek,year:resYear};}
function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7;}
addFormatToken('w',['ww',2],'wo','week');addFormatToken('W',['WW',2],'Wo','isoWeek');addUnitAlias('week','w');addUnitAlias('isoWeek','W');addUnitPriority('week',5);addUnitPriority('isoWeek',5);addRegexToken('w',match1to2);addRegexToken('ww',match1to2,match2);addRegexToken('W',match1to2);addRegexToken('WW',match1to2,match2);addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){week[token.substr(0,1)]=toInt(input);});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week;}
var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow;}
function localeFirstDayOfYear(){return this._week.doy;}
function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d');}
function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d');}
addFormatToken('d',0,'do','day');addFormatToken('dd',0,0,function(format){return this.localeData().weekdaysMin(this,format);});addFormatToken('ddd',0,0,function(format){return this.localeData().weekdaysShort(this,format);});addFormatToken('dddd',0,0,function(format){return this.localeData().weekdays(this,format);});addFormatToken('e',0,0,'weekday');addFormatToken('E',0,0,'isoWeekday');addUnitAlias('day','d');addUnitAlias('weekday','e');addUnitAlias('isoWeekday','E');addUnitPriority('day',11);addUnitPriority('weekday',11);addUnitPriority('isoWeekday',11);addRegexToken('d',match1to2);addRegexToken('e',match1to2);addRegexToken('E',match1to2);addRegexToken('dd',function(isStrict,locale){return locale.weekdaysMinRegex(isStrict);});addRegexToken('ddd',function(isStrict,locale){return locale.weekdaysShortRegex(isStrict);});addRegexToken('dddd',function(isStrict,locale){return locale.weekdaysRegex(isStrict);});addWeekParseToken(['dd','ddd','dddd'],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday;}else{getParsingFlags(config).invalidWeekday=input;}});addWeekParseToken(['d','e','E'],function(input,week,config,token){week[token]=toInt(input);});function parseWeekday(input,locale){if(typeof input!=='string'){return input;}
if(!isNaN(input)){return parseInt(input,10);}
input=locale.weekdaysParse(input);if(typeof input==='number'){return input;}
return null;}
function parseIsoWeekday(input,locale){if(typeof input==='string'){return locale.weekdaysParse(input)%7||7;}
return isNaN(input)?null:input;}
var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');function localeWeekdays(m,format){if(!m){return this._weekdays;}
return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?'format':'standalone'][m.day()];}
var defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');function localeWeekdaysShort(m){return(m)?this._weekdaysShort[m.day()]:this._weekdaysShort;}
var defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');function localeWeekdaysMin(m){return(m)?this._weekdaysMin[m.day()]:this._weekdaysMin;}
function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=createUTC([2000,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,'').toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,'').toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,'').toLocaleLowerCase();}}
if(strict){if(format==='dddd'){ii=indexOf$1.call(this._weekdaysParse,llc);return ii!==-1?ii:null;}else if(format==='ddd'){ii=indexOf$1.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null;}else{ii=indexOf$1.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}}else{if(format==='dddd'){ii=indexOf$1.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}else if(format==='ddd'){ii=indexOf$1.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}else{ii=indexOf$1.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf$1.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null;}}}
function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,weekdayName,format,strict);}
if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[];}
for(i=0;i<7;i++){mom=createUTC([2000,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp('^'+this.weekdays(mom,'').replace('.','\.?')+'$','i');this._shortWeekdaysParse[i]=new RegExp('^'+this.weekdaysShort(mom,'').replace('.','\.?')+'$','i');this._minWeekdaysParse[i]=new RegExp('^'+this.weekdaysMin(mom,'').replace('.','\.?')+'$','i');}
if(!this._weekdaysParse[i]){regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='dddd'&&this._fullWeekdaysParse[i].test(weekdayName)){return i;}else if(strict&&format==='ddd'&&this._shortWeekdaysParse[i].test(weekdayName)){return i;}else if(strict&&format==='dd'&&this._minWeekdaysParse[i].test(weekdayName)){return i;}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i;}}}
function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d');}else{return day;}}
function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d');}
function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7);}else{return this.day()||7;}}
var defaultWeekdaysRegex=matchWord;function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysStrictRegex;}else{return this._weekdaysRegex;}}else{if(!hasOwnProp(this,'_weekdaysRegex')){this._weekdaysRegex=defaultWeekdaysRegex;}
return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex;}}
var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysShortStrictRegex;}else{return this._weekdaysShortRegex;}}else{if(!hasOwnProp(this,'_weekdaysShortRegex')){this._weekdaysShortRegex=defaultWeekdaysShortRegex;}
return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;}}
var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysMinStrictRegex;}else{return this._weekdaysMinRegex;}}else{if(!hasOwnProp(this,'_weekdaysMinRegex')){this._weekdaysMinRegex=defaultWeekdaysMinRegex;}
return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;}}
function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length;}
var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=createUTC([2000,1]).day(i);minp=this.weekdaysMin(mom,'');shortp=this.weekdaysShort(mom,'');longp=this.weekdays(mom,'');minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp);}
minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<7;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i]);}
this._weekdaysRegex=new RegExp('^('+mixedPieces.join('|')+')','i');this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp('^('+longPieces.join('|')+')','i');this._weekdaysShortStrictRegex=new RegExp('^('+shortPieces.join('|')+')','i');this._weekdaysMinStrictRegex=new RegExp('^('+minPieces.join('|')+')','i');}
function hFormat(){return this.hours()%12||12;}
function kFormat(){return this.hours()||24;}
addFormatToken('H',['HH',2],0,'hour');addFormatToken('h',['hh',2],0,hFormat);addFormatToken('k',['kk',2],0,kFormat);addFormatToken('hmm',0,0,function(){return''+hFormat.apply(this)+zeroFill(this.minutes(),2);});addFormatToken('hmmss',0,0,function(){return''+hFormat.apply(this)+zeroFill(this.minutes(),2)+
zeroFill(this.seconds(),2);});addFormatToken('Hmm',0,0,function(){return''+this.hours()+zeroFill(this.minutes(),2);});addFormatToken('Hmmss',0,0,function(){return''+this.hours()+zeroFill(this.minutes(),2)+
zeroFill(this.seconds(),2);});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase);});}
meridiem('a',true);meridiem('A',false);addUnitAlias('hour','h');addUnitPriority('hour',13);function matchMeridiem(isStrict,locale){return locale._meridiemParse;}
addRegexToken('a',matchMeridiem);addRegexToken('A',matchMeridiem);addRegexToken('H',match1to2);addRegexToken('h',match1to2);addRegexToken('HH',match1to2,match2);addRegexToken('hh',match1to2,match2);addRegexToken('hmm',match3to4);addRegexToken('hmmss',match5to6);addRegexToken('Hmm',match3to4);addRegexToken('Hmmss',match5to6);addParseToken(['H','HH'],HOUR);addParseToken(['a','A'],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input;});addParseToken(['h','hh'],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true;});addParseToken('hmm',function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true;});addParseToken('hmmss',function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true;});addParseToken('Hmm',function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));});addParseToken('Hmmss',function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));});function localeIsPM(input){return((input+'').toLowerCase().charAt(0)==='p');}
var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM';}else{return isLower?'am':'AM';}}
var getSetHour=makeGetSet('Hours',true);var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,ordinalParse:defaultOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse};var locales={};var localeFamilies={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key;}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale;}
if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break;}
j--;}
i++;}
return null;}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&(typeof module!=='undefined')&&module&&module.exports){try{oldLocale=globalLocale._abbr;require('./locale/'+name);getSetGlobalLocale(oldLocale);}catch(e){}}
return locales[name];}
function getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=getLocale(key);}
else{data=defineLocale(key,values);}
if(data){globalLocale=data;}}
return globalLocale._abbr;}
function defineLocale(name,config){if(config!==null){var parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple('defineLocaleOverride','use moment.updateLocale(localeName, config) to change '+'an existing locale. moment.defineLocale(localeName, '+'config) should only be used for creating a new locale '+'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');parentConfig=locales[name]._config;}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config;}else{if(!localeFamilies[config.parentLocale]){localeFamilies[config.parentLocale]=[];}
localeFamilies[config.parentLocale].push({name:name,config:config});return null;}}
locales[name]=new Locale(mergeConfigs(parentConfig,config));if(localeFamilies[name]){localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config);});}
getSetGlobalLocale(name);return locales[name];}else{delete locales[name];return null;}}
function updateLocale(name,config){if(config!=null){var locale,parentConfig=baseConfig;if(locales[name]!=null){parentConfig=locales[name]._config;}
config=mergeConfigs(parentConfig,config);locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale;getSetGlobalLocale(name);}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale;}else if(locales[name]!=null){delete locales[name];}}}
return locales[name];}
function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr;}
if(!key){return globalLocale;}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale;}
key=[key];}
return chooseLocale(key);}
function listLocales(){return keys$1(locales);}
function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||(a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0))?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE;}
if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK;}
if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY;}
getParsingFlags(m).overflow=overflow;}
return m;}
var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,false],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,false],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,false],['YYYYDDD',/\d{7}/]];var isoTimes=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break;}}
if(dateFormat==null){config._isValid=false;return;}
if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||' ')+isoTimes[i][0];break;}}
if(timeFormat==null){config._isValid=false;return;}}
if(!allowTime&&timeFormat!=null){config._isValid=false;return;}
if(match[4]){if(tzRegex.exec(match[4])){tzFormat='Z';}else{config._isValid=false;return;}}
config._f=dateFormat+(timeFormat||'')+(tzFormat||'');configFromStringAndFormat(config);}else{config._isValid=false;}}
function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return;}
configFromISO(config);if(config._isValid===false){delete config._isValid;hooks.createFromInputFallback(config);}}
hooks.createFromInputFallback=deprecate('value provided is not in a recognized ISO format. moment construction falls back to js Date(), '+'which is not reliable across all browsers and versions. Non ISO date formats are '+'discouraged and will be removed in an upcoming major release. Please refer to '+'http://momentjs.com/guides/#/warnings/js-date/ for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''));});function defaults(a,b,c){if(a!=null){return a;}
if(b!=null){return b;}
return c;}
function currentDateArray(config){var nowValue=new Date(hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()];}
return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()];}
function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return;}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config);}
if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true;}
date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate();}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i];}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i];}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0;}
config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);}
if(config._nextDay){config._a[HOUR]=24;}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true;}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year);week=defaults(w.w,curWeek.week);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true;}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true;}}else{weekday=dow;}}
if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true;}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true;}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear;}}
hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601){configFromISO(config);return;}
config._a=[];getParsingFlags(config).empty=true;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped);}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length;}
if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false;}
else{getParsingFlags(config).unusedTokens.push(token);}
addTimeToArrayFromToken(token,parsedInput,config);}
else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token);}}
getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string);}
if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined;}
getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config);}
function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour;}
if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem);}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12;}
if(!isPm&&hour===12){hour=0;}
return hour;}else{return hour;}}
function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return;}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC;}
tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue;}
currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig;}}
extend(config,bestMoment||tempConfig);}
function configFromObject(config){if(config._d){return;}
var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10);});configFromArray(config);}
function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,'d');res._nextDay=undefined;}
return res;}
function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||getLocale(config._l);if(input===null||(format===undefined&&input==='')){return createInvalid({nullInput:true});}
if(typeof input==='string'){config._i=input=config._locale.preparse(input);}
if(isMoment(input)){return new Moment(checkOverflow(input));}else if(isDate(input)){config._d=input;}else if(isArray(format)){configFromStringAndArray(config);}else if(format){configFromStringAndFormat(config);}else{configFromInput(config);}
if(!isValid(config)){config._d=null;}
return config;}
function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date(hooks.now());}else if(isDate(input)){config._d=new Date(input.valueOf());}else if(typeof input==='string'){configFromString(config);}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10);});configFromArray(config);}else if(typeof(input)==='object'){configFromObject(config);}else if(isNumber(input)){config._d=new Date(input);}else{hooks.createFromInputFallback(config);}}
function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(locale===true||locale===false){strict=locale;locale=undefined;}
if((isObject(input)&&isObjectEmpty(input))||(isArray(input)&&input.length===0)){input=undefined;}
c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c);}
function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false);}
var prototypeMin=deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other;}else{return createInvalid();}});var prototypeMax=deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other;}else{return createInvalid();}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0];}
if(!moments.length){return createLocal();}
res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i];}}
return res;}
function min(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args);}
function max(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args);}
var now=function(){return Date.now?Date.now():+(new Date());};function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+
seconds*1e3+
minutes*6e4+
hours*1000*60*60;this._days=+days+
weeks*7;this._months=+months+
quarters*3+
years*12;this._data={};this._locale=getLocale();this._bubble();}
function isDuration(obj){return obj instanceof Duration;}
function absRound(number){if(number<0){return Math.round(-1*number)*-1;}else{return Math.round(number);}}
function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign='+';if(offset<0){offset=-offset;sign='-';}
return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~(offset)%60,2);});}
offset('Z',':');offset('ZZ','');addRegexToken('Z',matchShortOffset);addRegexToken('ZZ',matchShortOffset);addParseToken(['Z','ZZ'],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input);});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||'').match(matcher);if(matches===null){return null;}
var chunk=matches[matches.length-1]||[];var parts=(chunk+'').match(chunkOffset)||['-',0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return minutes===0?0:parts[0]==='+'?minutes:-minutes;}
function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);hooks.updateOffset(res,false);return res;}else{return createLocal(input).local();}}
function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15;}
hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN;}
if(input!=null){if(typeof input==='string'){input=offsetFromString(matchShortOffset,input);if(input===null){return this;}}else if(Math.abs(input)<16){input=input*60;}
if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this);}
this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,'m');}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){addSubtract(this,createDuration(input-offset,'m'),1,false);}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null;}}
return this;}else{return this._isUTC?offset:getDateOffset(this);}}
function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input;}
this.utcOffset(input,keepLocalTime);return this;}else{return-this.utcOffset();}}
function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime);}
function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),'m');}}
return this;}
function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm);}else if(typeof this._i==='string'){var tZone=offsetFromString(matchOffset,this._i);if(tZone!=null){this.utcOffset(tZone);}
else{this.utcOffset(0,true);}}
return this;}
function hasAlignedHourOffset(input){if(!this.isValid()){return false;}
input=input?createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0;}
function isDaylightSavingTime(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset());}
function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted;}
var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0;}else{this._isDSTShifted=false;}
return this._isDSTShifted;}
function isLocal(){return this.isValid()?!this._isUTC:false;}
function isUtcOffset(){return this.isValid()?this._isUTC:false;}
function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false;}
var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months};}else if(isNumber(input)){duration={};if(key){duration[key]=input;}else{duration.milliseconds=input;}}else if(!!(match=aspNetRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(match[MILLISECOND]*1000))*sign};}else if(!!(match=isoRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)};}else if(duration==null){duration={};}else if(typeof duration==='object'&&('from'in duration||'to'in duration)){diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months;}
ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale;}
return ret;}
createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign;}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+
(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months;}
res.milliseconds=+other-+(base.clone().add(res.months,'M'));return res;}
function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0};}
other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other);}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months;}
return res;}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period). '+'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');tmp=val;val=period;period=tmp;}
val=typeof val==='string'?+val:val;dur=createDuration(val,period);addSubtract(this,dur,direction);return this;};}
function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return;}
updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding);}
if(days){set$1(mom,'Date',get(mom,'Date')+days*isAdding);}
if(months){setMonth(mom,get(mom,'Month')+months*isAdding);}
if(updateOffset){hooks.updateOffset(mom,days||months);}}
var add=createAdder(1,'add');var subtract=createAdder(-1,'subtract');function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,'days',true);return diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';}
function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf('day'),format=hooks.calendarFormat(this,sod)||'sameElse';var output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)));}
function clone(){return new Moment(this);}
function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(!isUndefined(units)?units:'millisecond');if(units==='millisecond'){return this.valueOf()>localInput.valueOf();}else{return localInput.valueOf()<this.clone().startOf(units).valueOf();}}
function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(!isUndefined(units)?units:'millisecond');if(units==='millisecond'){return this.valueOf()<localInput.valueOf();}else{return this.clone().endOf(units).valueOf()<localInput.valueOf();}}
function isBetween(from,to,units,inclusivity){inclusivity=inclusivity||'()';return(inclusivity[0]==='('?this.isAfter(from,units):!this.isBefore(from,units))&&(inclusivity[1]===')'?this.isBefore(to,units):!this.isAfter(to,units));}
function isSame(input,units){var localInput=isMoment(input)?input:createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(units||'millisecond');if(units==='millisecond'){return this.valueOf()===localInput.valueOf();}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf();}}
function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units);}
function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units);}
function diff(input,units,asFloat){var that,zoneDelta,delta,output;if(!this.isValid()){return NaN;}
that=cloneWithOffset(input,this);if(!that.isValid()){return NaN;}
zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);if(units==='year'||units==='month'||units==='quarter'){output=monthDiff(this,that);if(units==='quarter'){output=output/3;}else if(units==='year'){output=output/12;}}else{delta=this-that;output=units==='second'?delta/1e3:units==='minute'?delta/6e4:units==='hour'?delta/36e5:units==='day'?(delta-zoneDelta)/864e5:units==='week'?(delta-zoneDelta)/6048e5:delta;}
return asFloat?output:absFloor(output);}
function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2);}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor);}
return-(wholeMonthDiff+adjust)||0;}
hooks.defaultFormat='YYYY-MM-DDTHH:mm:ssZ';hooks.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';function toString(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');}
function toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if(isFunction(Date.prototype.toISOString)){return this.toDate().toISOString();}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}
function inspect(){if(!this.isValid()){return'moment.invalid(/* '+this._i+' */)';}
var func='moment';var zone='';if(!this.isLocal()){func=this.utcOffset()===0?'moment.utc':'moment.parseZone';zone='Z';}
var prefix='['+func+'("]';var year=(0<this.year()&&this.year()<=9999)?'YYYY':'YYYYYY';var datetime='-MM-DD[T]HH:mm:ss.SSS';var suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix);}
function format(inputString){if(!inputString){inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat;}
var output=formatMoment(this,inputString);return this.localeData().postformat(output);}
function from(time,withoutSuffix){if(this.isValid()&&((isMoment(time)&&time.isValid())||createLocal(time).isValid())){return createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix);}else{return this.localeData().invalidDate();}}
function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix);}
function to(time,withoutSuffix){if(this.isValid()&&((isMoment(time)&&time.isValid())||createLocal(time).isValid())){return createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix);}else{return this.localeData().invalidDate();}}
function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix);}
function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr;}else{newLocaleData=getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData;}
return this;}}
var lang=deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData();}else{return this.locale(key);}});function localeData(){return this._locale;}
function startOf(units){units=normalizeUnits(units);switch(units){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':case'date':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}
if(units==='week'){this.weekday(0);}
if(units==='isoWeek'){this.isoWeekday(1);}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3);}
return this;}
function endOf(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this;}
if(units==='date'){units='day';}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms');}
function valueOf(){return this._d.valueOf()-((this._offset||0)*60000);}
function unix(){return Math.floor(this.valueOf()/1000);}
function toDate(){return new Date(this.valueOf());}
function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()];}
function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()};}
function toJSON(){return this.isValid()?this.toISOString():null;}
function isValid$1(){return isValid(this);}
function parsingFlags(){return extend({},getParsingFlags(this));}
function invalidAt(){return getParsingFlags(this).overflow;}
function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict};}
addFormatToken(0,['gg',2],0,function(){return this.weekYear()%100;});addFormatToken(0,['GG',2],0,function(){return this.isoWeekYear()%100;});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter);}
addWeekYearFormatToken('gggg','weekYear');addWeekYearFormatToken('ggggg','weekYear');addWeekYearFormatToken('GGGG','isoWeekYear');addWeekYearFormatToken('GGGGG','isoWeekYear');addUnitAlias('weekYear','gg');addUnitAlias('isoWeekYear','GG');addUnitPriority('weekYear',1);addUnitPriority('isoWeekYear',1);addRegexToken('G',matchSigned);addRegexToken('g',matchSigned);addRegexToken('GG',match1to2,match2);addRegexToken('gg',match1to2,match2);addRegexToken('GGGG',match1to4,match4);addRegexToken('gggg',match1to4,match4);addRegexToken('GGGGG',match1to6,match6);addRegexToken('ggggg',match1to6,match6);addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){week[token.substr(0,2)]=toInt(input);});addWeekParseToken(['gg','GG'],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input);});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy);}
function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4);}
function getISOWeeksInYear(){return weeksInYear(this.year(),1,4);}
function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy);}
function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year;}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget;}
return setWeekAll.call(this,input,week,weekday,dow,doy);}}
function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this;}
addFormatToken('Q',0,'Qo','quarter');addUnitAlias('quarter','Q');addUnitPriority('quarter',7);addRegexToken('Q',match1);addParseToken('Q',function(input,array){array[MONTH]=(toInt(input)-1)*3;});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3);}
addFormatToken('D',['DD',2],'Do','date');addUnitAlias('date','D');addUnitPriority('date',9);addRegexToken('D',match1to2);addRegexToken('DD',match1to2,match2);addRegexToken('Do',function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient;});addParseToken(['D','DD'],DATE);addParseToken('Do',function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10);});var getSetDayOfMonth=makeGetSet('Date',true);addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear');addUnitAlias('dayOfYear','DDD');addUnitPriority('dayOfYear',4);addRegexToken('DDD',match1to3);addRegexToken('DDDD',match3);addParseToken(['DDD','DDDD'],function(input,array,config){config._dayOfYear=toInt(input);});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d');}
addFormatToken('m',['mm',2],0,'minute');addUnitAlias('minute','m');addUnitPriority('minute',14);addRegexToken('m',match1to2);addRegexToken('mm',match1to2,match2);addParseToken(['m','mm'],MINUTE);var getSetMinute=makeGetSet('Minutes',false);addFormatToken('s',['ss',2],0,'second');addUnitAlias('second','s');addUnitPriority('second',15);addRegexToken('s',match1to2);addRegexToken('ss',match1to2,match2);addParseToken(['s','ss'],SECOND);var getSetSecond=makeGetSet('Seconds',false);addFormatToken('S',0,0,function(){return~~(this.millisecond()/100);});addFormatToken(0,['SS',2],0,function(){return~~(this.millisecond()/10);});addFormatToken(0,['SSS',3],0,'millisecond');addFormatToken(0,['SSSS',4],0,function(){return this.millisecond()*10;});addFormatToken(0,['SSSSS',5],0,function(){return this.millisecond()*100;});addFormatToken(0,['SSSSSS',6],0,function(){return this.millisecond()*1000;});addFormatToken(0,['SSSSSSS',7],0,function(){return this.millisecond()*10000;});addFormatToken(0,['SSSSSSSS',8],0,function(){return this.millisecond()*100000;});addFormatToken(0,['SSSSSSSSS',9],0,function(){return this.millisecond()*1000000;});addUnitAlias('millisecond','ms');addUnitPriority('millisecond',16);addRegexToken('S',match1to3,match1);addRegexToken('SS',match1to3,match2);addRegexToken('SSS',match1to3,match3);var token;for(token='SSSS';token.length<=9;token+='S'){addRegexToken(token,matchUnsigned);}
function parseMs(input,array){array[MILLISECOND]=toInt(('0.'+input)*1000);}
for(token='S';token.length<=9;token+='S'){addParseToken(token,parseMs);}
var getSetMillisecond=makeGetSet('Milliseconds',false);addFormatToken('z',0,0,'zoneAbbr');addFormatToken('zz',0,0,'zoneName');function getZoneAbbr(){return this._isUTC?'UTC':'';}
function getZoneName(){return this._isUTC?'Coordinated Universal Time':'';}
var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$1;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth);proto.months=deprecate('months accessor is deprecated. Use month instead',getSetMonth);proto.years=deprecate('years accessor is deprecated. Use year instead',getSetYear);proto.zone=deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',getSetZone);proto.isDSTShifted=deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',isDaylightSavingTimeShifted);function createUnix(input){return createLocal(input*1000);}
function createInZone(){return createLocal.apply(null,arguments).parseZone();}
function preParsePostFormat(string){return string;}
var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(format,index,field,setter){var locale=getLocale();var utc=createUTC().set(setter,index);return locale[field](utc,format);}
function listMonthsImpl(format,index,field){if(isNumber(format)){index=format;format=undefined;}
format=format||'';if(index!=null){return get$1(format,index,field,'month');}
var i;var out=[];for(i=0;i<12;i++){out[i]=get$1(format,i,field,'month');}
return out;}
function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==='boolean'){if(isNumber(format)){index=format;format=undefined;}
format=format||'';}else{format=localeSorted;index=format;localeSorted=false;if(isNumber(format)){index=format;format=undefined;}
format=format||'';}
var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(index!=null){return get$1(format,(index+shift)%7,field,'day');}
var i;var out=[];for(i=0;i<7;i++){out[i]=get$1(format,(i+shift)%7,field,'day');}
return out;}
function listMonths(format,index){return listMonthsImpl(format,index,'months');}
function listMonthsShort(format,index){return listMonthsImpl(format,index,'monthsShort');}
function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdays');}
function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdaysShort');}
function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdaysMin');}
getSetGlobalLocale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output;}});hooks.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',getSetGlobalLocale);hooks.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',getLocale);var mathAbs=Math.abs;function abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this;}
function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble();}
function add$1(input,value){return addSubtract$1(this,input,value,1);}
function subtract$1(input,value){return addSubtract$1(this,input,value,-1);}
function absCeil(number){if(number<0){return Math.floor(number);}else{return Math.ceil(number);}}
function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!((milliseconds>=0&&days>=0&&months>=0)||(milliseconds<=0&&days<=0&&months<=0))){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0;}
data.milliseconds=milliseconds%1000;seconds=absFloor(milliseconds/1000);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this;}
function daysToMonths(days){return days*4800/146097;}
function monthsToDays(months){return months*146097/4800;}
function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==='month'?months:months/12;}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case'week':return days/7+milliseconds/6048e5;case'day':return days+milliseconds/864e5;case'hour':return days*24+milliseconds/36e5;case'minute':return days*1440+milliseconds/6e4;case'second':return days*86400+milliseconds/1000;case'millisecond':return Math.floor(days*864e5)+milliseconds;default:throw new Error('Unknown unit '+units);}}}
function valueOf$1(){return(this._milliseconds+
this._days*864e5+
(this._months%12)*2592e6+
toInt(this._months/12)*31536e6);}
function makeAs(alias){return function(){return this.as(alias);};}
var asMilliseconds=makeAs('ms');var asSeconds=makeAs('s');var asMinutes=makeAs('m');var asHours=makeAs('h');var asDays=makeAs('d');var asWeeks=makeAs('w');var asMonths=makeAs('M');var asYears=makeAs('y');function get$2(units){units=normalizeUnits(units);return this[units+'s']();}
function makeGetter(name){return function(){return this._data[name];};}
var milliseconds=makeGetter('milliseconds');var seconds=makeGetter('seconds');var minutes=makeGetter('minutes');var hours=makeGetter('hours');var days=makeGetter('days');var months=makeGetter('months');var years=makeGetter('years');function weeks(){return absFloor(this.days()/7);}
var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture);}
function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs();var seconds=round(duration.as('s'));var minutes=round(duration.as('m'));var hours=round(duration.as('h'));var days=round(duration.as('d'));var months=round(duration.as('M'));var years=round(duration.as('y'));var a=seconds<thresholds.s&&['s',seconds]||minutes<=1&&['m']||minutes<thresholds.m&&['mm',minutes]||hours<=1&&['h']||hours<thresholds.h&&['hh',hours]||days<=1&&['d']||days<thresholds.d&&['dd',days]||months<=1&&['M']||months<thresholds.M&&['MM',months]||years<=1&&['y']||['yy',years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a);}
function getSetRelativeTimeRounding(roundingFunction){if(roundingFunction===undefined){return round;}
if(typeof(roundingFunction)==='function'){round=roundingFunction;return true;}
return false;}
function getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false;}
if(limit===undefined){return thresholds[threshold];}
thresholds[threshold]=limit;return true;}
function humanize(withSuffix){var locale=this.localeData();var output=relativeTime$1(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output);}
return locale.postformat(output);}
var abs$1=Math.abs;function toISOString$1(){var seconds=abs$1(this._milliseconds)/1000;var days=abs$1(this._days);var months=abs$1(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds;var total=this.asSeconds();if(!total){return'P0D';}
return(total<0?'-':'')+'P'+
(Y?Y+'Y':'')+
(M?M+'M':'')+
(D?D+'D':'')+
((h||m||s)?'T':'')+
(h?h+'H':'')+
(m?m+'M':'')+
(s?s+'S':'');}
var proto$2=Duration.prototype;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',toISOString$1);proto$2.lang=lang;addFormatToken('X',0,0,'unix');addFormatToken('x',0,0,'valueOf');addRegexToken('x',matchSigned);addRegexToken('X',matchTimestamp);addParseToken('X',function(input,array,config){config._d=new Date(parseFloat(input,10)*1000);});addParseToken('x',function(input,array,config){config._d=new Date(toInt(input));});hooks.version='2.17.1';setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;return hooks;})));
;/*! version : 4.17.43
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 Copyright (c) 2015 Jonathan Peterson
 =========================================================
 */
/*
 The MIT License (MIT)

 Copyright (c) 2015 Jonathan Peterson

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 */
/*global define:false */
/*global exports:false */
/*global require:false */
/*global jQuery:false */
/*global moment:false */
!function(a){"use strict";if("function"==typeof define&&define.amd)
// AMD is used - Register as an anonymous module.
define(["jquery","moment"],a);else if("object"==typeof exports)module.exports=a(require("jquery"),require("moment"));else{
// Neither AMD nor CommonJS used. Use global variables.
if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j,k,l={},m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],r=["days","months","years","decades"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},w={},/********************************************************************************
             *
             * Private functions
             *
             ********************************************************************************/
x=function(){return void 0!==b.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},y=function(a){var c;return c=void 0===a||null===a?b():x()?b.tz(a,j,d.useStrict,d.timeZone):b(a,j,d.useStrict),x()&&c.tz(d.timeZone),c},z=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return i.indexOf("Y")!==-1;case"M":return i.indexOf("M")!==-1;case"d":return i.toLowerCase().indexOf("d")!==-1;case"h":case"H":return i.toLowerCase().indexOf("h")!==-1;case"m":return i.indexOf("m")!==-1;case"s":return i.indexOf("s")!==-1;default:return!1}},A=function(){return z("h")||z("m")||z("s")},B=function(){return z("y")||z("M")||z("d")},C=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-decades").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},D=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return z("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),z("m")&&(z("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),z("s")&&(z("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),h||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},E=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[D()];return z("h")&&e.push(b),z("m")&&e.push(c),z("s")&&e.push(d),e},F=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&B()&&A()&&b.push(a("<td>").append(a("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},G=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(C()),e=a("<div>").addClass("timepicker").append(E()),f=a("<ul>").addClass("list-unstyled"),g=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(F());return d.inline&&b.removeClass("dropdown-menu"),h&&b.addClass("usetwentyfour"),z("s")&&!h&&b.addClass("wider"),d.sideBySide&&B()&&A()?(b.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&b.append(g),b.append(a("<div>").addClass("row").append(c.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&b.append(g),b):("top"===d.toolbarPlacement&&f.append(g),B()&&f.append(a("<li>").addClass(d.collapse&&A()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&f.append(g),A()&&f.append(a("<li>").addClass(d.collapse&&B()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&f.append(g),b.append(f))},H=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},I=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.after(o).parent();else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if(
// Top and bottom logic
"auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),
// Left and right logic
"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),
// find the first parent element that has a relative css positioning
"relative"!==b.css("position")&&(b=b.parents().filter(function(){return"relative"===a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a relative positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?b.outerHeight()-(b===c?0:e.top):"auto",left:"left"===h?b===c?0:e.left:"auto",right:"left"===h?"auto":b.outerWidth()-c.outerWidth()-(b===c?0:e.left)})},J=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},K=function(a){"y"===a&&(a="YYYY"),J({type:"dp.update",change:a,viewDate:f.clone()})},L=function(a){o&&(a&&(k=Math.max(p,Math.min(3,k+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[k].clsName).show())},M=function(){var b=a("<tr>"),c=f.clone().startOf("w").startOf("d");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(f.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},N=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},P=function(a){return d.disabledHours[a.format("H")]===!0},Q=function(a){return d.enabledHours[a.format("H")]===!0},R=function(b,c){if(!b.isValid())return!1;if(d.disabledDates&&"d"===c&&N(b))return!1;if(d.enabledDates&&"d"===c&&!O(b))return!1;if(d.minDate&&b.isBefore(d.minDate,c))return!1;if(d.maxDate&&b.isAfter(d.maxDate,c))return!1;if(d.daysOfWeekDisabled&&"d"===c&&d.daysOfWeekDisabled.indexOf(b.day())!==-1)return!1;if(d.disabledHours&&("h"===c||"m"===c||"s"===c)&&P(b))return!1;if(d.enabledHours&&("h"===c||"m"===c||"s"===c)&&!Q(b))return!1;if(d.disabledTimeIntervals&&("h"===c||"m"===c||"s"===c)){var e=!1;if(a.each(d.disabledTimeIntervals,function(){if(b.isBetween(this[0],this[1]))return e=!0,!1}),e)return!1}return!0},S=function(){for(var b=[],c=f.clone().startOf("y").startOf("d");c.isSame(f,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},T=function(){var b=o.find(".datepicker-months"),c=b.find("th"),g=b.find("tbody").find("span");c.eq(0).find("span").attr("title",d.tooltips.prevYear),c.eq(1).attr("title",d.tooltips.selectYear),c.eq(2).find("span").attr("title",d.tooltips.nextYear),b.find(".disabled").removeClass("disabled"),R(f.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(f.year()),R(f.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),g.removeClass("active"),e.isSame(f,"y")&&!m&&g.eq(e.month()).addClass("active"),g.each(function(b){R(f.clone().month(b),"M")||a(this).addClass("disabled")})},U=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=f.clone().subtract(5,"y"),g=f.clone().add(6,"y"),h="";for(b.eq(0).find("span").attr("title",d.tooltips.prevDecade),b.eq(1).attr("title",d.tooltips.selectDecade),b.eq(2).find("span").attr("title",d.tooltips.nextDecade),a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+g.year()),d.maxDate&&d.maxDate.isBefore(g,"y")&&b.eq(2).addClass("disabled");!c.isAfter(g,"y");)h+='<span data-action="selectYear" class="year'+(c.isSame(e,"y")&&!m?" active":"")+(R(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(h)},V=function(){var a,c=o.find(".datepicker-decades"),g=c.find("th"),h=b({y:f.year()-f.year()%100-1}),i=h.clone().add(100,"y"),j=h.clone(),k=!1,l=!1,m="";for(g.eq(0).find("span").attr("title",d.tooltips.prevCentury),g.eq(2).find("span").attr("title",d.tooltips.nextCentury),c.find(".disabled").removeClass("disabled"),(h.isSame(b({y:1900}))||d.minDate&&d.minDate.isAfter(h,"y"))&&g.eq(0).addClass("disabled"),g.eq(1).text(h.year()+"-"+i.year()),(h.isSame(b({y:2e3}))||d.maxDate&&d.maxDate.isBefore(i,"y"))&&g.eq(2).addClass("disabled");!h.isAfter(i,"y");)a=h.year()+12,k=d.minDate&&d.minDate.isAfter(h,"y")&&d.minDate.year()<=a,l=d.maxDate&&d.maxDate.isAfter(h,"y")&&d.maxDate.year()<=a,m+='<span data-action="selectDecade" class="decade'+(e.isAfter(h)&&e.year()<=a?" active":"")+(R(h,"y")||k||l?"":" disabled")+'" data-selection="'+(h.year()+6)+'">'+(h.year()+1)+" - "+(h.year()+12)+"</span>",h.add(12,"y");m+="<span></span><span></span><span></span>",//push the dangling block over, at least this way it's even
c.find("td").html(m),g.eq(1).text(j.year()+1+"-"+h.year())},W=function(){var b,c,g,h,i=o.find(".datepicker-days"),j=i.find("th"),k=[];if(B()){for(j.eq(0).find("span").attr("title",d.tooltips.prevMonth),j.eq(1).attr("title",d.tooltips.selectMonth),j.eq(2).find("span").attr("title",d.tooltips.nextMonth),i.find(".disabled").removeClass("disabled"),j.eq(1).text(f.format(d.dayViewHeaderFormat)),R(f.clone().subtract(1,"M"),"M")||j.eq(0).addClass("disabled"),R(f.clone().add(1,"M"),"M")||j.eq(2).addClass("disabled"),b=f.clone().startOf("M").startOf("w").startOf("d"),h=0;h<42;h++)//always display 42 days (should show 6 weeks)
0===b.weekday()&&(c=a("<tr>"),d.calendarWeeks&&c.append('<td class="cw">'+b.week()+"</td>"),k.push(c)),g="",b.isBefore(f,"M")&&(g+=" old"),b.isAfter(f,"M")&&(g+=" new"),b.isSame(e,"d")&&!m&&(g+=" active"),R(b,"d")||(g+=" disabled"),b.isSame(y(),"d")&&(g+=" today"),0!==b.day()&&6!==b.day()||(g+=" weekend"),c.append('<td data-action="selectDay" data-day="'+b.format("L")+'" class="day'+g+'">'+b.date()+"</td>"),b.add(1,"d");i.find("tbody").empty().append(k),T(),U(),V()}},X=function(){var b=o.find(".timepicker-hours table"),c=f.clone().startOf("d"),d=[],e=a("<tr>");for(f.hour()>11&&!h&&c.hour(12);c.isSame(f,"d")&&(h||f.hour()<12&&c.hour()<12||f.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(R(c,"h")?"":" disabled")+'">'+c.format(h?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},Y=function(){for(var b=o.find(".timepicker-minutes table"),c=f.clone().startOf("h"),e=[],g=a("<tr>"),h=1===d.stepping?5:d.stepping;f.isSame(c,"h");)c.minute()%(4*h)===0&&(g=a("<tr>"),e.push(g)),g.append('<td data-action="selectMinute" class="minute'+(R(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(h,"m");b.empty().append(e)},Z=function(){for(var b=o.find(".timepicker-seconds table"),c=f.clone().startOf("m"),d=[],e=a("<tr>");f.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(R(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},$=function(){var a,b,c=o.find(".timepicker span[data-time-component]");h||(a=o.find(".timepicker [data-action=togglePeriod]"),b=e.clone().add(e.hours()>=12?-12:12,"h"),a.text(e.format("A")),R(b,"h")?a.removeClass("disabled"):a.addClass("disabled")),c.filter("[data-time-component=hours]").text(e.format(h?"HH":"hh")),c.filter("[data-time-component=minutes]").text(e.format("mm")),c.filter("[data-time-component=seconds]").text(e.format("ss")),X(),Y(),Z()},_=function(){o&&(W(),$())},aa=function(a){var b=m?null:e;
// case of calling setValue(null or false)
// case of calling setValue(null or false)
//viewDate = date.clone(); // TODO this doesn't work right on first use
return a?(a=a.clone().locale(d.locale),x()&&a.tz(d.timeZone),1!==d.stepping&&a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping).seconds(0),void(R(a)?(e=a,g.val(e.format(i)),c.data("date",e.format(i)),m=!1,_(),J({type:"dp.change",date:e.clone(),oldDate:b})):(d.keepInvalid?J({type:"dp.change",date:a,oldDate:b}):g.val(m?"":e.format(i)),J({type:"dp.error",date:a,oldDate:b})))):(m=!0,g.val(""),c.data("date",""),J({type:"dp.change",date:!1,oldDate:b}),void _())},/**
             * Hides the widget. Possibly will emit dp.hide
             */
ba=function(){var b=!1;
// Ignore event if in the middle of a picker transition
return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?l:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",I),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,J({type:"dp.hide",date:e.clone()}),g.blur(),k=0,f=e.clone(),l)):l},ca=function(){aa(null)},da=function(a){
//inputDate.locale(options.locale);
return void 0===d.parseInputDate?b.isMoment(a)||(a=y(a)):a=d.parseInputDate(a),a},/********************************************************************************
             *
             * Widget UI interaction functions
             *
             ********************************************************************************/
ea={next:function(){var a=q[k].navFnc;f.add(q[k].navStep,a),W(),K(a)},previous:function(){var a=q[k].navFnc;f.subtract(q[k].navStep,a),W(),K(a)},pickerSwitch:function(){L(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));f.month(c),k===p?(aa(e.clone().year(f.year()).month(f.month())),d.inline||ba()):(L(-1),W()),K("M")},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDecade:function(b){var c=parseInt(a(b.target).data("selection"),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDay:function(b){var c=f.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),aa(c.date(parseInt(a(b.target).text(),10))),A()||d.keepOpen||d.inline||ba()},incrementHours:function(){var a=e.clone().add(1,"h");R(a,"h")&&aa(a)},incrementMinutes:function(){var a=e.clone().add(d.stepping,"m");R(a,"m")&&aa(a)},incrementSeconds:function(){var a=e.clone().add(1,"s");R(a,"s")&&aa(a)},decrementHours:function(){var a=e.clone().subtract(1,"h");R(a,"h")&&aa(a)},decrementMinutes:function(){var a=e.clone().subtract(d.stepping,"m");R(a,"m")&&aa(a)},decrementSeconds:function(){var a=e.clone().subtract(1,"s");R(a,"s")&&aa(a)},togglePeriod:function(){aa(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(// if collapse plugin is available through bootstrap.js then use it
g.collapse("hide"),h.collapse("show")):(// otherwise just toggle in class on the two views
g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);h||(e.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),aa(e.clone().hours(c)),ea.showPicker.call(l)},selectMinute:function(b){aa(e.clone().minutes(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},selectSecond:function(b){aa(e.clone().seconds(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},clear:ca,today:function(){var a=y();R(a,"d")&&aa(a)},close:ba},fa=function(b){return!a(b.currentTarget).is(".disabled")&&(ea[a(b.currentTarget).data("action")].apply(l,arguments),!1)},/**
             * Shows the widget. Possibly will emit dp.show and dp.change
             */
ga=function(){var b,c={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};// this handles clicks on the widget
return g.prop("disabled")||!d.ignoreReadonly&&g.prop("readonly")||o?l:(void 0!==g.val()&&0!==g.val().trim().length?aa(da(g.val().trim())):m&&d.useCurrent&&(d.inline||g.is("input")&&0===g.val().trim().length)&&(b=y(),"string"==typeof d.useCurrent&&(b=c[d.useCurrent](b)),aa(b)),o=G(),M(),S(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),_(),L(),a(window).on("resize",I),o.on("click","[data-action]",fa),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),I(),o.show(),d.focusOnShow&&!g.is(":focus")&&g.focus(),J({type:"dp.show"}),l)},/**
             * Shows or hides the widget
             */
ha=function(){return o?ba():ga()},ia=function(a){var b,c,e,f,g=null,h=[],i={},j=a.which,k="p";w[j]=k;for(b in w)w.hasOwnProperty(b)&&w[b]===k&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[j]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(l,o),a.stopPropagation(),a.preventDefault())},ja=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},ka=function(b){var c=a(b.target).val().trim(),d=c?da(c):null;return aa(d),b.stopImmediatePropagation(),!1},la=function(){g.on({change:ka,blur:d.debug?"":ba,keydown:ia,keyup:ja,focus:d.allowInputToggle?ga:""}),c.is("input")?g.on({focus:ga}):n&&(n.on("click",ha),n.on("mousedown",!1))},ma=function(){g.off({change:ka,blur:blur,keydown:ia,keyup:ja,focus:d.allowInputToggle?ba:""}),c.is("input")?g.off({focus:ga}):n&&(n.off("click",ha),n.off("mousedown",!1))},na=function(b){
// Store given enabledDates and disabledDates as keys.
// This way we can check their existence in O(1) time instead of looping through whole array.
// (for example: options.enabledDates['2014-02-27'] === true)
var c={};return a.each(b,function(){var a=da(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},oa=function(b){
// Store given enabledHours and disabledHours as keys.
// This way we can check their existence in O(1) time instead of looping through whole array.
// (for example: options.enabledHours['2014-02-27'] === true)
var c={};return a.each(b,function(){c[this]=!0}),!!Object.keys(c).length&&c},pa=function(){var a=d.format||"L LT";i=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=e.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){//temp fix for #740
return e.localeData().longDateFormat(a)||a})}),j=d.extraFormats?d.extraFormats.slice():[],j.indexOf(a)<0&&j.indexOf(i)<0&&j.push(i),h=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,z("y")&&(p=2),z("M")&&(p=1),z("d")&&(p=0),k=Math.max(p,k),m||aa(e)};
// initializing element and component attributes
if(/********************************************************************************
         *
         * Public API functions
         * =====================
         *
         * Important: Do not expose direct references to private objects or the options
         * object to the outer world. Always return a clone when returning values or make
         * a clone when setting a private variable.
         *
         ********************************************************************************/
l.destroy=function(){
///<summary>Destroys the widget and removes all attached event listeners</summary>
ba(),ma(),c.removeData("DateTimePicker"),c.removeData("date")},l.toggle=ha,l.show=ga,l.hide=ba,l.disable=function(){
///<summary>Disables the input element, the component is attached to, by adding a disabled="true" attribute to it.
///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>
return ba(),n&&n.hasClass("btn")&&n.addClass("disabled"),g.prop("disabled",!0),l},l.enable=function(){
///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>
return n&&n.hasClass("btn")&&n.removeClass("disabled"),g.prop("disabled",!1),l},l.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,l},l.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===l[a])throw new TypeError("option "+a+" is not recognized!");l[a](b)}),l},l.date=function(a){
///<signature helpKeyword="$.fn.datetimepicker.date">
///<summary>Returns the component's model current date, a moment object or null if not set.</summary>
///<returns type="Moment">date.clone()</returns>
///</signature>
///<signature>
///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>
///<param name="newDate" locid="$.fn.datetimepicker.date_p:newDate">Takes string, Date, moment, null parameter.</param>
///</signature>
if(0===arguments.length)return m?null:e.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return aa(null===a?null:da(a)),l},l.format=function(a){
///<summary>test su</summary>
///<param name="newFormat">info about para</param>
///<returns type="string|boolean">returns foo</returns>
if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+a);return d.format=a,i&&pa(),l},l.timeZone=function(a){if(0===arguments.length)return d.timeZone;if("string"!=typeof a)throw new TypeError("newZone() expects a string parameter");return d.timeZone=a,l},l.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,l},l.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,j&&pa(),l},l.disabledDates=function(b){
///<signature helpKeyword="$.fn.datetimepicker.disabledDates">
///<summary>Returns an array with the currently set disabled dates on the component.</summary>
///<returns type="array">options.disabledDates</returns>
///</signature>
///<signature>
///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
///options.enabledDates if such exist.</summary>
///<param name="dates" locid="$.fn.datetimepicker.disabledDates_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
///</signature>
if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=na(b),d.enabledDates=!1,_(),l},l.enabledDates=function(b){
///<signature helpKeyword="$.fn.datetimepicker.enabledDates">
///<summary>Returns an array with the currently set enabled dates on the component.</summary>
///<returns type="array">options.enabledDates</returns>
///</signature>
///<signature>
///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>
///<param name="dates" locid="$.fn.datetimepicker.enabledDates_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
///</signature>
if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=na(b),d.disabledDates=!1,_(),l},l.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof a&&!a)return d.daysOfWeekDisabled=!1,_(),l;if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||b<0||isNaN(b)?a:(a.indexOf(b)===-1&&a.push(b),a)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var b=0;!R(e,"d");){if(e.add(1,"d"),31===b)throw"Tried 31 times to find a valid date";b++}aa(e)}return _(),l},l.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&b.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+b.format(i));return d.maxDate=b,d.useCurrent&&!d.keepInvalid&&e.isAfter(a)&&aa(d.maxDate),f.isAfter(b)&&(f=b.clone().subtract(d.stepping,"m")),_(),l},l.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&b.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+b.format(i));return d.minDate=b,d.useCurrent&&!d.keepInvalid&&e.isBefore(a)&&aa(d.minDate),f.isBefore(b)&&(f=b.clone().add(d.stepping,"m")),_(),l},l.defaultDate=function(a){
///<signature helpKeyword="$.fn.datetimepicker.defaultDate">
///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>
///<returns type="Moment">date.clone()</returns>
///</signature>
///<signature>
///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>
///<param name="defaultDate" locid="$.fn.datetimepicker.defaultDate_p:defaultDate">Takes a string, Date, moment, boolean:false</param>
///</signature>
if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,l;"string"==typeof a&&(a="now"===a||"moment"===a?y():y(a));var b=da(a);if(!b.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!R(b))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=b,(d.defaultDate&&d.inline||""===g.val().trim())&&aa(d.defaultDate),l},l.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,e.locale(d.locale),f.locale(d.locale),i&&pa(),o&&(ba(),ga()),l},l.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||a<1)&&(a=1),d.stepping=a,l)},l.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&b.indexOf(a.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,l},l.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?l:(d.collapse=a,o&&(ba(),ga()),l)},l.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(ba(),ga()),l},l.tooltips=function(b){if(0===arguments.length)return a.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return a.extend(d.tooltips,b),o&&(ba(),ga()),l},l.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,l},l.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(ba(),ga()),l},l.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(r.indexOf(a)===-1)throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,k=Math.max(r.indexOf(a),p),L(),l},l.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(u.indexOf(a)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(ba(),ga()),l},l.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),t.indexOf(b.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),s.indexOf(b.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return _(),l},l.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,_(),l},l.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(ba(),ga()),l},l.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(ba(),ga()),l},l.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(ba(),ga()),l},l.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,l},l.focusOnShow=function(a){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof a)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=a,l},l.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,l},l.clear=function(){return ca(),l},l.keyBinds=function(a){return 0===arguments.length?d.keyBinds:(d.keyBinds=a,l)},l.getMoment=function(a){return y(a)},l.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,l},l.allowInputToggle=function(a){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof a)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=a,l},l.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,l},l.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,l},l.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,l},l.parseInputDate=function(a){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof a)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=a,l},l.disabledTimeIntervals=function(b){
///<signature helpKeyword="$.fn.datetimepicker.disabledTimeIntervals">
///<summary>Returns an array with the currently set disabled dates on the component.</summary>
///<returns type="array">options.disabledTimeIntervals</returns>
///</signature>
///<signature>
///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
///options.enabledDates if such exist.</summary>
///<param name="dates" locid="$.fn.datetimepicker.disabledTimeIntervals_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
///</signature>
if(0===arguments.length)return d.disabledTimeIntervals?a.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=b,_(),l},l.disabledHours=function(b){
///<signature helpKeyword="$.fn.datetimepicker.disabledHours">
///<summary>Returns an array with the currently set disabled hours on the component.</summary>
///<returns type="array">options.disabledHours</returns>
///</signature>
///<signature>
///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
///options.enabledHours if such exist.</summary>
///<param name="hours" locid="$.fn.datetimepicker.disabledHours_p:hours">Takes an [ int ] of values and disallows the user to select only from those hours.</param>
///</signature>
if(0===arguments.length)return d.disabledHours?a.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=oa(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.enabledHours=function(b){
///<signature helpKeyword="$.fn.datetimepicker.enabledHours">
///<summary>Returns an array with the currently set enabled hours on the component.</summary>
///<returns type="array">options.enabledHours</returns>
///</signature>
///<signature>
///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>
///<param name="hours" locid="$.fn.datetimepicker.enabledHours_p:hours">Takes an [ int ] of values and allows the user to select only from those hours.</param>
///</signature>
if(0===arguments.length)return d.enabledHours?a.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=oa(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},/**
         * Returns the component's model current viewDate, a moment object or null if not set. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.
         * @param {Takes string, viewDate, moment, null parameter.} newDate
         * @returns {viewDate.clone()}
         */
l.viewDate=function(a){if(0===arguments.length)return f.clone();if(!a)return f=e.clone(),l;if(!("string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return f=da(a),K(),l},c.is("input"))g=c;else if(g=c.find(d.datepickerInput),0===g.length)g=c.find("input");else if(!g.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(
// in case there is more then one 'input-group-addon' Issue #48
n=0===c.find(".datepickerbutton").length?c.find(".input-group-addon"):c.find(".datepickerbutton")),!d.inline&&!g.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");
// Set defaults for date here now instead of in var declaration
return e=y(),f=e.clone(),a.extend(!0,d,H()),l.options(d),pa(),la(),g.prop("disabled")&&l.disable(),g.is("input")&&0!==g.val().trim().length?aa(da(g.val().trim())):d.defaultDate&&void 0===g.attr("placeholder")&&aa(d.defaultDate),d.inline&&ga(),l};/********************************************************************************
     *
     * jQuery plugin constructor and defaults object
     *
     ********************************************************************************/
/**
    * See (http://jquery.com/).
    * @name jQuery
    * @class
    * See the jQuery Library  (http://jquery.com/) for full details.  This just
    * documents the function and classes that are added to jQuery by this plug-in.
    */
/**
     * See (http://jquery.com/)
     * @name fn
     * @class
     * See the jQuery Library  (http://jquery.com/) for full details.  This just
     * documents the function and classes that are added to jQuery by this plug-in.
     * @memberOf jQuery
     */
/**
     * Show comments
     * @class datetimepicker
     * @memberOf jQuery.fn
     */
a.fn.datetimepicker=function(b){b=b||{};var d,e=Array.prototype.slice.call(arguments,1),f=!0,g=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d=a(this);d.data("DateTimePicker")||(
// create a private copy of the defaults object
b=a.extend(!0,{},a.fn.datetimepicker.defaults,b),d.data("DateTimePicker",c(d,b)))});if("string"==typeof b)return this.each(function(){var c=a(this),g=c.data("DateTimePicker");if(!g)throw new Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=g[b].apply(g,e),f=d===g}),f||a.inArray(b,g)>-1?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b)},a.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(7,"d")):this.date(b.clone().add(this.stepping(),"m"))}},down:function(a){if(!a)return void this.show();var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(7,"d")):this.date(b.clone().subtract(this.stepping(),"m"))},"control up":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(1,"y")):this.date(b.clone().add(1,"h"))}},"control down":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(1,"y")):this.date(b.clone().subtract(1,"h"))}},left:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"d"))}},right:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"d"))}},pageUp:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},
//tab: function (widget) { //this break the flow of the form. disabling for now
//    var toggle = widget.find('.picker-switch a[data-action="togglePicker"]');
//    if(toggle.length > 0) toggle.click();
//},
"control space":function(a){a&&a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},"undefined"!=typeof module&&(module.exports=a.fn.datetimepicker)});
;(function($){$(document).load(function(){$.ajax({url:base_url+"/cart-count",type:'get',success:function(response){if(response.code=='success'){var count=response.data;console.log(count);$('#cart_count').html(count);$('.count').html(count);}}});});$(document).ready(function(){var currentUrl=window.location.href.split('/');var page=currentUrl[currentUrl.length-1];var showDmPopUp=$("#dm_step").val();if(typeof showDmPopUp!=='undefined'&&showDmPopUp!=''){$("#dm_step").val('');$('#miles-modal').modal('show');}
if(typeof auth!=='undefined'&&auth==1&&(page=='reseller-program'||page=='refer'||page=='miles'||page=='storemanager'||page=='cart-checkout')){$.ajax({url:"/account/droom-miles-balance",type:'get',success:function(response){$(".step2 h2.heading").html(response+"<span>Current Droom Miles Balance</span><small>1 Droom Mile= &#8377; 1</small>");}});if((typeof reward_data!=='undefined'&&(reward_data===null||reward_data==0||reward_data==''))){$.ajax({type:'GET',url:'/account/droom-miles-match',dataType:'JSON',success:function(data){if(data.code=='success'){reward_data=data.data;}}});}}
$(".close").on('click',function(){$(".step1").removeClass('hidden');$(".step2").addClass('hidden');$(".step3").addClass('hidden');$('.miles').val('');$('.miles_field_match').text(0);$('.total_miles').text(0);$('.add-miles').addClass("disabled");return true;});$("#newsletter_email").click(function(){$('.newsSubError').addClass('hidden');});$("#newsletter_email").keyup(function(){$(this).closest('.form-group').addClass('active');$('.newsSubError').addClass('hidden');});$('#subscribeNewsletterBtn').click(function(){var email=$('#newsletter_email').val();if(!validateEmail(email)){$('.newsSubError').html('Please Enter Valid Email');$('.newsSubError').removeClass('hidden');}else{var subnewsurl="/subscribe-newsletter";$.ajax({url:subnewsurl,method:'GET',dataType:'JSON',data:{'email':email,'source':'droom',},success:function(data){$('.newsSubError').html(data.message);$('.newsSubError').removeClass('hidden');}});}});$('#subscribeModal').click(function(){var email=$('#semail').val();if(!validateEmail(email)){$('.SError').html('Please Enter Valid Email');$('.SError').removeClass('hidden');}else{var subnewsurl="/subscribe-newsletter";$.ajax({url:subnewsurl,method:'POST',dataType:'JSON',data:{'email':email,'source':'droom',},success:function(data){$('#suscribeModal').modal('show');$('.SError').html(data.message);$('.SError').removeClass('hidden');}});}});function validateEmail(email)
{var reg=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(reg.test(email)){return true;}
else{return false;}}
$(".add-miles-next").on('click',function(){$(".step1").addClass('hidden');$(".step2").removeClass('hidden');return true;});$(".add-miles").on('click',function(){var miles=$(".miles").val();if(typeof auth==='undefined'||auth==0){DroomApp.show_msg("Kindly login first!",'error',5000);return false;}
$.ajax({url:'/account/is-eligible-for-bpp',type:'get',data:{'miles':miles},dataType:'json',success:function(d){if(d.code=='success'){if(d.data.eligiblity==true){$(".bpp").removeClass("hidden");}}}});$(".step2").addClass('hidden');$(".step3").removeClass('hidden');return true;});$("input:radio").on("click",function(){$('input:radio').each(function(){if($(this).is(':checked')){if($(this).val()=='PGW'){$('#buy-miles').addClass('add-miles-btn');}else{$('#buy-miles').removeClass('add-miles-btn');}}});});$(".miles").on('keyup',function(){var miles=$(".miles").val();if(typeof miles==='undefined'||miles==0||!$.isNumeric(miles)){$('.text-danger').removeClass("hidden");$('.miles_field_match').text(0);$('.total_miles').text(0);$('.add-miles').addClass("disabled");return false;}else{$('.text-danger').addClass("hidden");$('.add-miles').removeClass("disabled");}
if(typeof auth==='undefined'||auth==0){DroomApp.show_msg("Kindly login first!",'error',5000);return false;}
var match=0;var perc=0;if(typeof reward_data!=='undefined'&&reward_data!==null&&reward_data!==0&&reward_data!==''){for(var i=0;i<reward_data.length;i++){if(reward_data[i]['type']=='direct'){perc=reward_data[i]['reward'];match=miles*(perc/100);match=parseInt(match);break;}else if(reward_data[i]['type']=='slab'){if(parseInt(reward_data[i]['range_from'])<=parseInt(miles)&&parseInt(reward_data[i]['range_to'])>=parseInt(miles)){perc=reward_data[i]['reward'];match=miles*(perc/100);match=parseInt(match);break;}}}}
$('#miles_field_match1').val(match);$('#miles_field_match1').text(match);$('#miles_field_match2').val(match);$('#miles_field_match2').text(match);$('#miles_field_match3').val(match);$('#miles_field_match3').text(match);var total=parseInt(miles)+match;$('#total_miles').text('');$('#total_miles').text(total);$('#miles1').val(miles);$('#miles1').text(miles);$('#miles2').val(miles);$('#miles2').text(miles);$('#miles3').val(miles);$('#miles3').text(miles);$('#reward-perc').html(perc+"% Free <br>Droom Miles Offer");return true;});$('#agree-terms').on('click',function(){if($(this).is(":checked")){$("#buy-miles").removeClass("disabled");$('.text-danger').addClass("hidden");}else{$("#buy-miles").addClass("disabled");$('.text-danger').removeClass("hidden");}});$('#add_miles_form').on('submit',function(){if(!$(this).is(":checked")){$('.text-danger').removeClass("hidden");}
if($(".add-miles-btn").hasClass('disabled')){return false;}
var miles=parseInt($('input[name="miles"]').text());var payment=$('input[name="options"]:checked').val();if(miles==''){DroomApp.show_msg("Kindly enter miles!",'error',5000);return false;}
if(!$.isNumeric(miles)){DroomApp.show_msg("Kindly enter miles in numbers!",'error',5000);return false;}
if(miles<1){DroomApp.show_msg("You can only add miles greater than or equal to 1",'error');return false;}
if(typeof auth==='undefined'||auth==0){DroomApp.show_msg("Kindly login first!",'error',5000);return false;}
if(payment=='PGW'){$.ajax({url:'/account/droom-miles',type:'post',data:$(this).serialize(),dataType:'json',beforeSend:function(){$(".add-miles-btn").attr('disabled','disabled').text("Submitting...");$(".text-danger").addClass("hidden");},success:function(d){if(d.code=='success'){if(typeof isMobileDevice!=='undefined'&&isMobileDevice==1){window.location.href='/cart-checkout';}else{window.location.href='/cart-checkout?step=2';}}else{DroomApp.show_msg(d.errors,'error');}
$(".add-miles-btn").removeAttr('disabled').text("Submit");},error:function(){$(".add-miles-btn").removeAttr('disabled').text("Submit");}});}else if(payment=='BPP'){$.ajax({url:'/account/droom-miles-bpp-pay',type:'post',data:$(this).serialize(),dataType:'json',beforeSend:function(){$(".add-miles-btn").attr('disabled','disabled').text("Submitting...");},success:function(d){if(d.code=='success'){window.location.href='/account/droom-miles?order_success=1';}else if(d.code=='failed'){DroomApp.show_msg(d.errors,'error');}
$(".add-miles-btn").removeAttr('disabled').text("Submit");},error:function(){$(".add-miles-btn").removeAttr('disabled').text("Submit");}});}else if(typeof payment==='undefined'||payment==''){DroomApp.show_msg("Kindly choose a payment option",'error');$(".text-danger").addClass("hidden");}
return false;});$("#add-mile-home").on('click',function(){$(".step1").addClass('hidden');$(".step2").removeClass('hidden');$(".step3").addClass('hidden');$(".step4").addClass('hidden');});$("#top-up-mile-home").on('click',function(){$(".step1").addClass('hidden');$(".step2").addClass('hidden');$(".step3").addClass('hidden');$(".step4").removeClass('hidden');});$("#top-up-miles").on('click',function(){$(".step1").addClass('hidden');$(".step2").addClass('hidden');$(".step3").addClass('hidden');$(".step4").removeClass('hidden');});$("#trans-history").on('click',function(){$("#miles-modal-dashboard").modal("hide");$('html, body').animate({scrollTop:$("#miles-statement").offset().top-130},2000);});$("#add-miles").on('click',function(){$(".step1").addClass("hidden");$(".step2").removeClass("hidden");$(".step3").addClass("hidden");$(".step4").addClass("hidden");});$("#proc-to-miles-pay").on('click',function(){var error=0;var miles=parseInt($('input[name="miles"]').text());if(miles==''||miles==0){DroomApp.show_msg("Kindly enter miles greater than or equal to 1!",'error',5000);error=1;}else if(!$.isNumeric(miles)){DroomApp.show_msg("Kindly enter miles in numbers!",'error',5000);error=1;}else if(miles<1){DroomApp.show_msg("You can only add miles greater than or equal to 1",'error');error=1;}
if(error==1){$(".step1").addClass("hidden");$(".step2").removeClass("hidden");$(".step3").addClass("hidden");$(".step4").addClass("hidden");}else{$(".step1").addClass("hidden");$(".step2").addClass("hidden");$(".step3").removeClass("hidden");$(".step4").addClass("hidden");}});$(".close").on('click',function(){$(".step1").removeClass('hidden');$(".step2").addClass('hidden');$(".step3").addClass('hidden');$(".step4").addClass('hidden');$(".text-danger").addClass('hidden');$('.miles').val('');$('.miles_field_match').text(0);$('.total_miles').text(0);$('.add-miles').addClass("disabled");return true;});$("#agree-terms1").on('click',function(){if($(this).is(":checked")){$("#top-up-options").removeClass('disabled');$('.text-danger').addClass("hidden");}else{$("#top-up-options").addClass('disabled');$('.text-danger').removeClass("hidden");}});});})(jQuery);function topup(){if($("#top-up-options").hasClass("disabled")){if(!$("#agree-terms1").is(":checked")){$('.text-danger').removeClass("hidden");}
return false;}
var min_balance=$("#min_balance").val();var top_up_opt='';$(".top_up_options").each(function(){if($(this).is(":checked")){top_up_opt=$(this).val();}});if(typeof min_balance==='undefined'||min_balance==0||!$.isNumeric(min_balance)){DroomApp.show_msg("Kindly enter valid minimum miles balance!",'error',5000);$("#top-up-options").removeClass("disabled");return false;}
if(min_balance<500){DroomApp.show_msg("Minimum miles balance can be equal to or greater than 500!",'error',5000);$("#top-up-options").removeClass("disabled");return false;}
if(top_up_opt==undefined||top_up_opt==''){DroomApp.show_msg("Kindly choose a top up method!",'error',5000);$("#top-up-options").removeClass("disabled");return false;}
if(typeof auth==='undefined'||auth==0){DroomApp.show_msg("Kindly login first!",'error',5000);return false;}
$.ajax({url:'/account/droom-miles-min-balance',type:'POST',data:{'min_balance':min_balance,'payment_method':top_up_opt},success:function(d){if(d.code=='success'){$("#min_balance").val(d.data.min_bal);$(".top_up_options").each(function(){if($(this).val()==d.data.pay_opt){$(this).attr("checked","checked");}});DroomApp.show_msg("Your changes have been updated successfully!",'success',5000);$("#miles-modal-dashboard").modal('hide');$(".step1").removeClass('hidden');$(".step2").addClass('hidden');$(".step3").addClass('hidden');$(".step4").addClass('hidden');}}});}
$('.view-all-list').click(function(){if($('#open_ul').slideDown(250)){$('.view-all-list').hide();}else{$('.view-all-list').show();}});;var DroomAppMagic=DroomAppMagic||new function(){var self=this;var productJSON={};this.redirecting=null;this.popular_searches="";this.bind=function(){$("body").on("click","#check_dashboard_widget",function(){self.loadProductsJson();self.load_popular_searches();});$('#dashboard-modal').on('shown.bs.modal',function(){self.loadProductsJson();setTimeout(function(){$('#dashboard-modal').modal('hide');},180000);self.load_popular_searches();});if(window.location.pathname!=='/dashboard'){var idleTime=0;if((getCookie('droom_dp')!=1)){setInterval(timerIncrement,1000);}
$('html').bind('mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick',function(){idleTime=0;});function timerIncrement(){idleTime=idleTime+1;if(idleTime>30){if((getCookie('droom_dp')!=1)){setCookie('droom_dp',1,1);}}};}else{this.loadProductsJson();}
$("#category_dashboard").on("change",function(){self.dashdisplayMakeNew();});$("#make_dashboard").on("change",function(){self.dashdisplayModelNew();});$("#model_dashboard").on("change",function(){self.dashdisplayYearNew();});$("#year_dashboard").on("change",function(){self.dashdisplayTrimNew();});$('#trim_dashboard').on('change',function(){if($(this).val()==''){$('#cmmyt-search').addClass('disabled');}else{$('#cmmyt-search').removeClass('disabled');}});$(".dashboard-home").on('click','li a',function(){var dashboard_id=$(this).data('id');$("#dashboard_autosuggest_list").html(" ");$(".scan-loader").removeClass("hidden");$.ajax({url:"/dashboard-home",type:"GET",data:{'dashboard':dashboard_id},dataType:"JSON",success:function(d){if(d.code=='success'){$("#dashboard-step1").addClass("hidden");$("#dashboard-step2").removeClass("hidden");$(".scan-loader").addClass("hidden");$("#dashboard-step2").html(d.data);}}});return false;});$('#cmmyt-search').on('click',function(){$(".scan-loader").removeClass("hidden");$("#dashboard-step2").addClass("hidden");var make=$('#make_dashboard').val();var model=$('#model_dashboard').val();var year=$('#year_dashboard').val();var trim=$('#trim_dashboard').val();var is_home=$('#home_dashboard').val();var data={'make':make,'model':model,'year':year,'trim':trim};if(is_home=='yes'){if(!make&&!model&&!year&&!trim){$('#field_error').removeClass('hidden');return false;}
$('#field_error').addClass('hidden');$.ajax({url:"/dashboard-home",type:"GET",data:{'make':make,'model':model,'year':year,'trim':trim,'is_home':'yes','source':btoa($.param(data))},dataType:"JSON",success:function(d){if(d.code=='success'){$("#dashboard-step1").addClass("hidden");$("#dashboard-step2").removeClass("hidden");$(".scan-loader").addClass("hidden");$("#dashboard-step2").html(d.data);}}});}else{window.location.href='/dashboard?source='+btoa($.param(data));return false;}});$("body").on("click",".search-option a",function(){var $this=$(this);if($this.text()==="Or Search"){$(".magic-form.top").removeClass("hidden");$(".magic-form.bottom").addClass("hidden");$this.text("Back");}else{$(".magic-form.top").addClass("hidden");$(".magic-form.bottom").removeClass("hidden");$this.text("Or Search");}});$("body").on("click","#return-form",function(){$(".scan-block").addClass("hidden");$(".form-block").removeClass("hidden");});$("#auto-suggest-dashboard").focus(function(){if($("#auto-suggest-dashboard").val().length<1){if(self.popular_searches==""){var showPSI=setInterval(function(){$("#dashboard_autosuggest_list").show().html(self.popular_searches)
clearInterval(showPSI);},1000);}else{}}else{$("#dashboard_autosuggest_list").show()
self.load_autosuggest();}});$("body").on('keydown',"#auto-suggest-dashboard",function(e){if(e.which===13){var href=$("#dashboard_autosuggest_list").find("li.selected a").attr("href");if(href!==undefined){window.location.href=href;return false;}
return false;}});$("body").on('keyup',"#auto-suggest-dashboard",function(e){switch(e.which){case 40:e.preventDefault();var val=$(this).val();$(this).focus().val('').val(val);$("#dashboard_autosuggest_list").find('li:not(:last-child).selected').removeClass('selected').next().addClass('selected');break;case 38:e.preventDefault();var val=$(this).val();$(this).focus().val('').val(val);$("#dashboard_autosuggest_list").find('li:not(:first-child).selected').removeClass('selected').prev().addClass('selected');break;default:self.load_autosuggest();break;}});$("#magic_form").on("click",function(e){e.stopPropagation();});var image_type='';$("body").on("change",".scan_image",function(){var $this=$(this);self.readImageURL(this,function(e){$("#scan_image_preview").attr('src',e.target.result);image_type=$this.attr('name');$("#magic_form").submit();});});$("body").on("submit","#magic_form",function(){var dashHome='no';dashHome=$('#magic_form').data('home');var formData=new FormData($(this)[0]);formData.append('action',image_type);$.ajax({url:"/dashboard-upload",type:'POST',data:formData,dataType:"json",beforeSend:function(){self.reset_image_data();var counter=0;var text=["Initializing","Scanning","Matching"];var inst=setInterval(function(){$(".scan-loader i").text(text[counter]);counter++;if(counter>=text.length){counter=0;clearInterval(inst);}},2000);},success:function(data){if(image_type=='vehicle_plate'){$(".scan-details.vehicle_plate").removeClass("hidden");$(".scan-loader").addClass("hidden");if(data.code=='success'){$(".scan-loader i").text("Done!");var m=data.message;var msg="<div class='loader text-center'>"+m+"<span></span><span></span><span></span></div>";$(".search-msg").html(msg);if(dashHome=='yes'){$.ajax({url:"/dashboard-home",type:"GET",data:{'dashboard':data.data},dataType:"JSON",success:function(d){if(d.code=='success'){$("#dashboard-step1").addClass("hidden");$("#dashboard-step2").removeClass("hidden");$(".scan-loader").addClass("hidden");$("#dashboard-step2").html(d.data);return false;}}});}else{self.redirecting=setTimeout(function(){$(".scan_again").addClass('scan_none');window.location.href='/dashboard?dashboard='+data.data;clearInterval(self.redirecting);},5000);}}else{if(dashHome=='yes'){$("#search-error").text(data.errors);setTimeout(function(){$("#search-error").text(' ');},3000);}else{$(".search-msg").text(data.errors);}}
if(typeof data.reg_number!="undefined"&&data.reg_number!=""){$("#regNum").text(data.reg_number);}else{$("#regNum").text("XXXXXXXXXX");}}else if(image_type=='vehicle_image'){$(".scan-details.vehicle_image").removeClass("hidden");$(".scan-loader").addClass("hidden");if(data.code=='success'){var m=data.message;$("#makeModel").text(data.title);$("#vehicle_Model").val(data.model);$("#vehicle_Make").val(data.make);$(".search-msg-image").html(m);data.home='yes';self.load_popular_product(data);return false;$(".vehicle_image_trimyear").removeClass("hidden");if(typeof data.data.years!=='undefined'){var html1="<select><option value=''>Select Year</option>";data.data.years.map(function(year){html1+="<option value='"+year+"'>"+year+"</option>";});html1+="</select>";$('#year_dashboard_2').removeClass('hidden');$('#year_dashboard_2').html(html1);}
$("body").on("change","#year_dashboard_2",function(){if($(this).val()){var pro_make=pro_trim={};var cat_id=1;if(data.category=='bike'){cat_id=2;}if(data.category=='scooter'){cat_id=3;}
for(var make in productJSON[cat_id]){if(make.toLowerCase()===data.make.toLowerCase()){pro_make=productJSON[cat_id][make];for(var model in pro_make){if(model.toLowerCase()===data.model.toLowerCase()){pro_trim=productJSON[cat_id][make][model][$(this).val()];}}}}
if(pro_trim){var trims=[];$.each(pro_trim,function(index,value){trims.push(value);});var options='<option value="">Select Trim</option>';$.each(trims,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#trim_dashboard_2").removeClass('hidden');$("#trim_dashboard_2").html(options);}}});$("body").on("change","#trim_dashboard_2",function(){$("#vehicle-img-search").removeClass('hidden');});$('#vehicle-img-search').on('click',function(){$("#vehicle-img-search").addClass('disabled');$("#vehicle-img-search").text('Searching..');$(".scan_again").addClass('scan_none');var make=$('#vehicle_Make').val();var model=$('#vehicle_Model').val();var year=$('#year_dashboard_2').val();var trim=$('#trim_dashboard_2').val();var data={'make':make,'model':model,'year':year,'trim':trim};window.location.href='/dashboard?source='+btoa($.param(data));return false;});}else{$("#search-error").text('Unable To Match Vehicle. Please Try Again.');setTimeout(function(){$("#search-error").text(' ');},3000);$(".search-msg-image").text(data.errors);$("#makeModel").text("Make Model");}}},error:function(){if(image_type=='vehicle_plate'){$(".scan-details.vehicle_plate").removeClass("hidden");$(".scan-loader").addClass("hidden");$("#regNum").text("XXXXXXXXXX");$(".search-msg").text("Vehicle record not found! We are expanding our database daily, please come back soon.");}else if(image_type=='vehicle_image'){$(".scan-details.vehicle_image").removeClass("hidden");$(".search-msg-image").removeClass("hidden").html("Vehicle record not found! We are expanding our database daily, please come back soon.");$(".scan-loader").addClass("hidden");$("#makeModel").text("Make Model");}},cache:false,contentType:false,processData:false});return false;});$("#product_year").on("change",function(){var category_id=$('#product_cat').val();var make=$('#product_make').val();var model=$('#product_model').val();var product_trim=$('#product_trim').val();var product_year=$('#product_year').val();var product_trim_json=productJSON[category_id][make][model][product_year];var trim_exist=0;if(product_trim_json){$.each(product_trim_json,function(index,value){if(product_trim==value){trim_exist=1;}});}
if(trim_exist){var data={'make':make,'model':model,'year':product_year,'trim':product_trim};window.location.href='/dashboard?source='+btoa($.param(data));return false;}else{self.load_product_trim();}});$("#product_trim").on("change",function(){var make=$('#product_make').val();var model=$('#product_model').val();var year=$('#product_year').val();var trim=$('#product_trim').val();var data={'make':make,'model':model,'year':year,'trim':trim};window.location.href='/dashboard?source='+btoa($.param(data));return false;});$("#product_year").hover(function(){if($('#product_year > option').length==1){self.load_product_year_trim();}});};this.prev_q_val=null;this.load_autosuggest=function(){var data={};var q=$('#auto-suggest-dashboard').val();if(q.length<=0){$("#dashboard_autosuggest_list").show().html(self.popular_searches);return false;}
if(self.prev_q_val==q){return false;}
self.prev_q_val=q;data['q']=q;data['dashboard']=q;self.prev_search_ajax=$.ajax({type:"GET",url:base_url+"/core/dashboardautosuggest.php?"+$.param(data),beforeSend:function(){$("#dashboard_autosuggest_list").show().html("<div class='loader'><i class='fa fa-cog fa-spin'></i></div>");},success:function(d){prev_search_ajax=null;if(d.length>0){$("#dashboard_autosuggest_list").show().html(d);}}});}
this.readImageURL=function(input,callback){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=callback;reader.readAsDataURL(input.files[0]);}};this.loadProductsJson=function(){$.ajax({url:"/obvproductjson",type:"get",dataType:"JSON",data:{},success:function(data){productJSON=data.data;}});};this.dashdisplayMakeNew=function(){var category_id=$('#category_dashboard').val();var product_category=productJSON[category_id];if(product_category){var Makes=[];$.each(product_category,function(index,value){Makes.push(index);});var options='<option value="">Select Make</option>';$.each(Makes,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#make_dashboard").html(options);}
$("#model_dashboard").html('<option value=""> Select Model </option>');$("#year_dashboard").html('<option value=""> Select Year </option>');$("#trim_dashboard").html('<option value=""> Select Trim </option>');$('#cmmyt-search').addClass('disabled');};this.dashdisplayModelNew=function(){var category_id=$('#category_dashboard').val();var make=$('#make_dashboard').val();var product_make=productJSON[category_id][make];if(product_make){var models=[];$.each(product_make,function(index,value){models.push(index);});var options='<option value="">Select Model</option>';$.each(models,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#model_dashboard").html(options);}
$("#year_dashboard").html('<option value=""> Select Year </option>');$("#trim_dashboard").html('<option value=""> Select Trim </option>');$('#cmmyt-search').addClass('disabled');};this.dashdisplayYearNew=function(){var category_id=$('#category_dashboard').val();var make=$('#make_dashboard').val();var model=$('#model_dashboard').val();var product_model=productJSON[category_id][make][model];if(product_model){var year=[];$.each(product_model,function(index,value){year.push(index);});var options='<option value="">Select Year</option>';$.each(year.reverse(),function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#year_dashboard").html(options);}
$("#trim_dashboard").html('<option value=""> Select Trim </option>');$('#cmmyt-search').addClass('disabled');};this.dashdisplayTrimNew=function(){var category_id=$('#category_dashboard').val();var make=$('#make_dashboard').val();var model=$('#model_dashboard').val();var year=$('#year_dashboard').val();$('#cmmyt-search').addClass('disabled');var product_year=productJSON[category_id][make][model][year];if(product_year){var trims=[];$.each(product_year,function(index,value){trims.push(value);});var options='<option value="">Select Trim</option>';$.each(trims,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#trim_dashboard").html(options);}};this.load_popular_searches=function(){$.ajax({url:"/dashboard?popular_searches=1",type:"GET",data:{},dataType:"JSON",success:function(d){if(d.code=='success'){self.popular_searches=d.html;}}});};this.reset_image_data=function(){$("#vehicle-scan-errors").text("");$("#makeModel").text("");$("#vehicle-img-search").addClass('hidden');$("#trim_dashboard_2").text("");$("#year_dashboard_2").text("");$(".scan-block").removeClass("hidden");$(".form-block").addClass("hidden");$("#trim_dashboard_2").addClass("hidden");$("#year_dashboard_2").addClass("hidden");$(".scan-details").addClass("hidden");$(".scan-loader").removeClass("hidden");$('.reg-info').removeClass('hidden');$(".scan-details .details").removeClass("hidden");};this.load_popular_product=function(d){var make=d.make;var model=d.model;var is_home=d.home;$.ajax({url:"/popular-product-by-mmodel",type:'POST',data:{'make':make,'model':model},dataType:"json",beforeSend:function(){$(".search-msg").show().html("<div class='loader'><i class='fa fa-cog fa-spin'></i><p>Searching for the vehicle records in our database</p></div>");},success:function(data){if(data.code=='success'){$(".scan-loader i").text("Done!");var m=data.message;var msg="<div class='loader text-center'>"+m+"<span></span><span></span><span></span></div>";$(".search-msg").html(msg);if(is_home=='yes'){$.ajax({url:"/dashboard-home",type:"GET",data:{'dashboard':data.data.product},dataType:"JSON",success:function(d){if(d.code=='success'){$("#dashboard-step1").addClass("hidden");$("#dashboard-step2").removeClass("hidden");$(".scan-loader").addClass("hidden");$("#dashboard-step2").html(d.data);return false;}else{$("#search-error").text('Unable To Match Vehicle. Please Try Again.');setTimeout(function(){$("#search-error").text(' ');},3000);}}});}else{self.redirecting=setTimeout(function(){$(".scan_again").addClass('scan_none');window.location.href='/dashboard?dashboard='+data.data.product;clearInterval(self.redirecting);},5000);}}else{$(".search-msg").text(data.errors);}}});return false;};this.load_product_year_trim=function(){var category_id=$('#product_cat').val();var make=$('#product_make').val();var model=$('#product_model').val();var product_model=productJSON[category_id][make][model];if(product_model){var year=[];$.each(product_model,function(index,value){year.push(index);});var options='';$.each(year.reverse(),function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#product_year").html(options);}
var year=$('#prod_year').val();var trim=$('#prod_trim').val();var product_year=productJSON[category_id][make][model][year];if(product_year){var trims=[];$.each(product_year,function(index,value){trims.push(value);});var options='';$.each(trims,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#product_trim").html(options);}
$("#product_year > option").each(function(){$('#product_year').val($('#prod_year').val());if(this.value==year){$('#product_year').val(year);}});$("#product_trim > option").each(function(){if(this.value==trim){$('#product_trim').val(trim);}});};this.load_product_trim=function(){var category_id=$('#product_cat').val();var make=$('#product_make').val();var model=$('#product_model').val();var year=$('#product_year').val();var product_year=productJSON[category_id][make][model][year];if(product_year){var trims=[];$.each(product_year,function(index,value){trims.push(value);});var options='';$.each(trims,function(index,value){options=options+'<option id="'+value+'" value="'+value+'">'+value+'</option>';});$("#product_trim").html(options);}};this.set_year_trim=function(){var year_options='';var trim_options='';year_options=year_options+'<option id="'+$('#prod_year').val()+'" value="'+$('#prod_year').val()+'">'+$('#prod_year').val()+'</option>';trim_options=trim_options+'<option id="'+$('#prod_trim').val()+'" value="'+$('#prod_trim').val()+'">'+$('#prod_trim').val()+'</option>';$("#product_year").html(year_options);$("#product_trim").html(trim_options);};};$(function(){DroomAppMagic.bind();});;var DroomAppSearchBar=DroomAppSearchBar||new function(){var self=this;this.prev_search_ajax=null;this.products=[];this.flag=0;this.length=0;this.source=cdn_url?cdn_url:'https://cdn1.acedms.com';this.source_path=this.source+'/photos/cmp_products/';this.bind=function(){$("#main_search").focus(function(){self.loadProducts();self.find_items();});$("#header_search_box").on("submit","form",function(){var href=$("#main_search_results").find("li.selected a").attr("href");if(typeof href!=='undefined'){window.location.href=href;return false;}
var cat='';if($("#search_category_id").val()!=undefined&&$("#search_category_id").val()!=""){cat="&category="+$("#search_category_id").val();}
window.location.href='/search?q='+$('#main_search').val()+''+cat;return false;});$('header').on('click',function(e){if($(e.target).parents("#main_header_location").hasClass("lp-main")){return false;}
if($(".header-location").hasClass('active')){$(".header-location").removeClass('active');$("body").find('.overlay').addClass("hidden");}});$('#search_category_id').on('focus',function(){if($(".header-location").hasClass('active')){$(".header-location").removeClass('active');$("body").find('.overlay').addClass("hidden");}});$("body").on('click',"#main_search_results a",function(){var title=$(this).text();var link=$(this).attr("href");self.recent_search_searchbar(title.trim(),link);});$("body").on('keyup',"#main_search",function(e){if($(".dropdown.active.custom").length>0){$(".dropdown.active.custom").removeClass('active');$(".overlay").addClass('hidden');}
switch(e.which){case 40:e.preventDefault();$("#main_search_results").find('li:not(:last-child).selected').removeClass('selected').next().addClass('selected');break;case 38:e.preventDefault();$("#main_search_results").find('li:not(:first-child).selected').removeClass('selected').prev().addClass('selected');break;case 13:e.preventDefault();break;default:self.find_items();break;}});$("body").on("change","#search_category_id",function(){self.products=[];self.loadProducts();if($(this).val()!=""){$("#search_category_text").html($(this).val());}else{$("#search_category_text").html("All Categories");}
self.find_items();});var search_element=document.getElementById('search_category_id');if(typeof(search_element)!='undefined'&&search_element!=null){search_element.onmousedown=function(){$('#main_search_results').hide();};}
$("body").on("change",".search_scan_image",function(){$('#header_search_box').find("label").removeClass("active");self.loadProducts();var $this=$(this);var form=$(this).parents('form');var formData=new FormData(form[0]);var image_type=$this.attr('name');formData.append('action',image_type);$.ajax({url:"/dashboard-upload",type:'POST',data:formData,dataType:"json",beforeSend:function(){self.show_html("#as_products","<div class='loader'><i class='fa fa-cog fa-spin'></i><p>Initializing</p></div>");var counter=0;var text=["Initializing","Scanning","Matching"];var inst=setInterval(function(){$("#as_products .loader p").text(text[counter]);counter++;if(counter>=text.length){counter=0;clearInterval(inst);}},2000);},success:function(data){$("#header_search_box").find("form")[0].reset();if(data.code=='success'){$("#main_search").val(data.title);self.find_items();}else{$("#as_products .loader p").html(data.errors);}},error:function(){self.show_html("#as_products","<p>Vehicle record not found! We are expanding our database daily, please come back soon.</p>");},cache:false,contentType:false,processData:false});});};this.loadProducts=function(){if(self.products.length>0){return false;}
var file_name='data.json';var search_category_id=document.getElementById('search_category_id')?document.getElementById('search_category_id').options[document.getElementById('search_category_id').selectedIndex].getAttribute('data-id'):0;if(search_category_id>0){file_name='data-'+search_category_id+'.json';}
$.ajax({url:self.source_path+file_name,datatype:"json",success:function(d){self.products=d;},error:function(){self.products=[];}});};this.render_recent_searches=function(){var data=JSON.parse(localStorage.getItem("recent_search_searchbar"));if(data!=''&&data!=null){var html=self.buildListHtml({"Recent Searches":data},true);self.show_html("#recent_search_searchbar",html);}};this.recent_search_searchbar=function(title,link){var title=title.trim();var link=link;var get_data=[];var get_recent_search=[];if(typeof(Storage)!=='undefined'){get_data=JSON.parse(localStorage.getItem("recent_search_searchbar"));get_recent_search.push({title:title,link:link});if(get_data){for(i=0;i<get_data.length;i++){if(get_data[i]){if(get_data[i].title==title){delete get_data[i];}else{get_recent_search.push(get_data[i]);if(get_recent_search.length>5){get_recent_search.pop();}}}}}
localStorage.setItem("recent_search_searchbar",JSON.stringify(get_recent_search));}};this.main_search_ajax_request=function(products_length){var q=$('#main_search').val().trim();if(q.length<=0){return false;}
if(q.length>1&&/^\d+$/.test(q)){return false;}
self.prev_q_val=q;if(self.prev_search_ajax!=null){self.prev_search_ajax.abort();}
var data={};var search_category_id=document.getElementById('search_category_id')?document.getElementById('search_category_id').options[document.getElementById('search_category_id').selectedIndex].getAttribute('data-id'):0;if(search_category_id!==0){data['search_category_id']=search_category_id;}
var cat_name=$('#search_category_id').val();if(cat_name){data['cat_name']=cat_name;}
data['q']=q;self.prev_search_ajax=$.ajax({type:"GET",url:"/core/autosuggest_v2.php",data:data,dataType:"JSON",beforeSend:function(){self.show_html("#as_trendings","<div class='d-text-gray d-padding-10'>Loading...</div>");self.show_html("#as_ajax",'');self.show_html("#recent_search_searchbar",'');},success:function(d){prev_search_ajax=null;if(d.code=='success'){self.show_html("#as_trendings",'');self.show_html("#as_ajax",self.buildListHtml(d.data,true));}else{if(products_length==0){var html='<h6 class="d-cursor-initial d-font-size-14 d-font-weight-400 d-text-gray d-padding-10">Oops! No Matches Found for "<strong>'+q+'</strong>".</h6>';self.loadTrendings();self.render_recent_searches();self.show_html("#no_search_result",html);}else{self.show_html("#as_trendings",'');}}}});};this.dropdown=function(){return $("#main_search_results");};this.show_html=function(target,html){self.dropdown().show().find(target).html(html);$("body").find('.overlay').removeClass("hidden");};this.hide_dropdown=function(){self.dropdown().hide().html('<div class="popular_searches d-padding-10 d-overflow-hidden d-overflow-y-scroll"><div id="as_trending"></div><div id="as_products"></div><div id="as_ajax"></div></div>');$("body").find('.overlay').addClass("hidden");};this.find_items=function(){self.show_html("#no_search_result",'');var q=$('#main_search').val().trim().toUpperCase();if(q.length<=0){self.loadTrendings();return false;}
var final_products=self.getProductSuggestion();if(final_products.length>0){var products_html=self.buildListHtml(final_products);self.show_html("#as_trendings",'');self.show_html("#as_ajax",'');self.show_html("#recent_search_searchbar",'');self.show_html("#as_products",products_html);}else{self.show_html("#recent_search_searchbar",'');self.show_html("#as_products",'');}
if(final_products.length<10){self.main_search_ajax_request(final_products.length);}
$("body").find('.overlay').removeClass("hidden");};this.loadTrendings=function(){var ls_key='TRENDING_SEARCHES';$.ajax({url:self.source_path+'trending.json',datatype:"json",beforeSend:function(){if(LS.exist(ls_key)){var list=LS.get(ls_key);var html=self.buildListHtml({"Trending Searches":list},true);self.show_html("#as_products",'');self.show_html("#as_ajax",'');self.show_html("#as_trendings",html);self.render_recent_searches();return false;}},success:function(d){if(d.length>0){LS.set(ls_key,d,function(list){var html=self.buildListHtml({"Trending Searches":list},true);self.show_html("#as_products",'');self.show_html("#as_ajax",'');self.show_html("#as_trendings",html);self.render_recent_searches();});}}});};this.buildListHtml=function(list,buckets){if(Object.keys(list).length<=0){return'';}
var html='';html+='<ul class="d-padding-10 d-display-inline-block d-vertical-align-top search d-bg-white d-width-100" role="result">';if(buckets==true){for(i in list){if(list[i].length>0){html+='<h5 class="d-cursor-initial d-font-size-13 d-text-gray d-margin-bottom-5 d-margin-left-5 d-margin-right-5">'+i+'</h5>';list[i].forEach(function(p,i){html+='<li class="d-display-block d-margin-bottom-5">\n\
                            <a href="'+p.link+'" class="d-text-gray d-font-size-12 d-display-block d-padding-5 d-text-decoration-none d-line-height-1_5" \n\
                            title="'+p.title+'">\n\
                            <span class="d-text-overflow-ellipsis d-white-space-nowrap d-display-inline-block d-overflow-hidden d-width-100 d-valign-bottom">'+p.title+'</span>\n\
                            </a></li>';});}};}else{list.forEach(function(p,i){html+='<li class="d-display-block d-margin-bottom-5">\n\
                    <a href="'+p.link+'" class="d-text-gray d-font-size-12 d-display-block d-padding-5 d-text-decoration-none d-line-height-1_5" \n\
                    title="'+p.title+'">\n\
                    <span class="d-text-overflow-ellipsis d-white-space-nowrap d-display-inline-block d-overflow-hidden d-width-100 d-valign-bottom">'+p.title+'</span>\n\
                    </a></li>';});}
html+="</ul>";return html;};this.getProductSuggestion=function(){var q=$('#main_search').val().trim().toUpperCase();var products=self.products;if(products.length<=0){return[];}
var filtered_products1=[];var filtered_products2=[];var final_products=[];if(q.length==self.length){self.flag=0;self.length=0;}
if(self.flag==0){var filtered_products1=products.filter(function(p){return p.toUpperCase().startsWith(q);});if(filtered_products1.length==0){self.flag=1;self.length=q.length-1;}}
filtered_products1=filtered_products1.slice(0,10);if(filtered_products1.length<10){var slice=10-filtered_products1.length;var words=q.split(" ");var filtered_products2=products.filter(function(p){var valid=true;words.forEach(function(w){valid=valid&&p.toUpperCase().indexOf(w)>-1;});return valid;});filtered_products2=filtered_products2.slice(0,slice);}
final_products=filtered_products1.concat(filtered_products2.filter((item)=>filtered_products1.indexOf(item)<0));var final_data=[];final_products.forEach(function(f){final_data.push({title:f,link:'/search?q='+f});});return final_data;};};var DroomAppGlobalScan=DroomAppGlobalScan||new function(){this.bind=function(success,beforeSend,error){$("body").on("change",".global_scan_image",function(){var $this=$(this);var formData=new FormData();var image_type=$this.attr('name');formData.append('action',image_type);if($this[0].files[0]){formData.append(image_type,$this[0].files[0]);}
var prev_icon_class=$this.parent('label').find('i').attr('class');$.ajax({url:"/dashboard-upload",type:'POST',data:formData,dataType:"json",beforeSend:function(){$this.parents('label').addClass("active");$this.parent('label').find('i').removeClass("ico ico-barcode ico-camera").addClass("fa fa-cog fa-spin");return beforeSend?beforeSend():'';},success:function(d){$this.parents('.global-scan-form').find('input').each(function(){$(this).val(function(){return this.defaultValue;});});$this.parent('label').find('i').addClass(prev_icon_class).removeClass("fa fa-cog fa-spin");d['image_type']=image_type;return success?success(d):'';},error:function(e){return error?error(e):'';},cache:false,contentType:false,processData:false});});}}
$(function(){DroomAppSearchBar.bind();});
;!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this.drag=a.extend({},m),this.state=a.extend({},n),this.e=a.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a[0].toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Pipe,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function i(){return g(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function j(){return g(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function k(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o;m={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Plugins={},e.Pipe=[{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var a=this._clones,b=this.$stage.children(".cloned");(b.length!==a.length||!this.settings.loop&&a.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var a,b,c=this._clones,d=this._items,e=this.settings.loop?c.length-Math.max(2*this.settings.items,4):0;for(a=0,b=Math.abs(e/2);b>a;a++)e>0?(this.$stage.children().eq(d.length+c.length-1).remove(),c.pop(),this.$stage.children().eq(0).remove(),c.pop()):(c.push(c.length/2),this.$stage.append(d[c[c.length-1]].clone().addClass("cloned")),c.push(d.length-1-(c.length-1)/2),this.$stage.prepend(d[c[c.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var a,b,c,d=this.settings.rtl?1:-1,e=(this.width()/this.settings.items).toFixed(3),f=0;for(this._coordinates=[],b=0,c=this._clones.length+this._items.length;c>b;b++)a=this._mergers[this.relative(b)],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,f+=(this.settings.autoWidth?this._items[this.relative(b)].width()+this.settings.margin:e*a)*d,this._coordinates.push(f)}},{filter:["width","items","settings"],run:function(){var b,c,d=(this.width()/this.settings.items).toFixed(3),e={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(e),e={width:this.settings.autoWidth?"auto":d-this.settings.margin},e[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&a.grep(this._mergers,function(a){return a>1}).length>0)for(b=0,c=this._coordinates.length;c>b;b++)e.width=Math.abs(this._coordinates[b])-Math.abs(this._coordinates[b-1]||0)-this.settings.margin,this.$stage.children().eq(b).css(e);else this.$stage.children().css(e)}},{filter:["width","items","settings"],run:function(a){a.current&&this.reset(this.$stage.children().index(a.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],e.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var b,c,e;if(b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e)return this.preloadAutoWidthImages(b),!1}this.$element.addClass("owl-loading"),this.$stage=a("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+d)):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},e.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={}},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=b.orientation,this.watchVisibility(),this.trigger("refreshed")},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._onResize=a.proxy(function(a){this.onResize(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.trigger("resize").isDefaultPrevented()?!1:(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized")):!1},e.prototype.eventsRouter=function(a){var b=a.type;"mousedown"===b||"touchstart"===b?this.onDragStart(a):"mousemove"===b||"touchmove"===b?this.onDragMove(a):"mouseup"===b||"touchend"===b?this.onDragEnd(a):"touchcancel"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.$stage.on("mousedown",a.proxy(function(a){this.eventsRouter(a)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!c&&this.$stage.on("touchstart touchcancel",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,"resize",a.proxy(this.onThrottledResize,this))},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if("mousedown"===e.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if("mouseup"===b.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(".owl.dragEvents")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=-1,d=30,e=this.width(),f=this.coordinates();return this.settings.freeDrag||a.each(f,a.proxy(function(a,g){return b>g-d&&g+d>b?c=a:this.op(b,"<",g)&&this.op(b,">",f[a+1]||g-e)&&(c="left"===this.state.direction?a+1:a),-1===c},this)),this.settings.loop||(this.op(b,">",f[this.minimum()])?c=b=this.minimum():this.op(b,"<",f[this.maximum()])&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+b+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:b+"px"}):this.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(a){this._invalidated[a]=!0},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(b,c){var e=c?this._items.length:this._items.length+this._clones.length;return!a.isNumeric(b)||1>e?d:b=this._clones.length?(b%e+e)%e:Math.max(this.minimum(c),Math.min(this.maximum(c),b))},e.prototype.relative=function(a){return a=this.normalize(a),a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=0,f=this.settings;if(a)return this._items.length-1;if(!f.loop&&f.center)b=this._items.length-1;else if(f.loop||f.center)if(f.loop||f.center)b=this._items.length+f.items;else{if(!f.autoWidth&&!f.merge)throw"Can not detect maximum absolute position.";for(revert=f.rtl?1:-1,c=this.$stage.width()-this.$element.width();(d=this.coordinates(e))&&!(d*revert>=c);)b=++e}else b=this._items.length-f.items;return b},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.relative(this.current()),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h?!0:!1,j=this._clones.length+this._items.length;h<this.settings.items&&i===!1?(f=g+this._items.length,this.reset(f)):h>=j-this.settings.items&&i===!0&&(f=g-this._items.length,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e),this.update()},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c),this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.transitionEnd=function(a){return a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.state.inMotion=!1,void this.trigger("translated"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw"Can not detect viewport width.";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(a,b){b=b===d?this._items.length:this.normalize(b,!0),this.trigger("add",{content:a,position:b}),0===this._items.length||b===this._items.length?(this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[b].before(a),this._items.splice(b,0,a),this._mergers.splice(b,0,1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:a,position:b})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},a.proxy(function(a,c){this.$element.on(a+".owl.carousel",b(c,a+".owl.carousel"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.$element.get(0))||(this.$element.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.initialize())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&a(b).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var d in this._plugins)this._plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),a(c).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this._items.length,index:this.current()}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.$element.trigger(g),this.settings&&"function"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){var c=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f++)),h)},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this._core.$element.on(this._handlers)};c.Defaults={lazyLoad:!1},c.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":"url("+g+")",opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},c.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=c}(window.Zepto||window.jQuery,window,document),function(a){var b=function(c){this._core=c,this._handlers={"initialized.owl.carousel":a.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this._core.$element.on(this._handlers)};b.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},b.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},b.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=b}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this._core=b,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":a.proxy(function(a){this._core.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))},this)},this._core.options=a.extend({},d.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};d.Defaults={video:!1,videoHeight:!1,videoWidth:!1},d.prototype.fetch=function(a,b){var c=a.attr("data-vimeo-id")?"vimeo":"youtube",d=a.attr("data-vimeo-id")||a.attr("data-youtube-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else{if(!(d[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");c="vimeo"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},d.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};return b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(l(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(f="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}))},d.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},d.prototype.play=function(b){this._core.trigger("play",null,"video"),this._playing&&this.stop();var c,d,e=a(b.target||b.srcElement),f=e.closest("."+this._core.settings.itemClass),g=this._videos[f.attr("data-video")],h=g.width||"100%",i=g.height||this._core.$stage.height();"youtube"===g.type?c='<iframe width="'+h+'" height="'+i+'" src="http://www.youtube.com/embed/'+g.id+"?autoplay=1&v="+g.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===g.type&&(c='<iframe src="http://player.vimeo.com/video/'+g.id+'?autoplay=1" width="'+h+'" height="'+i+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),f.addClass("owl-video-playing"),this._playing=f,d=a('<div style="height:'+i+"px; width:"+h+'px" class="owl-video-frame">'+c+"</div>"),e.after(d)},d.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),d&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==b.orientation?(this._core.state.orientation=b.orientation,!1):!0},d.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=d}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c)),f&&e.addClass("animated owl-animated-in").addClass(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this.core=b,this.core.options=a.extend({},d.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()
},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};d.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},d.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},d.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},d.prototype.stop=function(){b.clearInterval(this.interval)},d.prototype.pause=function(){b.clearInterval(this.interval)},d.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=d}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){this._core=c,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.push(a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.splice(b.position,0,a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":a.proxy(function(a){this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var b=this._core.current(),c=this._core.maximum(),d=this._core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}},this),"changed.owl.carousel":a.proxy(function(a){"position"==a.property.name&&this.draw()},this),"refreshed.owl.carousel":a.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this.$element.on(this._handlers)};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c,d=this._core.settings;d.dotsData||(this._templates=[a("<div>").addClass(d.dotClass).append(a("<span>")).prop("outerHTML")]),d.navContainer&&d.dotsContainer||(this._controls.$container=a("<div>").addClass(d.controlsClass).appendTo(this.$element)),this._controls.$indicators=d.dotsContainer?a(d.dotsContainer):a("<div>").hide().addClass(d.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",a.proxy(function(b){var c=a(b.target).parent().is(this._controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a("<div>").addClass(d.navContainerClass).prependTo(this._controls.$container),this._controls.$next=a("<"+d.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on("click",a.proxy(function(){this.prev(d.navSpeed)},this)),this._controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on("click",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this._overrides)this._core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this._core.settings,e=this._core.clones().length/2,f=e+this._core.items().length,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if("page"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||"page"==d.slideBy)for(this._pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this._pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this._core.mergers(this._core.relative(a))},b.prototype.draw=function(){var b,c,d="",e=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!e.nav||e.loop||e.navRewind||(this._controls.$previous.toggleClass("disabled",0>=f),this._controls.$next.toggleClass("disabled",f>=this._core.maximum())),this._controls.$previous.toggle(e.nav),this._controls.$next.toggle(e.nav),e.dots){if(b=this._pages.length-this._controls.$indicators.children().length,e.dotData&&0!==b){for(c=0;c<this._controls.$indicators.children().length;c++)d+=this._templates[this._core.relative(c)];this._controls.$indicators.html(d)}else b>0?(d=new Array(b+1).join(this._templates[0]),this._controls.$indicators.append(d)):0>b&&this._controls.$indicators.children().slice(b).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(a.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items)}},b.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){"use strict";var c=function(d){this._core=d,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(){"URLHash"==this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[c]=b.content},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this._core.$stage.children(),d=this._hashes[a]&&c.index(this._hashes[a])||0;return a?void this._core.to(d,!1,!0):!1},this))};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);
;/*! nouislider - 9.2.0 - 2017-01-11 10:35:35 */

!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function a(a,b){var c=document.createElement("div");return j(c,b),a.appendChild(c),c}function b(a){return a.filter(function(a){return!this[a]&&(this[a]=!0)},{})}function c(a,b){return Math.round(a/b)*b}function d(a,b){var c=a.getBoundingClientRect(),d=a.ownerDocument,e=d.documentElement,f=m();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(f.x=0),b?c.top+f.y-e.clientTop:c.left+f.x-e.clientLeft}function e(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function f(a,b,c){c>0&&(j(a,b),setTimeout(function(){k(a,b)},c))}function g(a){return Math.max(Math.min(a,100),0)}function h(a){return Array.isArray(a)?a:[a]}function i(a){a=String(a);var b=a.split(".");return b.length>1?b[1].length:0}function j(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function k(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)}function m(){var a=void 0!==window.pageXOffset,b="CSS1Compat"===(document.compatMode||""),c=a?window.pageXOffset:b?document.documentElement.scrollLeft:document.body.scrollLeft,d=a?window.pageYOffset:b?document.documentElement.scrollTop:document.body.scrollTop;return{x:c,y:d}}function n(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function o(a,b){return 100/(b-a)}function p(a,b){return 100*b/(a[1]-a[0])}function q(a,b){return p(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function r(a,b){return b*(a[1]-a[0])/100+a[0]}function s(a,b){for(var c=1;a>=b[c];)c+=1;return c}function t(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=s(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+q([d,e],c)/o(f,g)}function u(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=s(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],r([d,e],(c-f)*o(f,g))}function v(a,b,d,e){if(100===e)return e;var f,g,h=s(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):b[h-1]?a[h-1]+c(e-a[h-1],b[h-1]):e}function w(a,b,c){var d;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider ("+U+"): 'range' contains invalid value.");if(d="min"===a?0:"max"===a?100:parseFloat(a),!e(d)||!e(b[0]))throw new Error("noUiSlider ("+U+"): 'range' value isn't numeric.");c.xPct.push(d),c.xVal.push(b[0]),d?c.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(c.xSteps[0]=b[1]),c.xHighestCompleteStep.push(0)}function x(a,b,c){if(!b)return!0;c.xSteps[a]=p([c.xVal[a],c.xVal[a+1]],b)/o(c.xPct[a],c.xPct[a+1]);var d=(c.xVal[a+1]-c.xVal[a])/c.xNumSteps[a],e=Math.ceil(Number(d.toFixed(3))-1),f=c.xVal[a]+c.xNumSteps[a]*e;c.xHighestCompleteStep[a]=f}function y(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.length&&"object"==typeof f[0][0]?f.sort(function(a,b){return a[0][0]-b[0][0]}):f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)w(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)x(e,this.xNumSteps[e],this)}function z(a,b){if(!e(b))throw new Error("noUiSlider ("+U+"): 'step' is not numeric.");a.singleStep=b}function A(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider ("+U+"): 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider ("+U+"): Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw new Error("noUiSlider ("+U+"): 'range' 'min' and 'max' cannot be equal.");a.spectrum=new y(b,a.snap,a.dir,a.singleStep)}function B(a,b){if(b=h(b),!Array.isArray(b)||!b.length)throw new Error("noUiSlider ("+U+"): 'start' option is incorrect.");a.handles=b.length,a.start=b}function C(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider ("+U+"): 'snap' option must be a boolean.")}function D(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider ("+U+"): 'animate' option must be a boolean.")}function E(a,b){if(a.animationDuration=b,"number"!=typeof b)throw new Error("noUiSlider ("+U+"): 'animationDuration' option must be a number.")}function F(a,b){var c,d=[!1];if("lower"===b?b=[!0,!1]:"upper"===b&&(b=[!1,!0]),b===!0||b===!1){for(c=1;c<a.handles;c++)d.push(b);d.push(!1)}else{if(!Array.isArray(b)||!b.length||b.length!==a.handles+1)throw new Error("noUiSlider ("+U+"): 'connect' option doesn't match handle count.");d=b}a.connect=d}function G(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider ("+U+"): 'orientation' option is invalid.")}}function H(a,b){if(!e(b))throw new Error("noUiSlider ("+U+"): 'margin' option must be numeric.");if(0!==b&&(a.margin=a.spectrum.getMargin(b),!a.margin))throw new Error("noUiSlider ("+U+"): 'margin' option is only supported on linear sliders.")}function I(a,b){if(!e(b))throw new Error("noUiSlider ("+U+"): 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit||a.handles<2)throw new Error("noUiSlider ("+U+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function J(a,b){if(!e(b))throw new Error("noUiSlider ("+U+"): 'padding' option must be numeric.");if(0!==b){if(a.padding=a.spectrum.getMargin(b),!a.padding)throw new Error("noUiSlider ("+U+"): 'padding' option is only supported on linear sliders.");if(a.padding<0)throw new Error("noUiSlider ("+U+"): 'padding' option must be a positive number.");if(a.padding>=50)throw new Error("noUiSlider ("+U+"): 'padding' option must be less than half the range.")}}function K(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1;break;default:throw new Error("noUiSlider ("+U+"): 'direction' option was not recognized.")}}function L(a,b){if("string"!=typeof b)throw new Error("noUiSlider ("+U+"): 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0,g=b.indexOf("hover")>=0;if(e){if(2!==a.handles)throw new Error("noUiSlider ("+U+"): 'fixed' behaviour must be used with 2 handles");H(a,a.start[1]-a.start[0])}a.events={tap:c||f,drag:d,fixed:e,snap:f,hover:g}}function M(a,b){if(b!==!1)if(b===!0){a.tooltips=[];for(var c=0;c<a.handles;c++)a.tooltips.push(!0)}else{if(a.tooltips=h(b),a.tooltips.length!==a.handles)throw new Error("noUiSlider ("+U+"): must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw new Error("noUiSlider ("+U+"): 'tooltips' must be passed a formatter or 'false'.")})}}function N(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider ("+U+"): 'format' requires 'to' and 'from' methods.")}function O(a,b){if(void 0!==b&&"string"!=typeof b&&b!==!1)throw new Error("noUiSlider ("+U+"): 'cssPrefix' must be a string or `false`.");a.cssPrefix=b}function P(a,b){if(void 0!==b&&"object"!=typeof b)throw new Error("noUiSlider ("+U+"): 'cssClasses' must be an object.");if("string"==typeof a.cssPrefix){a.cssClasses={};for(var c in b)b.hasOwnProperty(c)&&(a.cssClasses[c]=a.cssPrefix+b[c])}else a.cssClasses=b}function Q(a,b){if(b!==!0&&b!==!1)throw new Error("noUiSlider ("+U+"): 'useRequestAnimationFrame' option should be true (default) or false.");a.useRequestAnimationFrame=b}function R(a){var b={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,format:V},c={step:{r:!1,t:z},start:{r:!0,t:B},connect:{r:!0,t:F},direction:{r:!0,t:K},snap:{r:!1,t:C},animate:{r:!1,t:D},animationDuration:{r:!1,t:E},range:{r:!0,t:A},orientation:{r:!1,t:G},margin:{r:!1,t:H},limit:{r:!1,t:I},padding:{r:!1,t:J},behaviour:{r:!0,t:L},format:{r:!1,t:N},tooltips:{r:!1,t:M},cssPrefix:{r:!1,t:O},cssClasses:{r:!1,t:P},useRequestAnimationFrame:{r:!1,t:Q}},d={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(c).forEach(function(e){if(void 0===a[e]&&void 0===d[e]){if(c[e].r)throw new Error("noUiSlider ("+U+"): '"+e+"' is required.");return!0}c[e].t(b,void 0===a[e]?d[e]:a[e])}),b.pips=a.pips;var e=[["left","top"],["right","bottom"]];return b.style=e[b.dir][b.ort],b.styleOposite=e[b.dir?0:1][b.ort],b}function S(c,e,i){function o(b,c){var d=a(b,e.cssClasses.origin),f=a(d,e.cssClasses.handle);return f.setAttribute("data-handle",c),0===c?j(f,e.cssClasses.handleLower):c===e.handles-1&&j(f,e.cssClasses.handleUpper),d}function p(b,c){return!!c&&a(b,e.cssClasses.connect)}function q(a,b){ca=[],da=[],da.push(p(b,a[0]));for(var c=0;c<e.handles;c++)ca.push(o(b,c)),ia[c]=c,da.push(p(b,a[c+1]))}function r(b){j(b,e.cssClasses.target),0===e.dir?j(b,e.cssClasses.ltr):j(b,e.cssClasses.rtl),0===e.ort?j(b,e.cssClasses.horizontal):j(b,e.cssClasses.vertical),ba=a(b,e.cssClasses.base)}function s(b,c){return!!e.tooltips[c]&&a(b.firstChild,e.cssClasses.tooltip)}function t(){var a=ca.map(s);$("update",function(b,c,d){if(a[c]){var f=b[c];e.tooltips[c]!==!0&&(f=e.tooltips[c].to(d[c])),a[c].innerHTML=f}})}function u(a,b,c){if("range"===a||"steps"===a)return ka.xVal;if("count"===a){if(!b)throw new Error("noUiSlider ("+U+"): 'values' required for mode 'count'.");var d,e=100/(b-1),f=0;for(b=[];(d=f++*e)<=100;)b.push(d);a="positions"}return"positions"===a?b.map(function(a){return ka.fromStepping(c?ka.getStep(a):a)}):"values"===a?c?b.map(function(a){return ka.fromStepping(ka.getStep(ka.toStepping(a)))}):b:void 0}function v(a,c,d){function e(a,b){return(a+b).toFixed(7)/1}var f={},g=ka.xVal[0],h=ka.xVal[ka.xVal.length-1],i=!1,j=!1,k=0;return d=b(d.slice().sort(function(a,b){return a-b})),d[0]!==g&&(d.unshift(g),i=!0),d[d.length-1]!==h&&(d.push(h),j=!0),d.forEach(function(b,g){var h,l,m,n,o,p,q,r,s,t,u=b,v=d[g+1];if("steps"===c&&(h=ka.xNumSteps[g]),h||(h=v-u),u!==!1&&void 0!==v)for(h=Math.max(h,1e-7),l=u;l<=v;l=e(l,h)){for(n=ka.toStepping(l),o=n-k,r=o/a,s=Math.round(r),t=o/s,m=1;m<=s;m+=1)p=k+m*t,f[p.toFixed(5)]=["x",0];q=d.indexOf(l)>-1?1:"steps"===c?2:0,!g&&i&&(q=0),l===v&&j||(f[n.toFixed(5)]=[l,q]),k=n}}),f}function w(a,b,c){function d(a,b){var c=b===e.cssClasses.value,d=c?m:n,f=c?k:l;return b+" "+d[e.ort]+" "+f[a]}function f(a,b,c){return'class="'+d(c[1],b)+'" style="'+e.style+": "+a+'%"'}function g(a,d){d[1]=d[1]&&b?b(d[0],d[1]):d[1],i+="<div "+f(a,e.cssClasses.marker,d)+"></div>",d[1]&&(i+="<div "+f(a,e.cssClasses.value,d)+">"+c.to(d[0])+"</div>")}var h=document.createElement("div"),i="",k=[e.cssClasses.valueNormal,e.cssClasses.valueLarge,e.cssClasses.valueSub],l=[e.cssClasses.markerNormal,e.cssClasses.markerLarge,e.cssClasses.markerSub],m=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],n=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];return j(h,e.cssClasses.pips),j(h,0===e.ort?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical),Object.keys(a).forEach(function(b){g(b,a[b])}),h.innerHTML=i,h}function x(a){var b=a.mode,c=a.density||1,d=a.filter||!1,e=a.values||!1,f=a.stepped||!1,g=u(b,e,f),h=v(c,b,g),i=a.format||{to:Math.round};return ga.appendChild(w(h,d,i))}function y(){var a=ba.getBoundingClientRect(),b="offset"+["Width","Height"][e.ort];return 0===e.ort?a.width||ba[b]:a.height||ba[b]}function z(a,b,c,d){var f=function(b){return!ga.hasAttribute("disabled")&&(!l(ga,e.cssClasses.tap)&&(!!(b=A(b,d.pageOffset))&&(!(a===fa.start&&void 0!==b.buttons&&b.buttons>1)&&((!d.hover||!b.buttons)&&(b.calcPoint=b.points[e.ort],void c(b,d))))))},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!1),g.push([a,f])}),g}function A(a,b){a.preventDefault();var c,d,e=0===a.type.indexOf("touch"),f=0===a.type.indexOf("mouse"),g=0===a.type.indexOf("pointer");if(0===a.type.indexOf("MSPointer")&&(g=!0),e){if(a.touches.length>1)return!1;c=a.changedTouches[0].pageX,d=a.changedTouches[0].pageY}return b=b||m(),(f||g)&&(c=a.clientX+b.x,d=a.clientY+b.y),a.pageOffset=b,a.points=[c,d],a.cursor=f||g,a}function B(a){var b=a-d(ba,e.ort),c=100*b/y();return e.dir?100-c:c}function C(a){var b=100,c=!1;return ca.forEach(function(d,e){if(!d.hasAttribute("disabled")){var f=Math.abs(ha[e]-a);f<b&&(c=e,b=f)}}),c}function D(a,b,c,d){var e=c.slice(),f=[!a,a],g=[a,!a];d=d.slice(),a&&d.reverse(),d.length>1?d.forEach(function(a,c){var d=M(e,a,e[a]+b,f[c],g[c]);d===!1?b=0:(b=d-e[a],e[a]=d)}):f=g=[!0];var h=!1;d.forEach(function(a,d){h=Q(a,c[a]+b,f[d],g[d])||h}),h&&d.forEach(function(a){E("update",a),E("slide",a)})}function E(a,b,c){Object.keys(ma).forEach(function(d){var f=d.split(".")[0];a===f&&ma[d].forEach(function(a){a.call(ea,la.map(e.format.to),b,la.slice(),c||!1,ha.slice())})})}function F(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&H(a,b)}function G(a,b){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===a.buttons&&0!==b.buttonsProperty)return H(a,b);var c=(e.dir?-1:1)*(a.calcPoint-b.startCalcPoint),d=100*c/b.baseSize;D(c>0,d,b.locations,b.handleNumbers)}function H(a,b){ja&&(k(ja,e.cssClasses.active),ja=!1),a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(a){document.documentElement.removeEventListener(a[0],a[1])}),k(ga,e.cssClasses.drag),P(),b.handleNumbers.forEach(function(a){E("set",a),E("change",a),E("end",a)})}function I(a,b){if(1===b.handleNumbers.length){var c=ca[b.handleNumbers[0]];if(c.hasAttribute("disabled"))return!1;ja=c.children[0],j(ja,e.cssClasses.active)}a.preventDefault(),a.stopPropagation();var d=z(fa.move,document.documentElement,G,{startCalcPoint:a.calcPoint,baseSize:y(),pageOffset:a.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:a.buttons,locations:ha.slice()}),f=z(fa.end,document.documentElement,H,{handleNumbers:b.handleNumbers}),g=z("mouseout",document.documentElement,F,{handleNumbers:b.handleNumbers});if(document.documentElement.noUiListeners=d.concat(f,g),a.cursor){document.body.style.cursor=getComputedStyle(a.target).cursor,ca.length>1&&j(ga,e.cssClasses.drag);var h=function(){return!1};document.body.noUiListener=h,document.body.addEventListener("selectstart",h,!1)}b.handleNumbers.forEach(function(a){E("start",a)})}function J(a){a.stopPropagation();var b=B(a.calcPoint),c=C(b);return c!==!1&&(e.events.snap||f(ga,e.cssClasses.tap,e.animationDuration),Q(c,b,!0,!0),P(),E("slide",c,!0),E("set",c,!0),E("change",c,!0),E("update",c,!0),void(e.events.snap&&I(a,{handleNumbers:[c]})))}function K(a){var b=B(a.calcPoint),c=ka.getStep(b),d=ka.fromStepping(c);Object.keys(ma).forEach(function(a){"hover"===a.split(".")[0]&&ma[a].forEach(function(a){a.call(ea,d)})})}function L(a){a.fixed||ca.forEach(function(a,b){z(fa.start,a.children[0],I,{handleNumbers:[b]})}),a.tap&&z(fa.start,ba,J,{}),a.hover&&z(fa.move,ba,K,{hover:!0}),a.drag&&da.forEach(function(b,c){if(b!==!1&&0!==c&&c!==da.length-1){var d=ca[c-1],f=ca[c],g=[b];j(b,e.cssClasses.draggable),a.fixed&&(g.push(d.children[0]),g.push(f.children[0])),g.forEach(function(a){z(fa.start,a,I,{handles:[d,f],handleNumbers:[c-1,c]})})}})}function M(a,b,c,d,f){return ca.length>1&&(d&&b>0&&(c=Math.max(c,a[b-1]+e.margin)),f&&b<ca.length-1&&(c=Math.min(c,a[b+1]-e.margin))),ca.length>1&&e.limit&&(d&&b>0&&(c=Math.min(c,a[b-1]+e.limit)),f&&b<ca.length-1&&(c=Math.max(c,a[b+1]-e.limit))),e.padding&&(0===b&&(c=Math.max(c,e.padding)),b===ca.length-1&&(c=Math.min(c,100-e.padding))),c=ka.getStep(c),c=g(c),c!==a[b]&&c}function N(a){return a+"%"}function O(a,b){ha[a]=b,la[a]=ka.fromStepping(b);var c=function(){ca[a].style[e.style]=N(b),S(a),S(a+1)};window.requestAnimationFrame&&e.useRequestAnimationFrame?window.requestAnimationFrame(c):c()}function P(){ia.forEach(function(a){var b=ha[a]>50?-1:1,c=3+(ca.length+b*a);ca[a].childNodes[0].style.zIndex=c})}function Q(a,b,c,d){return b=M(ha,a,b,c,d),b!==!1&&(O(a,b),!0)}function S(a){if(da[a]){var b=0,c=100;0!==a&&(b=ha[a-1]),a!==da.length-1&&(c=ha[a]),da[a].style[e.style]=N(b),da[a].style[e.styleOposite]=N(100-c)}}function T(a,b){null!==a&&a!==!1&&("number"==typeof a&&(a=String(a)),a=e.format.from(a),a===!1||isNaN(a)||Q(b,ka.toStepping(a),!1,!1))}function V(a,b){var c=h(a),d=void 0===ha[0];b=void 0===b||!!b,c.forEach(T),e.animate&&!d&&f(ga,e.cssClasses.tap,e.animationDuration),ia.forEach(function(a){Q(a,ha[a],!0,!1)}),P(),ia.forEach(function(a){E("update",a),null!==c[a]&&b&&E("set",a)})}function W(a){V(e.start,a)}function X(){var a=la.map(e.format.to);return 1===a.length?a[0]:a}function Y(){for(var a in e.cssClasses)e.cssClasses.hasOwnProperty(a)&&k(ga,e.cssClasses[a]);for(;ga.firstChild;)ga.removeChild(ga.firstChild);delete ga.noUiSlider}function Z(){return ha.map(function(a,b){var c=ka.getNearbySteps(a),d=la[b],e=c.thisStep.step,f=null;e!==!1&&d+e>c.stepAfter.startValue&&(e=c.stepAfter.startValue-d),f=d>c.thisStep.startValue?c.thisStep.step:c.stepBefore.step!==!1&&d-c.stepBefore.highestStep,100===a?e=null:0===a&&(f=null);var g=ka.countStepDecimals();return null!==e&&e!==!1&&(e=Number(e.toFixed(g))),null!==f&&f!==!1&&(f=Number(f.toFixed(g))),[f,e]})}function $(a,b){ma[a]=ma[a]||[],ma[a].push(b),"update"===a.split(".")[0]&&ca.forEach(function(a,b){E("update",b)})}function _(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(ma).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete ma[a]})}function aa(a,b){var c=X(),d=["margin","limit","padding","range","animate","snap","step","format"];d.forEach(function(b){void 0!==a[b]&&(i[b]=a[b])});var f=R(i);d.forEach(function(b){void 0!==a[b]&&(e[b]=f[b])}),f.spectrum.direction=ka.direction,ka=f.spectrum,e.margin=f.margin,e.limit=f.limit,e.padding=f.padding,ha=[],V(a.start||c,b)}var ba,ca,da,ea,fa=n(),ga=c,ha=[],ia=[],ja=!1,ka=e.spectrum,la=[],ma={};if(ga.noUiSlider)throw new Error("noUiSlider ("+U+"): Slider was already initialized.");return r(ga),q(e.connect,ba),ea={destroy:Y,steps:Z,on:$,off:_,get:X,set:V,reset:W,__moveHandles:function(a,b,c){D(a,b,ha,c)},options:i,updateOptions:aa,target:ga,pips:x},L(e.events),V(e.start),e.pips&&x(e.pips),e.tooltips&&t(),ea}function T(a,b){if(!a.nodeName)throw new Error("noUiSlider ("+U+"): create requires a single element.");var c=R(b,a),d=S(a,c,b);return a.noUiSlider=d,d}var U="9.2.0";y.prototype.getMargin=function(a){var b=this.xNumSteps[0];if(b&&a/b%1!==0)throw new Error("noUiSlider ("+U+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,a)},y.prototype.toStepping=function(a){return a=t(this.xVal,this.xPct,a)},y.prototype.fromStepping=function(a){return u(this.xVal,this.xPct,a)},y.prototype.getStep=function(a){return a=v(this.xPct,this.xSteps,this.snap,a)},y.prototype.getNearbySteps=function(a){var b=s(a,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b-0],step:this.xNumSteps[b-0],highestStep:this.xHighestCompleteStep[b-0]}}},y.prototype.countStepDecimals=function(){var a=this.xNumSteps.map(i);return Math.max.apply(null,a)},y.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{version:U,create:T}});
;function getOtpInput(index){return document.getElementById('otp-input'+index);};function onKeyUpEvent(index,event){const eventCode=event.which||event.keyCode;if(getOtpInput(index).value.length===1){if(index!==4){getOtpInput(index+1).focus();}else{getOtpInput(index).blur();}}
if(eventCode===8&&index!==1){getOtpInput(index-1).focus();}};function onFocusEvent(index){for(item=1;item<index;item++){const currentElement=getOtpInput(item);if(!currentElement.value){currentElement.focus();break;}}};;var MyReqHome=MyReqHome||new function(){var self=this;var non_my_req_blocks=['myRequirementExitModal','leads_page'];var global_params={};var count=0;var multi_mm=0;var multi_mm_sell=0;var req_location_key="";this.bind=function(call_modal_id='myRequirementModal',pg_source=''){var modal_id=call_modal_id;if(modal_id=='myRequirementLuxuryModal'){multi_mm=1;count=0;}else{multi_mm=0;}
var keys_dynamic={lead_submit:"no",submit_trigger:0,section:"Buy",lead_id:"",cust_phone_no:"",cust_name:"",entered_otp_code:"",otp_verified:0,sub_section:"vehicles","sub_tab":"facility",location:"",zip:"",pg_source:pg_source};if(typeof(global_params[modal_id])=="undefined"||global_params[modal_id]['lead_submit']=='yes'){global_params[modal_id]=keys_dynamic;if(jQuery.inArray(modal_id,['myRequirementGermShieldModal','myReqGermFranchise','inactivityGermShield','myRequirementGermShieldModalForm','myRequirementGermShieldRetailLeadModalForm'])!=-1){global_params[modal_id]['sub_section']='germ_shield';}
if(jQuery.inArray(modal_id,['myRequirementJumpstartModal','inactivityJumpstart'])!=-1){global_params[modal_id]['sub_section']='automobile_services';}}self.load_section({},modal_id);};this.otp_step_input=function(event,modal_id){$('#'+modal_id).on('keyup','#otp-input1',function(){self.onKeyUpEvent(1,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input2',function(){self.onKeyUpEvent(2,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input3',function(){self.onKeyUpEvent(3,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input4',function(){self.onKeyUpEvent(4,event,modal_id);});$('#'+modal_id).on('focus','#otp-input1',function(){self.onFocusEvent(1,modal_id);});$('#'+modal_id).on('focus','#otp-input2',function(){self.onFocusEvent(2,modal_id);});$('#'+modal_id).on('focus','#otp-input3',function(){self.onFocusEvent(3,modal_id);});$('#'+modal_id).on('focus','#otp-input4',function(){self.onFocusEvent(4,modal_id);});};this.getOtpInput=function(index,modal_id){return $('#'+modal_id).find('#otp-input'+index)[0];};this.onKeyUpEvent=function(index,event,modal_id){const eventCode=event.which||event.keyCode;if(self.getOtpInput(index,modal_id).value.length===1){if(index!==4){self.getOtpInput(index+1,modal_id).focus();}else{self.getOtpInput(index,modal_id).blur();}}
if(eventCode===8&&index!==1){self.getOtpInput(index-1,modal_id).focus();}};this.onFocusEvent=function(index,modal_id){for(item=1;item<index;item++){const currentElement=self.getOtpInput(item,modal_id);if(!currentElement.value){currentElement.focus();break;}}};this.reset_mmyt=function(sub_params,modal_id){$.each(sub_params,function(index,value){$('#'+modal_id).find(".home-req-"+value).html('<option value=""></option>');$('#'+modal_id).find('.home-req-'+value).parent('.floating-group').removeClass("active");});};this.get_params=function(param_change="",modal_id){var to_send_params={};var add="";if(global_params[modal_id]['section']=='Exchange'&&modal_id=='myAssistModal'){add=".sell";if(global_params[modal_id]['otp_verified']==1){add=".buy";}}
if(param_change=='condition'||param_change=='category'){$('#'+modal_id).find(".home-req-make"+add).siblings('label').text('Loading...');}else if(param_change=='make'){$('#'+modal_id).find(".home-req-model"+add).siblings('label').text('Loading...');}
to_send_params['category']=$('#'+modal_id).find(".home-req-category"+add).val();to_send_params['tab']="vehicles";to_send_params['condition']=$('#'+modal_id).find("input[name=condition]:checked").val()=='new'?'new':'used';to_send_params['make']=$('#'+modal_id).find(".home-req-make"+add).val();to_send_params['model']=$('#'+modal_id).find(".home-req-model"+add).val();to_send_params['param_change']=param_change;if(global_params[modal_id]['section']=='Exchange'&&global_params[modal_id]['otp_verified']==0&&modal_id=='myAssistModal'){to_send_params['condition']='used';}
if('myRequirementModal'===modal_id&&'both'===$('#'+modal_id).find("input[name=condition]:checked").val()){delete to_send_params['condition'];}
$.ajax({type:"GET",data:to_send_params,dataType:"json",url:"/home-req-mmyt",success:function(d){if(d.code==='success'){var data=d.data;var additional_info=data.additional_info;if(param_change=="category"||param_change=="condition"){self.make_html(data.make,'home-req-make'+add,modal_id,'Select Make');self.make_html(data.fuel_type,'home-req-fuel_type'+add,modal_id);self.make_html(data.body_type,'home-req-body_type'+add,modal_id);self.make_html(data.transmission_type,'home-req-transmission_type'+add,modal_id);$('#'+modal_id).find('.price-selection').data('min',additional_info.selling_price.min);$('#'+modal_id).find('.price-selection').data('max',additional_info.selling_price.max);if(global_params[modal_id]['section']=='Buy'||(global_params[modal_id]['section']=='Exchange'&&global_params[modal_id]['otp_verified']==1&&modal_id=='myAssistModal')){var stepSlider=document.getElementById(modal_id+'price_range-slider');stepSlider.noUiSlider.destroy();rangeSlider(modal_id);}}else if(param_change=="make"){self.make_html(data.model,'home-req-model'+add,modal_id,'Select Model');}}}});};this.make_html=function(data,name,modal_id,label=''){var html='<option value=""></option>';for(var i=0;i<data.length;i++){html+='<option value="'+data[i]+'">'+data[i]+'</option>';}
$('#'+modal_id).find("."+name).html(html);$('#'+modal_id).find("."+name).css("cssText","text-transform: capitalize !important");if(label!=''){$('#'+modal_id).find("."+name).siblings('label').text(label);}};this.make_html_with_key=function(data,name,modal_id){var html='<option value=""></option>';$.each(data,function(index,value){html+='<option value="'+index+'">'+value+'</option>';});$('#'+modal_id).find("."+name).html(html);};this.submit_lead=function(submit_button,modal_id){submit_button.parents('.step').find(".reqs-back").addClass("hidden");$("#"+modal_id).find(".home-req-submit").parents('.action').siblings('small').remove();submit_button.parents('.step').find('small').text('');var send_params={};send_params['purpose']='buying_assistance';if($('#'+modal_id).find("input[name=first_name]").val()!=undefined){$('#'+modal_id).find("input[name=first_name]").val(jQuery.trim($('#'+modal_id).find("input[name=first_name]").val().replace(/[^a-zA-Z ]/g,"")));}
$('#'+modal_id).find("input[type=text]").each(function(index){send_params[$(this).attr("name")]=$(this).val();});$('#'+modal_id).find("input[type=number]").each(function(index){send_params[$(this).attr("name")]=$(this).val();});submit_button.parents('.step').find("select,input[type=text],input[type=number],input[type=radio]:checked,input[type=checkbox]:checked").each(function(index){send_params[$(this).attr("name")]=$(this).val();});submit_button.parents('.step').prevAll('.step').find("select,input[type=text],input[type=number],input[type=radio]:checked,input[type=checkbox]:checked").each(function(index){send_params[$(this).attr("name")]=$(this).val();});if((jQuery.inArray(modal_id,non_my_req_blocks)!=-1)&&(global_params[modal_id]['otp_verified']==1)){send_params['first_name']=global_params[modal_id]['first_name'];send_params['email']=global_params[modal_id]['email'];send_params['phone']=global_params[modal_id]['phone'];}
if((send_params['first_name']==""||send_params['first_name']==undefined)||(send_params['phone']==""||send_params['phone']==undefined)){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>Please fill in your basic details.</small>");$('#'+modal_id).find(".home-req-error").first().html("Please fill in your basic details.");return false;}
if(modal_id!='myRequirementLuxuryModal'){if($('#'+modal_id).find('#product_title').val()!=undefined&&$('#'+modal_id).find('#product_title').val()!=''){send_params['product_id']=$('#'+modal_id).find("input#product_id").attr("value");}}
if(modal_id=="myAssistModal"){if(global_params[modal_id]['section']=="Sell"){if((send_params['product_id']==""||send_params['product_id']==undefined)&&(send_params['make']==""||send_params['model']==""||send_params['trim']==""||send_params['year']=="")){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>All the above fields are required.</small>");$('#'+modal_id).find(".home-req-error").first().html("All the above fields are required.");return false;}
if(send_params['kms_driven']==""||send_params['reg_no']==""){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>All the above fields are required.</small>");$('#'+modal_id).find(".home-req-error").first().html("All the above fields are required.");return false;}else if($('#'+modal_id).find("#reg_no").val()!=''){self.reg_no_check();if($('#reg_no').parent('div').hasClass('has-error')){return false;}}
var km_value=$('#'+modal_id).find("#kms_driven_sell").val();if(($.isNumeric(km_value)==false)){$("#kms_driven_sell").after("<small class='text-danger'>Please enter a Number.</small>");$('#kms_driven_sell').focus();return false;}}}
if(modal_id=='myRequirementGermShieldRetailLeadModalForm'&&$('#'+modal_id).find('#zip').length>0&&$('#'+modal_id).find('#city').val()==""){$('.zip_error').remove();$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='zip_error text-danger'>Please enter a valid pincode</small>");$('#'+modal_id).find(".home-req-error").first().html("Please enter a valid pincode");return false;}
if(modal_id=='myRequirementGermShieldRetailLeadModalForm'&&$('#'+modal_id).find('.home-req-cat-germ_body_type').length>0&&$('#'+modal_id).find('.home-req-cat-germ_body_type').val()==""){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='zip_error text-danger'>Please select a valid vehicle type</small>");$('#'+modal_id).find(".home-req-error").first().html("Please select a valid vehicle type");return false;}
if(modal_id=='myRequirementGermShieldRetailLeadModalForm'&&$('#'+modal_id).find('#area').length>0&&$('#'+modal_id).find('#area').val()==""){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>Please enter a valid Area size</small>");$('#'+modal_id).find(".home-req-error").first().html("Please enter a valid Area size");return false;}
var loc=global_params[modal_id]['location'];if(loc==''||loc==undefined||$("#"+modal_id).find('input[name=req_location]').val()==''){$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>Please select a location.</small>");$('#'+modal_id).find(".home-req-error").first().html("Please select a location.");return false;}
if(modal_id=='myRequirementLuxuryModal'){var frm=1;var mmm=1;var cmm=0;var stff='';var sstff='';send_params['make_model']=[];for(mmm=1;mmm<20;mmm++){if($('#'+modal_id+' #my-req-auto-search').find('.choice'+mmm).attr('value')!=undefined){send_params['make_model'][cmm]=$('#'+modal_id+' #my-req-auto-search').find(".choice"+mmm).attr("value");if(frm==0){stff+=$('#'+modal_id+' #my-req-auto-search').find('.choice'+mmm+' #'+mmm).text();stff+=',  ';}
if(frm==1){send_params['product_id']=send_params['make_model'][cmm];send_params['product_title']=$('#'+modal_id+' #my-req-auto-search').find('.choice'+mmm+' #'+mmm).text();frm=0;}
cmm++;}}
for(mmm=1;mmm<20;mmm++){if($('#'+modal_id+' #my-req-auto-search-sell').find('.choice'+mmm).attr('value')!=undefined){send_params['make_model'][cmm]=$('#'+modal_id+' #my-req-auto-search-sell').find(".choice"+mmm).attr("value");if(frm==0){sstff+=$('#'+modal_id+' #my-req-auto-search-sell').find('.choice'+mmm+' #'+mmm).text();sstff+='(sell), ';}
cmm++;}}
if(stff!=''){send_params['staff_notes']=stff;}
if(sstff!=''){if(stff!=''){send_params['staff_notes']+=sstff;}else{send_params['staff_notes']=sstff;}}
delete send_params['product_title_sell'];}
if(send_params['make_model']==''){delete send_params['make_model'];}
var mobile_no=send_params['phone'];if(mobile_no.length!=10||mobile_no<6000000000||($.isNumeric(mobile_no)==false)){$('#'+modal_id).find('input[name=phone]').closest('.form-group').find('small[name=error]').text('Please enter a valid Mobile Number').removeClass('hidden');return false;}
if(global_params[modal_id]['sub_section']=='germ_shield'&&jQuery.inArray(modal_id,non_my_req_blocks)!=-1&&submit_button.data('step')=='four'){var area=send_params['area'];var sub_type=send_params['vehicleType'];var business_type=send_params['business_type'];var body_type_package=send_params['sub_category'];if((business_type==undefined||business_type=='')&&sub_type=='fleet'){$('#'+modal_id).find('.home-req-cat-germ_b_type').closest('.form-group').find('small[name=error]').text('Please select your business type').removeClass('hidden');return false;}
if((body_type_package==undefined||body_type_package=='')&&sub_type=='fleet'){$('#'+modal_id).find('.home-req-cat-germ_body_type').closest('.form-group').find('small[name=error]').text('Please select the body type').removeClass('hidden');return false;}
if(area==undefined&&jQuery.inArray(sub_type,['facility'])!=-1){$('#'+modal_id).find('input[name=area]').closest('.form-group').find('small[name=error]').text('Please enter a valid Area size').removeClass('hidden');return false;}
if(area!=undefined&&(area.length>6||($.isNumeric(area)==false))){$('#'+modal_id).find('input[name=area]').closest('.form-group').find('small[name=error]').text('Please enter a valid Area size').removeClass('hidden');return false;}}
if(send_params['email']==undefined){send_params['email']='';}
if(send_params['email']!=''){if(/(.+)@(.+){2,}\.(.+){2,}/.test(send_params['email'])){}else{$('#'+modal_id).find('input[name=email]').closest('.form-group').find('small[name=error]').text('Please enter a valid Email Address').removeClass('hidden');return false;}}
if(global_params[modal_id]['section']=='Exchange'&&modal_id=='myAssistModal'){if(global_params[modal_id]['otp_verified']==1){send_params['category']=$('#'+modal_id).find(".home-req-category.buy").val();send_params['condition']=$('#'+modal_id).find("input[name=condition]:checked").val();send_params['make']=$('#'+modal_id).find(".home-req-make.buy").val();send_params['model']=$('#'+modal_id).find(".home-req-model.buy").val();send_params['trim']=$('#'+modal_id).find(".home-req-trim.buy").val();send_params['kms_driven']=$('#'+modal_id).find("#kms_driven").val();send_params['year']=$('#'+modal_id).find(".home-req-year.buy").val();if($('#'+modal_id).find("#from_price_range").val()!==undefined&&$('#'+modal_id).find("#from_price_range").val()!=''){send_params["price_range"]=$('#'+modal_id).find("#from_price_range").val()+'-'+$('#'+modal_id).find("#to_price_range").val();}else{delete send_params["price_range"];}}else{if($('#'+modal_id).find('#product_title_sell').val()!=undefined&&$('#'+modal_id).find('#product_title_sell').val()!=''){send_params['product_id']=$('#'+modal_id).find("input#product_id_sell").attr("value");}}}
if(jQuery.inArray(modal_id,non_my_req_blocks)!=-1&&submit_button.data('step')=='first'){global_params[modal_id]['section']='';send_params['basic_lead']=1;}else{delete send_params['basic_lead'];}
if(jQuery.inArray(modal_id,['myreqlockdownModal','inactivityLockdown'])!=-1&&submit_button.data('step')=='first'){send_params['basic_lead']=1;}
if(global_params[modal_id]['section']=='Rental'){send_params['category']="rentals";send_params['tab']='everything_else';}else if(global_params[modal_id]['section']=='Exchange'){send_params['tab']="vehicles";send_params['vehicle_exchange']="yes";}else if(global_params[modal_id]['section']=='Buy'){var sub_section=global_params[modal_id]['sub_section'];if(sub_section==''||sub_section==undefined){sub_section='vehicles';}
send_params['tab']=sub_section;if(sub_section=='vehicles'){if($('#'+modal_id).find("#from_price_range").val()!==undefined&&$('#'+modal_id).find("#from_price_range").val()!=''){send_params["price_range"]=$('#'+modal_id).find("#from_price_range").val()+'-'+$('#'+modal_id).find("#to_price_range").val();}else{delete send_params["price_range"];}}}else if(global_params[modal_id]['section']=="Sell"){send_params['purpose']="selling_assistance";send_params['condition']="used";if(send_params['tab']==''||send_params['tab']=='undefined'||typeof send_params['tab']=='undefined'){send_params['tab']="vehicles";}}
send_params['location']=global_params[modal_id]['location'];send_params['zip']=global_params[modal_id]['zip'];send_params["source"]=submit_button.data('source');if(global_params[modal_id]['pg_source']!=''&&global_params[modal_id]['pg_source']!='undefined'){send_params["source"]=global_params[modal_id]['pg_source'];}
send_params["lead_source"]=send_params["source"];global_params[modal_id]['source']=send_params["source"];send_params['modal_id']=modal_id;var lead_id;if(modal_id!='myAssistModal'||(modal_id=='myAssistModal'&&global_params[modal_id]['section']!='Exchange')){lead_id=global_params[modal_id]['lead_id'];}
if(lead_id!=""&&lead_id!=undefined){send_params['lead_id']=lead_id;}
if(send_params['condition']==undefined||send_params['condition']==''){send_params['condition']='new';}
if(jQuery.inArray(modal_id,non_my_req_blocks)!=-1&&submit_button.data('step')=='first'){delete send_params['condition'];delete send_params['section'];}
if(modal_id=='myreqlockdownModal'&&submit_button.data('step')=='first'){send_params['basic_lead']=1;delete send_params['condition'];}
delete send_params['search_city'];global_params[modal_id]['cust_phone_no']=send_params['phone'];global_params[modal_id]['cust_name']=send_params['first_name'];submit_button.attr("disabled",true);global_params[modal_id]['submit_trigger']=global_params[modal_id]['submit_trigger']+1;if(global_params[modal_id]['submit_trigger']>1){return false;}
if(modal_id=='myAssistModal'){if(global_params[modal_id]['section']=='Sell'){global_params[modal_id]['make']=send_params['make'];global_params[modal_id]['model']=send_params['model'];global_params[modal_id]['trim']=send_params['trim'];global_params[modal_id]['year']=send_params['year'];global_params[modal_id]['location']=send_params['location'];global_params[modal_id]['kms_driven']=send_params['kms_driven'];global_params[modal_id]['category']=send_params['category'];global_params[modal_id]['reg_no']=send_params['reg_no'];global_params[modal_id]['lead_origin']=send_params['lead_origin'];}
else if(global_params[modal_id]['section']=='Exchange'){if(global_params[modal_id]['otp_verified']==0){send_params['purpose']='selling_assistance';send_params['condition']='used';}else{send_params['purpose']='buying_assistance';send_params['ex_leid']=global_params[modal_id]['ex_leid'];}}}
global_params[modal_id]['purpose']=send_params['purpose'];send_params['otp_verified']=global_params[modal_id]['otp_verified'];if(send_params['otp_verified']==0){send_params['otp_verified']=2;}
send_params['leid_id']=global_params[modal_id]['lead_id'];send_params['entered_otp_code']=global_params[modal_id]['entered_otp_code'];$.ajax({type:"POST",data:send_params,dataType:"json",url:"/home-req-lead",beforeSend:function(){$('#'+modal_id).find(".req-loader").removeClass('hidden');},success:function(d){if(d.code=='success'){var listings_count=d.data.listings_count;$('#'+modal_id).find(".step").addClass('hidden');submit_button.parents(".step").nextAll(".include-step:first").removeClass("hidden");global_params[modal_id]['lead_submit']='yes';if(lead_id==''){if(jQuery.inArray(modal_id,non_my_req_blocks)!=-1){submit_button.parents(".step").siblings().find(".include-step:first").removeClass("hidden");}
global_params[modal_id]['first_name']=d.data['first_name'];global_params[modal_id]['email']=d.data['email'];global_params[modal_id]['phone']=d.data['phone'];global_params[modal_id]['city']=d.data['city'];}
if(modal_id=="myreqlockdownModal"&&global_params[modal_id]['lead_id']!=''&&global_params[modal_id]['lead_id']!=undefined){$("#myreqlockdownModal").find("#lockdown-heading").addClass("hidden");}
global_params[modal_id]['lead_id']=d.data._id;if(d.otp_status.code=='success'&&d.otp_status.otp_verified===0){send_otp=1;}
else if(d.otp_status.code=='success'&&d.otp_status.otp_verified===1){send_otp=2;otp_verified=1;global_params[modal_id]['otp_verified']=1;$('#'+modal_id).find(".otp-req-submit").parents('.step').addClass("hidden");if(modal_id=='myAssistModal'){if(global_params[modal_id]['section']!='Buy'&&global_params[modal_id]['section']!='Sell'){if($('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').html().length>0){if(modal_id=="myAssistModal"&&global_params[modal_id]['section']=='Exchange'){if(global_params[modal_id]['purpose']=='selling_assistance'){$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').removeClass("hidden");}}else{$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').removeClass("hidden");}}else{$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').next('.step').removeClass("hidden");}}else{if(global_params[modal_id]['section']=='Sell'){self.renderSellAssistanceSteps('step_two');}
else if(global_params[modal_id]['section']=='Buy'){self.renderBuyAssistanceSteps('step_two');}}}
else if(modal_id=="myRequirementGermShieldRetailLeadModalForm"){$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').addClass("hidden");$("#myRequirementGermShieldRetailLeadModalFormModal").modal('show');$("#close_modal").click(function(){window.location.reload(true);});}
else{if($('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').html().length>0){var product_id;var product_title;if(modal_id!='myRequirementLuxuryModal'){product_id=$('#'+modal_id).find("input#product_id").attr("value");product_title=$('#'+modal_id).find("#product_title").val();}
if(product_id!=''&&product_id!=undefined&&global_params[modal_id]['section']=="Buy"&&product_title!=undefined&&product_title!=''){$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').addClass("hidden");$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').next('.step').removeClass("hidden");$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').next('.step').find(".reqs-back").addClass('hidden');}else{$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').removeClass("hidden");}}else{$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').next('.step').removeClass("hidden");}}}
else{send_otp=0;}
if(modal_id=='myAssistModal'&&send_params['purpose']=='selling_assistance'){global_params[modal_id]['ex_leid']=d.data.leid;}
if(global_params[modal_id]['section']=="Buy"||global_params[modal_id]['section']==''){self.vehicleListings(send_params,listings_count,modal_id,d.data);}
var phone_display=send_params['phone'];phone_display=phone_display.substr(phone_display.length-4,phone_display.length);$("#"+modal_id).find("#otp-phone-req").text("+91-XXXXXX"+phone_display);}else{DroomApp.show_msg("Something Went Wrong! Please try again later!",'error',5000);}
submit_button.attr("disabled",false);global_params[modal_id]['submit_trigger']=global_params[modal_id]['submit_trigger']-1;submit_button.parents('.step').find("reqs-back").removeClass("hidden");$('#'+modal_id).find(".req-loader").addClass('hidden');}});};this.vehicleListings=function(params={},listings_count,modal_id,lead){if(listings_count!=undefined&&listings_count!=0&&listings_count!=""&&global_params[modal_id]['lead_id']!=''){$('#'+modal_id).find("#vehicle-home-link").text('View '+listings_count+' Listings');var query_string='';$.each(params,function(key,value){if(value==undefined||value==''){value=lead[key];}
var both_vehicle=false;var query_arr=['category','body_type','fuel_type','make','model','trim','location','min_price','max_price','condition'];if($('#'+modal_id).find("input[name=condition]:checked").val()=='both'){query_arr.pop();both_vehicle=true;}
if(jQuery.inArray(key,query_arr)!=-1&&value!=''&&value!=undefined){query_string+=key+'='+value+'&';}});$("#"+modal_id).find("#vehicle-home-link").attr("href",base_url+"/search?"+query_string);$('#'+modal_id).find("#vehicle-home-link").parent(".action").removeClass("hidden");}else{$('#'+modal_id).find("#vehicle-home-link").parent(".action").addClass("hidden");}};this.load_section=function(params={},modal_id,step_val='step1'){if(modal_id=='myAssistModal'){if(flag==1){send_params={};global_params[modal_id]['section']='Sell';flag++;send_params['vehicle_type']=vehicle_type;send_params['make']=make;send_params['model']=model;send_params['year']=year;send_params['trim']=trim;send_params['location']=location_sell;send_params['selling_price']=selling_price;send_params['package_type']=package_type;send_params['lead_origin']=lead_origin;send_params['kms_driven']=kms_driven;send_params['reg_no']=reg_no;send_params['redirect']=redirect;send_params['add_quicksell']=add_quicksell;send_params['product_title']="seller concierge";send_params['order_type']="SC";self.postConcierge(send_params);$('body').on('click','.changePackage',function(){var package=$(this).attr('data-id');if(package=='Silver'){var selling_price='699';}else if(package=='Gold'){var selling_price='1099';}else if(package=='Platinum'){var selling_price='1399';}
send_params['package_type']=package;send_params['selling_price']=selling_price;global_params[modal_id]['package_type']=send_params['package_type'];global_params[modal_id]['selling_price']=send_params['selling_price'];self.postConcierge(send_params);$("#cart_edit_modal").modal('hide');});$('body').on('click','.removeItem',function(){$(this).attr('disabled',true);var listing_id=$(this).attr('id');var key=$(this).data('key');$.ajax({url:"/remove_cart_product",type:"POST",async:false,dataType:'JSON',data:{'id':listing_id,'key':key},success:function(ret){DroomApp.show_msg("Package removed successfully.","message",5000);setTimeout(function(){$('#cart_edit_modal').modal('hide');window.location.reload(true);},1500);return false;}});});var payment_method_el="";var payment_form="";$('body').on('click','.choose-payment-method',function(){if(!$(this).hasClass("paybtn-radio")){$('.paybtn-radio input[type="radio"]:checked').prop('checked',false);$(this).closest('li').find('.paybtn-radio input[type="radio"]').prop('checked',true);}
var payment_method=$(this).data('method');payment_method_el=$("#payment_method");payment_form=$("#payment_form");payment_method_el.val(payment_method);});$('body').on('click','.proceed-to-pay',function(){var total_cart_amount='{{$total_amount}}';if(payment_method_el==""||payment_method_el.val()==""){DroomApp.show_msg('Kindly choose payment method','error',5000);return false;}
if(parseInt(total_cart_amount)===0&&payment_method_el.val()!='zero_payment'){DroomApp.show_msg('Cart amount is invalid!','error',5000);return;}
payment_form.submit();});}}
if(global_params[modal_id]['section']==''){global_params[modal_id]['section']='Buy';}
params['section']=global_params[modal_id]['section'];inactivity_modals={'inactivityJumpstart':'myRequirementJumpstartModal','inactivityGermShield':'myRequirementGermShieldModal','inactivityLockdown':'myreqlockdownModal','myRequirementGermShieldModalForm':'myRequirementGermShieldModal'};if(inactivity_modals.hasOwnProperty(modal_id)){var cache_key=inactivity_modals[modal_id];}else{var cache_key=modal_id;}
cache_key=cache_key+"_my_req_"+global_params[modal_id]['section'];var tab_key='vehicles';if(global_params[modal_id]['section']=='Buy'){tab_key=params['tab']
if(tab_key!=undefined){cache_key=cache_key+'_'+tab_key}
sub_tab_key=params['sub_tab']
if(sub_tab_key!=undefined){cache_key=cache_key+'_'+sub_tab_key}}
if(jQuery.inArray(modal_id,non_my_req_blocks)!=-1){params['exit_popup']=1;}
params['modal_id']=modal_id;if(modal_id=='myAssistModal'){params['assist_page']=1;}
var unhide_step=1;if(params['exit_popup']==1){if(global_params[modal_id]['otp_verified']==1&&global_params[modal_id]['section']=='Buy'&&(global_params[modal_id]['sub_section']=='vehicles')){unhide_step=3;}else if(global_params[modal_id]['section']!='Buy'){global_params[modal_id]['up_flag']=1;}else if(global_params[modal_id]['otp_verified']==1&&global_params[modal_id]['section']=='Buy'){if(global_params[modal_id]['up_flag']==1){unhide_step=3;}
global_params[modal_id]['up_flag']=0;}}
$.ajax({type:"GET",data:params,dataType:"json",async:false,url:"/home-req-data",beforeSend:function(){if(jQuery.inArray(modal_id,non_my_req_blocks)==-1){if(LocalStorageHandler.exist(cache_key)){var cached_key_data=LocalStorageHandler.get(cache_key);if(cached_key_data.length>0){if(cached_key_data.slice(0,8)=='versiond'){cached_key_data=cached_key_data.slice(8);}else{cached_key_data="";LocalStorageHandler.remove(cache_key);}}
if(cached_key_data.length>0){$("#"+modal_id).find(".my-requirement-container").find(".form").html(cached_key_data);self.modifyHeadings();$("#"+modal_id).find(".step[data-step='step1']").removeClass("hidden");self.load_js_common(modal_id);if(modal_id=='myRequirementModal'&&global_params[modal_id]['section']=='Buy'&&global_params[modal_id]['sub_section']=='vehicles'){$("#"+modal_id).find("#req_new").prop("checked",false);}
return false;}}}},success:function(d){if(d.code==='success'){req_location_key=d.api_location_key;LocalStorageHandler.set(cache_key,d.data,function(cached_data){$("#"+modal_id).find(".my-requirement-container").find(".form").html(cached_data.slice(8));self.modifyHeadings();if(jQuery.inArray(modal_id,non_my_req_blocks)!=-1){if(unhide_step==3){$("#"+modal_id).find(".step[data-step='step3']").removeClass("hidden");}else{$("#"+modal_id).find(".step[data-step='step1']").removeClass("hidden");}}else{$("#"+modal_id).find(".step[data-step='step1']").removeClass("hidden");}});if(modal_id=='myRequirementModal'&&global_params[modal_id]['section']=='Buy'&&global_params[modal_id]['sub_section']=='vehicles'){$("#"+modal_id).find("#req_new").prop("checked",false);}}
self.load_js_common(modal_id);}});};this.mmyt_switch=function(modal_id){$('#'+modal_id).find(".mmyt_dropdown").on("click",function(){$(this).parents('.step').find("#mmyt_select").slideDown(500);$(this).parents('.step').find("#my-req-auto-search").hide();$(this).parents('.step').find("#my-req-auto-search-sell").hide();});$('#'+modal_id).find(".mmyt_search").on("click",function(){$(this).parents('.step').find("#my-req-auto-search").slideDown(500);$(this).parents('.step').find("#my-req-auto-search-sell").slideDown(500);$(this).parents('.step').find("#mmyt_select").hide();});$('#'+modal_id).find("#my-req-auto-search").on('keyup','#product_title',function(){multi_mm_sell=0;self.autoSearchBar($(this),'product_title','product_search_results',modal_id,'buy');});$('#'+modal_id).find("#my-req-auto-search-sell").on('keyup','#product_title_sell',function(){multi_mm_sell=1;self.autoSearchBar($(this),'product_title_sell','product_search_results_sell',modal_id,'sell');});};this.get_location_by_zip=function(modal_id){$('#'+modal_id).find("#zip").keyup(function(){if($(this).val().length==6){var zip=$(this).val();$('#'+modal_id).find("#city").val("");global_params[modal_id]['location']="";$.ajax({url:'/locations',type:'post',async:false,data:{'pincode':zip},dataType:'JSON',success:function(data){if(data!=''){var city=data.city;$('#'+modal_id).find("#city").val(city).trigger("change");global_params[modal_id]['location']=city;return true;}else{$('.zip_error').remove();$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='zip_error text-danger'>Sorry, service is not currently available at the given pin code.</small> ");$('#'+modal_id).find(".home-req-error").first().html("Sorry, service is not currently available at the given pin code.");return false;}}});}});}
this.next_step_validations=function(modal_id){$('#'+modal_id).find(".reqs-continue").on("click",function(){$("#"+modal_id).find(".reqs-continue").parents('.action').siblings('small').remove();if($(this).attr("href")!=''&&$(this).attr('href')!=undefined){return true;}
if($(this).parents(".step").find('.location-block').length>0){var loc=global_params[modal_id]['location'];if(loc==''||loc==undefined||$("#"+modal_id).find('input[name=req_location]').val()==''){$('#'+modal_id).find(".reqs-continue").parents('.action').before("<small class='text-danger'>Please select a location.</small>");$('#'+modal_id).find(".home-req-error").first().html("Please select a location.");return false;}}
if(modal_id=='myRequirementModal'&&global_params[modal_id]['section']=='Buy'&&global_params[modal_id]['sub_section']=='vehicles'){var bnew=$("#"+modal_id).find("#req_new").is(":checked");var bused=$("#"+modal_id).find("#req_used").is(":checked");var bboth=$("#"+modal_id).find("#req_both").is(":checked");if(bnew==false&&bused==false&&bboth==false){$('#'+modal_id).find(".reqs-continue").parents('.action').before("<small class='text-danger'>Please Choose a condition.</small>");$('#'+modal_id).find(".home-req-error").first().html("Please Choose a condition.");return false}}
if(global_params[modal_id]['sub_section']=='germ_shield'&&(jQuery.inArray(modal_id,non_my_req_blocks)==-1&&$(this).parents(".step").attr('data-step')=='step2')){var area=$('#'+modal_id).find("#area").val();var sub_type=$('#'+modal_id).find(".home-req-cat-sub_tab").val();var business_type=$('#'+modal_id).find(".home-req-cat-germ_b_type").val();var body_type_package=$('#'+modal_id).find(".home-req-cat-germ_body_type").val();if((business_type==undefined||business_type=='')&&sub_type=='fleet'){$('#'+modal_id).find('.home-req-cat-germ_b_type').closest('.form-group').find('small[name=error]').text('Please select your business type').removeClass('hidden');return false;}
if((body_type_package==undefined||body_type_package=='')&&sub_type=='fleet'){$('#'+modal_id).find('.home-req-cat-germ_body_type').closest('.form-group').find('small[name=error]').text('Please select the body type').removeClass('hidden');return false;}
if(area==undefined&&jQuery.inArray(sub_type,['facility'])!=-1){$('#'+modal_id).find('input[name=area]').closest('.form-group').find('small[name=error]').text('Please enter a valid Area size').removeClass('hidden');return false;}
if(area!=undefined&&(area.length>6||($.isNumeric(area)==false))){$('#'+modal_id).find('input[name=area]').closest('.form-group').find('small[name=error]').text('Please enter a valid Area size').removeClass('hidden');return false;}}
if(modal_id=='myRequirementExitModal'&&$(this).parents(".step").attr('data-step')=='step3'){var product_id=$('#myRequirementExitModal').find("input#product_id").attr("value");var product_title=$('#myRequirementExitModal').find("#product_title").val();if(product_id!=''&&product_id!=undefined&&product_title!=undefined&&product_title!=''){$('#myRequirementExitModal').find(".reqs-continue").parents('.step').addClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').addClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').next('.step').addClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').next('.step').next('.step').removeClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').next('.step').next('.step').find('.reqs-back').addClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').next('.step').next('.step').nextAll(".include-step").addClass("hidden");$('#myRequirementExitModal').find(".reqs-continue").parents('.step').next('.step').next('.step').next('.step').next('.step').find('.reqs-back').removeClass("hidden");}else{$('#'+modal_id).find(".step").addClass('hidden');$(this).parents(".step").nextAll(".include-step:first").removeClass("hidden");}}else{$('#'+modal_id).find(".step").addClass('hidden');$(this).parents(".step").nextAll(".include-step:first").removeClass("hidden");}});};this.load_html_click=function(modal_id){$('#'+modal_id).find(".home-req-purpose").on("click",function(){global_params[modal_id]['section']=$(this).attr("data-value");var send_params={};send_params['section']=global_params[modal_id]['section'];send_params['change']=1;self.load_section(send_params,modal_id);});$('#'+modal_id).find(".home-req-main-cat").on("change",function(){global_params[modal_id]['sub_section']=$(this).val();var send_params={};send_params['section']=global_params[modal_id]['section'];send_params['tab']=global_params[modal_id]['sub_section'];send_params['change']=1;if(modal_id=="leads_page"&&global_params[modal_id]['section']=="Sell"&&global_params[modal_id]['sub_section']!="vehicles"){$(this).parents(".tab-content").find(".req_main_vehicles").remove();$(this).parents(".tab-content").find("#my-req-auto-search").remove();$(this).parents(".tab-content").find(".btn-primary").removeClass("home-req-submit");$(this).parents(".tab-content").find(".btn-primary").text("Proceed");$(this).parents(".tab-content").find(".btn-primary").attr("href","/dealer");$(this).parents(".tab-content").find(".btn-primary").attr("target","_blank");$(this).parents(".tab-content").find(".btn-primary").unbind("click");}else{self.load_section(send_params,modal_id);}});$('#'+modal_id).find(".home-req-cat-sub_tab").on("change",function(){global_params[modal_id]['sub_tab']=$(this).val();var send_params={};send_params['section']=global_params[modal_id]['section'];send_params['tab']=global_params[modal_id]['sub_section'];send_params['sub_tab']=global_params[modal_id]['sub_tab'];send_params['change']=1;self.load_section(send_params,modal_id);});$('#'+modal_id).find(".auto_change").on("change",function(){global_params[modal_id]['sub_tab']=$(this).val();var send_params={};send_params['section']=global_params[modal_id]['section'];send_params['tab']=global_params[modal_id]['sub_section'];send_params['sub_tab']=global_params[modal_id]['sub_tab'];send_params['change']=1;self.load_section(send_params,modal_id);});};this.otp_ground=function(modal_id){$('#'+modal_id).find('.otp-req-submit').on("click",function(){$('#'+modal_id).find('.otp-req-submit').attr("disabled",true);$('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').text('');global_params[modal_id]['entered_otp_code']='';for(i=1;i<=4;i++){global_params[modal_id]['entered_otp_code']=global_params[modal_id]['entered_otp_code']+$("#"+modal_id).find('input[name=otp-input'+i+']').val();}
if(global_params[modal_id]['entered_otp_code'].length==4){var otp_response=self.verifyLeadsOtp(global_params[modal_id]['entered_otp_code'],global_params[modal_id]['cust_phone_no'],global_params[modal_id]['cust_name'],modal_id,global_params[modal_id]['lead_id'],global_params[modal_id]['source']);var upper_step=$(this).closest('.step');if(otp_response){global_params[modal_id]['otp_verified']=1;upper_step.addClass('hidden');if(modal_id=='myAssistModal'){if(global_params[modal_id]['section']!='Sell'&&global_params[modal_id]['section']!='Buy'){upper_step.next('.step').removeClass('hidden');}}
else if(modal_id=="myRequirementGermShieldRetailLeadModalForm"){$("#myRequirementGermShieldRetailLeadModalFormModal").modal('show');$("#close_modal").click(function(){window.location.reload(true);});}
else{upper_step.next('.step').removeClass('hidden');}
var product_id=$('#'+modal_id).find("input#product_id").attr("value");if(product_id!=''&&product_id!=undefined&&global_params[modal_id]['section']=="Buy"){upper_step.next('.step').addClass('hidden');upper_step.next('.step').next('.step').removeClass('hidden');upper_step.next('.step').next('.step').find(".reqs-back").addClass('hidden');}else{if(global_params[modal_id]['section']!='Buy'&&global_params[modal_id]['section']!='Sell'&&modal_id=='myAssistModal'){upper_step.next('.step').removeClass('hidden');if(upper_step.next('.step').html().length>0){upper_step.next('.step').removeClass("hidden");}else{upper_step.next('.step').next('.step').removeClass("hidden");}}else if(modal_id=='myAssistModal'){if(global_params[modal_id]['section']=='Sell'){self.renderSellAssistanceSteps('step_two');}else if(global_params[modal_id]['section']=='Buy'){self.renderBuyAssistanceSteps('step_two');}}else{upper_step.next('.step').removeClass('hidden');if(upper_step.next('.step').html().length>0){upper_step.next('.step').removeClass("hidden");}else{upper_step.next('.step').next('.step').removeClass("hidden");}}}}else{global_params[modal_id]['otp_verified']=0;upper_step.next('.step').addClass('hidden');if($('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').length>0){$('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').text('The OTP entered by you is incorrect. Please enter the Correct OTP!');}else{$('#'+modal_id).find(".otp-req-submit").parents('.action').append("<small class='text-danger otp_error'>The OTP entered by you is incorrect. Please enter the Correct OTP!</small>");}}}else{global_params[modal_id]['otp_verified']=0;if($('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').length>0){$('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').text('Please enter a valid OTP.');}else{$('#'+modal_id).find(".otp-req-submit").parents('.action').append("<small class='text-danger otp_error'>Please enter a valid OTP.</small>");}}
$('#'+modal_id).find('.otp-req-submit').attr("disabled",false);});$('#'+modal_id).find('.resend_otp').on("click",function(){if($('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').length>0){$('#'+modal_id).find(".otp-req-submit").closest('.action').find('.otp_error').text('Kindly check,OTP has been sent again.');}else{$('#'+modal_id).find(".otp-req-submit").parents('.action').append("<small class='text-danger otp_error'>Kindly check,OTP has been sent again.</small>");}
self.sendLeadsOtp(global_params[modal_id]['cust_phone_no'],global_params[modal_id]['cust_name'],modal_id);});};this.mmyt_change=function(modal_id){$('#'+modal_id+' input[name=condition]').change(function(){$(this).prop("checked",true);if($(this).val()=='new'){$('#'+modal_id).find("#kms_driven").parent('.form-group').addClass('hidden');}else{$('#'+modal_id).find("#kms_driven").parent('.form-group').removeClass('hidden');}
var sub_params=['make','model','fuel_type','body_type','transmission_type','year','trim'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("condition",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find(".product_search_results").html('');});};this.load_js_common=function(modal_id){self.mmyt_switch(modal_id);self.location_js(modal_id,global_params[modal_id]['section']);self.otp_step_input(event,modal_id);self.load_html_click(modal_id);self.next_step_validations(modal_id);self.get_location_by_zip(modal_id);self.otp_ground(modal_id);self.mmyt_change(modal_id);$('#'+modal_id).find("#kms_driven").parent('.form-group').addClass('hidden');if(modal_id=="myAssistModal"){if(spd=="1"){$("#first_name").closest(".form-group").addClass("active");$("#first_name").val(Name);$("#email").closest(".form-group").addClass("active");$("#email").val(Email);$("#phone").closest(".form-group").addClass("active");$("#phone").val(Phone);}
if(flag==2){$("#"+modal_id).find(".home-req-submit").parents('.step').addClass("hidden");}}
$('#'+modal_id).find(".reqs-back").on("click",function(){$('#'+modal_id).find(".step").addClass('hidden');$(this).parents(".step").prevAll(".include-step:first").removeClass("hidden");});if(global_params[modal_id]['section']=='Sell'){self.load_sell_js(modal_id);}else if(global_params[modal_id]['section']=='Buy'||global_params[modal_id]['section']==''){self.load_buy_js(modal_id);}else if(global_params[modal_id]['section']=='Exchange'){if(modal_id=='myAssistModal'){self.load_exchange_sell_vehicles_js(modal_id);}}
$('#'+modal_id).find(".home-req-submit").on("click",function(){if((global_params[modal_id]['otp_verified']==0&&global_params[modal_id]['lead_id']=='')||global_params[modal_id]['otp_verified']==1){self.submit_lead($(this),modal_id);}else{$('#'+modal_id).find(".home-req-submit").parents('.action').before("<small class='text-danger'>Please verify your OTP first.</small>");}});};this.location_js=function(modal_id){if(req_location_key==""){$.ajax({url:base_url+"/req_location_api_key",type:'GET',async:false,success:function(res){req_location_key=res;}});}
DroomApp.load_js("https://maps.googleapis.com/maps/api/js?key="+req_location_key+"&libraries=places",function(){google.maps.event.addDomListener(window,'load',self.init_locations(modal_id));},{},true);if(modal_id=='myAssistModal'){if(global_params[modal_id]['section']=='Exchange'||global_params[modal_id]['section']=="Buy"){rangeSlider(modal_id);}}else{if(global_params[modal_id]['section']=='Buy'){rangeSlider(modal_id);}}};this.autoSearchBar=function($obj,pt,psr,modal_id,purpose=""){var catId=81;var ppse="";if(modal_id=="myAssistModal"&&global_params[modal_id]['section']=='Exchange'){ppse='.'+purpose;}
var category=$('#'+modal_id).find('.home-req-category'+ppse+' option:selected').val();category=category.toLowerCase();if(category=="car"){catId=[81,491];catId=catId.join(",");}else if(category=="motorcycle/bike"){catId=[421,101];catId=catId.join(",");}else if(category=="scooter"){catId=451;}else if(category=="taxi"){catId=81;}
var product_title=$('#'+modal_id).find("#"+pt).val();var condition=$('#'+modal_id).find('input[name=condition]:checked').val();if(global_params[modal_id]['section']=='Sell'){condition="used";}
if(product_title==''||product_title=='undefined'){$('#'+modal_id).find('.'+psr).addClass('hide');}else{self.findProduct($obj,catId,$(document).find('#'+modal_id+' div.'+psr),3,'',condition,modal_id);}};this.renderBuyAssistanceSteps=function(blade){var modal_id='myAssistModal';var condition=$('#myAssistModal').find('input[name=condition]:checked').val();if(condition==undefined){condition='';}
condition=condition.toLowerCase().replace(/\b[a-z]/g,function(letter){return letter.toUpperCase();});var loc=global_params[modal_id]['location'];var category=$('#myAssistModal').find('.home-req-category option:selected').val();if(category==undefined||condition==''){category='Auto Service';}
$.ajax({url:base_url+"/assist_revamp",type:'GET',async:false,data:{assist_page:1,buy_step:blade},success:function(res){$('.assistance-main .buy_step_two').removeClass("hidden");$('.assistance-main .buy_step_two .buy_html').html(res);if(condition=='both'){$('#'+modal_id).siblings('.buy_step_two').find('#wg-thankyou').find('small').text("For letting us know your interest in purchasing a "+category+" in "+loc);}else{$('#'+modal_id).siblings('.buy_step_two').find('#wg-thankyou').find('small').text("For letting us know your interest in purchasing a "+condition+" "+category+" in "+loc);}
$('.assistance-main .buy_step_two .buy_html .provide-more-info').on("click",function(){$('.assistance-main .buy_step_two').addClass("hidden");$('#'+modal_id).find(".otp-req-submit").parents('.step').next('.step').removeClass("hidden");});}});};this.renderSellAssistanceSteps=function(blade){var modal_id='myAssistModal';var send_params={};send_params['make']=global_params[modal_id]['make'];send_params['model']=global_params[modal_id]['model'];send_params['year']=global_params[modal_id]['year'];send_params['location']=global_params[modal_id]['location'];send_params['kms_driven']=global_params[modal_id]['kms_driven'];send_params['trim']=global_params[modal_id]['trim'];send_params['vehicle_type']=global_params[modal_id]['category'];send_params['reg_no']=global_params[modal_id]['reg_no'];send_params['sellingFormat']='premium';send_params['lead_origin']=global_params[modal_id]['lead_origin'];$.ajax({url:base_url+"/assist_revamp",type:'GET',async:false,data:{assist_page:1,sell_step:blade},success:function(res){if(blade=='step_two'){$('.assistance-main .sell_step_two ').removeClass("hidden");$sell_step_three_html=res;$('.assistance-main .sell_step_two .sell_html').html(res);$("#step_lead").removeClass("hidden");$('.assistance-main .sell_step_two input[type=radio][name=help_type]').change(function(){if(this.value=='self'||this.value=='premium'){$("#step_lead_two").removeAttr("disabled");$("#step_lead_two").on("click",function(){if($('.assistance-main .sell_step_two input[type=radio][name=help_type]:checked').val()=="self"){window.location.href=base_url+'/sell-format';}
else{self.renderSellAssistanceSteps('step_three');}});}});}
else if(blade=='step_three'){$('.assistance-main .sell_step_two ').addClass("hidden");$('.assistance-main .sell_step_three ').removeClass("hidden");$('.assistance-main .sell_step_three .sell_html').html(res);$('.packages .package').hover(function(){$(this).siblings().removeClass('active');$(this).toggleClass('active');});$(".selling_packages").mouseleave(function(){$(".packages .gold").parent('.package').addClass('active');});$('.report-box-selling h4').click(function(){if($(this).hasClass('active')){$(this).removeClass('active');$(this).next('.row').toggleClass('active');}else{$(this).siblings('h4').removeClass('active');$(this).siblings('.row').removeClass('active');$(this).addClass('active');$(this).next('.row').toggleClass('active');}});$("#go_back_step_lead_two").removeClass("hidden");$("#go_back_step_lead_two").on("click",function(){$("#go_back_step_lead_two").addClass("hidden");$('.assistance-main .sell_step_three ').addClass("hidden");self.renderSellAssistanceSteps('step_two');});$(".selling_continue").on("click",function(){$(".selling_continue").attr("disabled",true);if($('#cart_payment_section .payment-section').length){$('#cart_payment_section').html('');}
if($(this).data('value')!=''&&$(this).data('value')!=undefined&&$(this).data('price')!=''&&$(this).data('price')!=undefined){send_params['selling_price']=$(this).data('price');send_params['package_type']=$(this).data('value');}else{return false;}
send_params['product_title']="seller concierge";send_params['order_type']="SC";send_params['add_quicksell']="0";send_params['redirect']="/assist";global_params[modal_id]['product_title']=send_params['product_title'];global_params[modal_id]['order_type']=send_params['order_type'];global_params[modal_id]['add_quicksell']=send_params['add_quicksell'];global_params[modal_id]['redirect']=send_params['redirect'];global_params[modal_id]['package_type']=send_params['package_type'];self.postConcierge(send_params);});$('body').on('click','.changePackage',function(){var package=$(this).attr('data-id');if(package=='Silver'){var selling_price='699';}else if(package=='Gold'){var selling_price='1099';}else if(package=='Platinum'){var selling_price='1399';}
send_params['package_type']=package;send_params['selling_price']=selling_price;global_params[modal_id]['package_type']=send_params['package_type'];global_params[modal_id]['selling_price']=send_params['selling_price'];self.postConcierge(send_params);$("#cart_edit_modal").modal('hide');});$('body').on('click','.removeItem',function(){$(this).attr('disabled',true);var listing_id=$(this).attr('id');var key=$(this).data('key');$.ajax({url:"/remove_cart_product",type:"POST",async:false,dataType:'JSON',data:{'id':listing_id,'key':key},success:function(ret){DroomApp.show_msg("Package removed successfully.","message",5000);setTimeout(function(){$('#cart_edit_modal').modal('hide');window.location.reload(true);},1500);return false;}});});var payment_method_el="";var payment_form="";$('body').on('click','.choose-payment-method',function(){if(!$(this).hasClass("paybtn-radio")){$('.paybtn-radio input[type="radio"]:checked').prop('checked',false);$(this).closest('li').find('.paybtn-radio input[type="radio"]').prop('checked',true);}
var payment_method=$(this).data('method');payment_method_el=$("#payment_method");payment_form=$("#payment_form");payment_method_el.val(payment_method);});$('body').on('click','.proceed-to-pay',function(){var total_cart_amount='{{$total_amount}}';if(payment_method_el==""||payment_method_el.val()==""){DroomApp.show_msg('Kindly choose payment method','error',5000);return false;}
if(parseInt(total_cart_amount)===0&&payment_method_el.val()!='zero_payment'){DroomApp.show_msg('Cart amount is invalid!','error',5000);return;}
payment_form.submit();});}}});};this.postConcierge=function(data){$.ajax({url:'post-concierge',type:'post',data:data,dataType:'JSON',success:function(response){if(response.code=='auth'){window.location.href=response.redirect;}else if(response.code=='failed'){if(response.message!='undefined'){DroomApp.show_msg(response.message,'error',4000);}else{DroomApp.show_msg('Something Went wrong','error',3000);}
$(".selling_continue").attr('disabled',false);if(flag==1){window.location.reload();}}else{DroomApp.show_msg('Item has been added to cart','success',3000);self.getCartData(data);}}});return false;}
this.getCartData=function(data){$.ajax({url:"/listings/getCartData",type:"GET",dataType:"HTML",data:data,cache:false,success:function(response){if(response!=''&&response!='undefined'){$(".assistance-main .sell_step_three").addClass("hidden");$(".assistance-main .sell_step_four").removeClass("hidden");$(".assistance-main .sell_step_four #cart_payment_section").html(response);$("#express_checkout").removeClass('hide');}
$(".selling_continue").attr('disabled',false);}});}
this.get__Cart=function(){var send_params={};var modal_id='myAssistModal';send_params['make']=global_params[modal_id]['make'];send_params['model']=global_params[modal_id]['model'];send_params['trim']=global_params[modal_id]['trim'];send_params['year']=global_params[modal_id]['year'];send_params['location']=global_params[modal_id]['location'];send_params['redirect']=global_params[modal_id]['redirect'];send_params['package_type']=global_params[modal_id]['package_type'];send_params['add_quicksell']=global_params[modal_id]['add_quicksell'];send_params['selling_price']=global_params[modal_id]['selling_price'];send_params['vehicle_type']=global_params[modal_id]['category'];send_params['kms_driven']=global_params[modal_id]['kms_driven'];send_params['order_type']=global_params[modal_id]['order_type'];send_params['product_title']=global_params[modal_id]['product_title'];$.ajax({url:"/listings/getCartData",type:"GET",dataType:"HTML",data:send_params,cache:false,success:function(response){if(response!=''&&response!='undefined'){$(".assistance-main .sell_step_four #cart_payment_section").html(response);$("#express_checkout").removeClass('hide');}
$(".selling_continue").attr('disabled',false);}});}
this.reg_no_check=function(from=''){var rcnum=$("#reg_no").val();$('#reg_no').parent('div').removeClass('has-error');$('#reg_no').removeClass('has-error');var async=false;if(from=='change'){async=true;}
if(rcnum!=''){$.ajax({type:'GET',url:"/check_registration_no/"+rcnum,dataType:'JSON',async:async,processData:false,contentType:false,success:function(data){if(data.code=='success'){check_reg_no=false;$("#reg_no").val(data.data.registration_number);}else{$('#reg_no').parent('div').addClass('has-error');$("#reg_no").after("<small class='text-danger'>Please enter a Valid Registration Number.</small>");$('#reg_no').focus();return false;}}});}}
this.get_year=function(param_change="",modal_id){to_send_params={};var add="";if(global_params[modal_id]['section']=="Exchange"&&global_params[modal_id]['otp_verified']==1){if(modal_id=='myAssistModal'){add='.buy';}}
$('#'+modal_id).find(".home-req-year"+add).siblings('label').text('Loading...');$cat=$('#'+modal_id).find(".home-req-category"+add).val();if($cat=='Car'){to_send_params['category_id']='81';}
else if($cat=='Motorcycle/Bike'){to_send_params['category_id']='421';}
else if($cat=='Scooter'){to_send_params['category_id']='451';}
else if($cat=='Taxi'){to_send_params['category_id']='931';}
to_send_params['make']=$('#'+modal_id).find(".home-req-make").val();to_send_params['model']=$('#'+modal_id).find(".home-req-model").val();to_send_params['trim']=$('#'+modal_id).find(".home-req-trim").val();to_send_params['type']='year';to_send_params['year']='';$.ajax({type:'GET',data:to_send_params,dataType:"json",url:base_url+'/cmp/product-mmt',success:function(d){var data=d.data;self.make_html(data,'home-req-year',modal_id,'Select Year');}});}
this.get_trim=function(param_change="",modal_id){var add="";to_send_params={};if(global_params[modal_id]['section']=="Exchange"&&global_params[modal_id]['otp_verified']==1){if(modal_id=='myAssistModal'){add='.buy';}}
$('#'+modal_id).find(".home-req-trim"+add).siblings('label').text('Loading...');$cat=$('#'+modal_id).find(".home-req-category"+add).val();if($cat=='Car'){to_send_params['category_id']='81';}
else if($cat=='Motorcycle/Bike'){to_send_params['category_id']='421';}
else if($cat=='Scooter'){to_send_params['category_id']='451';}
else if($cat=='Taxi'){to_send_params['category_id']='931';}
to_send_params['make']=$('#'+modal_id).find(".home-req-make"+add).val();to_send_params['model']=$('#'+modal_id).find(".home-req-model"+add).val();to_send_params['type']='trim';to_send_params['trim']='';$.ajax({type:'GET',data:to_send_params,dataType:"json",url:base_url+'/cmp/product-mmt',success:function(d){var data=d.data;self.make_html(data,'home-req-trim'+add,modal_id,'Select Trim');}});}
this.load_exchange_buy_vehicles_js=function(modal_id){$('#'+modal_id).find("input[name=color_pref]").on("click",function(){$("input[name=color_pref]").prop("checked",false);$(this).prop("checked",true);});}
this.load_exchange_sell_vehicles_js=function(modal_id){var add=".sell";$('#'+modal_id).find(".home-req-category").on("change",function(){if(global_params[modal_id]['otp_verified']==1){add='.buy';}
var sub_params=['make'+add,'model'+add,'trim'+add,'year'+add,'fuel_type'+add,'body_type'+add,'transmission_type'+add];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("category",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title_sell").val('');$('#'+modal_id).find(".product_search_results").html('');$('#'+modal_id).find(".product_search_results_sell").html('');});$('#'+modal_id).find(".home-req-make").on("change",function(){if(global_params[modal_id]['otp_verified']==1){add='.buy';}
var sub_params=['model'+add,'trim'+add,'year'+add];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("make",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title_sell").val('');});$('#'+modal_id).find(".home-req-model").on("change",function(){if(global_params[modal_id]['otp_verified']==1){add='.buy';}
var sub_params=['trim'+add,'year'+add];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_trim("model",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title_sell").val('');});$('#'+modal_id).find(".home-req-trim").on("change",function(){if(global_params[modal_id]['otp_verified']==1){add='.buy';}
var sub_params=['year'+add];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_year("trim",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title_sell").val('');});$('#'+modal_id).find(".home-req-year").on("change",function(){$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find("#product_title_sell").val('');});self.load_exchange_buy_vehicles_js(modal_id);}
this.load_sell_vehicles_js=function(modal_id,section){$('#'+modal_id).find(".home-req-category").on("change",function(){var sub_params=['make','model','year','trim'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("category",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find(".product_search_results").html('');});$('#'+modal_id).find(".home-req-make").on("change",function(){var sub_params=['model','trim','year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("make",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-model").on("change",function(){var sub_params=['trim','year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_trim("model",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-trim").on("change",function(){var sub_params=['year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_year("trim",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-year").on("change",function(){$('#'+modal_id).find("#product_title").val('');});}
this.load_buy_js=function(modal_id){if(global_params[modal_id]['sub_section']=='everything_else'){$(".else-home-req-category").on("change",function(){if($(this).val()=='my_droom'){$(this).parents(".step").find(".reqs-continue").attr('href',base_url+'/mydroom');$(this).parents(".step").find(".reqs-continue").text("Proceed");$(this).parents(".step").find(".reqs-continue").attr("target","_blank");}else if($(this).val()=="selling_assistance"){$(this).parents(".step").find(".reqs-continue").attr('href',base_url+'/selling-assistance');$(this).parents(".step").find(".reqs-continue").text("Proceed");$(this).parents(".step").find(".reqs-continue").attr("target","_blank");}else{$(this).parents(".step").find(".reqs-continue").removeAttr("href");$(this).parents(".step").find(".reqs-continue").text("Continue");$(this).parents(".step").find(".reqs-continue").removeAttr("target");}});}else if(global_params[modal_id]['sub_section']=='vehicles'){self.load_buy_vehicles_js(modal_id);}};this.load_buy_vehicles_js=function(modal_id){$('#'+modal_id).find(".home-req-category").on("change",function(){var sub_params=['make','model','fuel_type','body_type','transmission_type','year','trim'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("category",modal_id);}
$('#'+modal_id).find("#product_title").val('');$('#'+modal_id).find(".product_search_results").html('');});$('#'+modal_id).find(".home-req-make").on("change",function(){var sub_params=['model','trim','year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_params("make",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-model").on("change",function(){var sub_params=['trim','year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_trim("model",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-trim").on("change",function(){var sub_params=['year'];self.reset_mmyt(sub_params,modal_id);if($(this).val()!=""&&$(this).val()!=undefined){self.get_year("",modal_id);}
$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find(".home-req-year").on("change",function(){$('#'+modal_id).find("#product_title").val('');});$('#'+modal_id).find("input[name=color_pref]").on("click",function(){$('#'+modal_id).find("input[name=color_pref]").prop("checked",false);$(this).prop("checked",true);});};this.load_sell_js=function(modal_id){$('#'+modal_id).find(".sell-home-req-section").on("click",function(){if(global_params[modal_id]['section']=='Sell'){$(this).parents("li").siblings('li').find('a').removeClass('active');$(this).addClass("active");var href=$(this).attr("data-href");$('#'+modal_id).find(".reqs-continue").attr("href",href);}});self.load_sell_vehicles_js(modal_id);};this.sendLeadsOtp=function(phone_no,name,modal_id){var send_otp=0;if(phone_no.length===10){$.ajax({url:'/discovery/leads/leadsOtp',type:'POST',async:false,data:{phone_number:phone_no,action:'send_otp',full_name:name},success:function(res){if(res.code=='success'&&res.otp_verified===0){send_otp=1;}else{send_otp=0;}}});}
if(send_otp===1){return true;}
return false;};this.verifyLeadsOtp=function(val,phone,name,modal_id,lead_id='',source=''){var verify_otp=0;if(val.length===4){var data={};data['entered_otp_code']=val;data['phone']=phone;data['first_name']=name;data['leid_id']=lead_id;data['source']=source;data['action']='verify_otp';data['modal_id']=modal_id;$.ajax({async:false,type:"POST",data:data,dataType:"json",url:"/home-req-lead",success:function(res){if(res.code==='success'){verify_otp=1;global_params[modal_id]['otp_verified']=1;}else{verify_otp=0;}}});}else{verify_otp=0;}
if(verify_otp===1){return true;}
return false;};this.modifyHeadings=function(){var context=window.location.pathname;switch(context){case("/germ-shield"):case("/germshield"):case("/germshield/facility"):case("/germshield/automobile"):case("/germshield/elevator"):case("/germshield/retail-lead"):var modalid="myRequirementGermShieldModal";$("#"+modalid).find(".title-block:not(:last)").find("h2").html("Submit Your Requirement For Germ Shield<span>An Expert From Droom Will Contact You Shortly</span>");modalid="myRequirementGermShieldModalForm";$("#"+modalid).find(".title-block:not(:last)").find("h2").html("Submit Your Requirement For Germ Shield<span>An Expert From Droom Will Contact You Shortly</span>");break;case("/jumpstart"):var modalid="myRequirementJumpstartModal";$("#"+modalid).find(".req_main_section").find("div").first().addClass("hidden");$("#"+modalid).find(".req_main_automobile_services").find("div").first().addClass("hidden");$("#"+modalid).find(".home-req-cat-jumpstart").siblings("label").addClass("hidden");$("#"+modalid).find(".req_main_automobile_services").prepend("<div class='sub-heading'>Please select a Service</div>");$("#"+modalid).find(".title-block:not(:last)").find("h2").html("Sumbit Your Requirement For Jumpstart<span>An Expert From Droom Will Contact You Shortly</span>");break;}};this.init_locations=function(modal_id){if(typeof google=='undefined'){return false;}
var options={types:['geocode'],componentRestrictions:{country:'in'}};var input=$("#"+modal_id).find(".req_location")[0];var autocomplete=new google.maps.places.Autocomplete(input,options);autocomplete.addListener('place_changed',function(){var place=autocomplete.getPlace();self.getCity(latlng=new google.maps.LatLng(place.geometry.location.lat(),place.geometry.location.lng()),function(city,pincode=''){global_params[modal_id]['zip']=pincode;global_params[modal_id]['location']=city;});});};this.getCity=function(latlng,cb){new google.maps.Geocoder().geocode({'latLng':latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){if(results[1]){var country=null,countryCode=null,city=null,cityAlt=null;var postal_code=null;var c,lc,component;for(var r=0,rl=results.length;r<rl;r+=1){var result=results[r];if(!city&&result.types[0]==='locality'){for(c=0,lc=result.address_components.length;c<lc;c+=1){component=result.address_components[c];if(component.types[0]==='locality'){city=component.long_name;break;}}}else if(!city&&!cityAlt&&result.types[0]==='administrative_area_level_1'){for(c=0,lc=result.address_components.length;c<lc;c+=1){component=result.address_components[c];if(component.types[0]==='administrative_area_level_1'){cityAlt=component.long_name;}}}else if(!country&&result.types[0]==='country'){country=result.address_components[0].long_name;countryCode=result.address_components[0].short_name;}
if(!postal_code&&result.types[0]==='postal_code'){for(c=0,lc=result.address_components.length;c<lc;c+=1){component=result.address_components[c];if(component.types[0]==='postal_code'){postal_code=component.long_name;break;}}}
if(city&&country&&postal_code){break;}}
var final=city||cityAlt;final=final.replace("New Delhi","Delhi");final=final.replace("Gurugram","Gurgaon");return typeof cb==='function'?cb(final,postal_code):cb(null);}}});};var prev_product_search_ajax=null;window.CMFPObj={};CMFPObj.searching_product=false;this.findProduct=function($obj,category_id,$placeholder,min_char,$button_placeholder,condition,modal_id){min_char=parseInt(min_char);if(typeof condition=='undefined'||condition==''){if('myRequirementModal'===modal_id){condition='';}else{condition='new';}}
if(typeof $obj!='undefined'&&typeof $placeholder!='undefined'&&$obj.val()!=''&&$obj.val().length>=min_char&&category_id!=''){if(false===CMFPObj.searching_product){CMFPObj.searching_product=false;if(multi_mm_sell==0){$obj.parents().eq(1).find("#product_id").remove();}else{$obj.parents().eq(1).find("#product_id_sell").remove();}
if(typeof $button_placeholder!='undefined'&&$button_placeholder!=''){}
$placeholder.html("<div class='loader'><i class='fa fa-cog fa-spin'></i></div>").removeClass('hide');if(prev_product_search_ajax!=null){prev_product_search_ajax.abort();}
if('myRequirementModal'===modal_id&&'both'===condition){condition='';}
prev_product_search_ajax=$.ajax({url:"/product/product-by-title-and-category",type:'GET',dataType:'json',async:true,cache:false,data:{product_title:$obj.val(),category_id:category_id,condition:condition},success:function(ret){CMFPObj.searching_product=false;$placeholder.html('');if(ret.code=='success'){if(ret.data.length>0){var lmth='<ul>';CMFPObj.obj=$obj;CMFPObj.button_placeholder=$button_placeholder;$.each(ret.data,function(ind,ele){CMFPObj.category={};CMFPObj.category=ele.category;lmth+="<li onclick=\"CMFPObj.selectFProduct($(this),'"+modal_id+"', CMFPObj.obj, CMFPObj.category, CMFPObj.button_placeholder)\" data-id='"+ele.id+"'>";lmth+=ele.product_title;lmth+="</li>";});lmth+='</ul>';$placeholder.html(lmth).removeClass('hide');}else{$placeholder.html('<ul><li>No result found</li></ul>').removeClass('hide');}}else if(ret.code=='failed'){$placeholder.html('<ul><li>No result found</li></ul>').removeClass('hide');}}});}else{console.log("Ongoing request");}}else{if(multi_mm_sell==0){$obj.parents().eq(1).find("#product_id").remove();}else{$obj.parents().eq(1).find("#product_id_sell").remove();}
$placeholder.html('').addClass('hide');}
return false;};CMFPObj.selectFProduct=function($obj,modal_id,$placeholder,$category,$button_placeholder){if(typeof $obj!=='undefined'&&typeof $placeholder!=='undefined'){count++;var id=$obj.data('id');var text=$obj.text();var lim1=$('#myRequirementLuxuryModal #my-req-auto-search div').length;var lim2=$('#myRequirementLuxuryModal #my-req-auto-search-sell div').length;if(typeof id!=='undefined'&&id!=''){$("#validMsg, #validCatMsg").html('');if(multi_mm==1&&multi_mm_sell==0){$placeholder.val("");if(lim1<8){var html='';html+='<div class="choice choice'+count+'" value='+id+'><span id='+count+'>'+text+'</span><button type="button" class="choice-close"><a>×</a></button></div>';$('#myRequirementLuxuryModal #my-req-auto-search .all-choices').append(html);}}else if(multi_mm==1&&multi_mm_sell==1){$placeholder.val("");if(lim2<8){var html='';html+='<div class="choice choice'+count+'" value='+id+'><span id='+count+'>'+text+'</span><button type="button" class="choice-close"><a>×</a></button></div>';$('#myRequirementLuxuryModal #my-req-auto-search-sell .all-choices').append(html);}}else if(multi_mm_sell==1){$('#'+modal_id).find(".home-req-make").val("");$('#'+modal_id).find(".home-req-make").parent(".form-group").removeClass("active");var sub_params=['model','year','trim'];self.reset_mmyt(sub_params,modal_id);$placeholder.val(text);$placeholder.parent().find("#product_id_sell").remove();$placeholder.parent().append("<input type='hidden' name='product_id' id='product_id_sell' value='"+id+"' />");}else{$('#'+modal_id).find(".home-req-make").val("");$('#'+modal_id).find(".home-req-make").parent(".form-group").removeClass("active");var sub_params=['model','year','trim'];self.reset_mmyt(sub_params,modal_id);$placeholder.val(text);$placeholder.parent().find("#product_id").remove();$placeholder.parent().append("<input type='hidden' name='product_id' id='product_id' value='"+id+"' />");}
$obj.parents().eq(1).html('').addClass('hide');}else{console.log("Select product data not valid");}}else{console.log("Invalid select product");}};};function rangeSlider(modal_id='myRequirementModal'){$('#'+modal_id).find('#price_range-slider').attr('id',modal_id+'price_range-slider');var stepSlider=document.getElementById(modal_id+'price_range-slider');var min_price=$('#'+modal_id).find('.price-selection').data('min');var max_price=$('#'+modal_id).find('.price-selection').data('max');setPriceRangeText(stepSlider,modal_id);if(stepSlider!=undefined){noUiSlider.create(stepSlider,{start:[Math.round(min_price),Math.round(max_price)],behaviour:'snap',step:1000,connect:true,range:{'min':Math.round(min_price),'max':Math.round(max_price)}});stepSlider.noUiSlider.on("slide",function(){self.setPriceRangeText(stepSlider,modal_id);});stepSlider.noUiSlider.on("change",function(values,handle,unencoded,isTap,positions){$('#'+modal_id).find('#from_price_range').val(values[0]?Math.round(values[0]):bdgt.noUiSlider.get()[0]);$('#'+modal_id).find('#to_price_range').val(values[1]?Math.round(values[1]):bdgt.noUiSlider.get()[1]);});}}
function setPriceRangeText(bdgt,modal_id=''){var b='',a='';if(bdgt!=undefined){if(bdgt.noUiSlider==undefined){b=numDifferentiation(Math.round($('#'+modal_id).find('.price-selection').data('min')),true);a=numDifferentiation(Math.round($('#'+modal_id).find('.price-selection').data('max')),true);}else{b=numDifferentiation(Math.round(bdgt.noUiSlider.get()[0]),true);a=numDifferentiation(Math.round(bdgt.noUiSlider.get()[1]),true);}}
$('#'+modal_id).find("#range-value").html("&#8377;"+b+" - &#8377;"+a);}
function numDifferentiation(x,currency){if(currency==true){if(x>=10000000)
x=Math.round(x/10000000)+' Cr';else if(x>=100000)
x=Math.round(x/100000)+' Lakh';else if(x>=1000)
x=Math.round(x/1000)+' K';return x;}
x=x.toString();var afterPoint='';if(x.indexOf('.')>0)
afterPoint=x.substring(x.indexOf('.'),x.length);x=Math.floor(x);x=x.toString();var lastThree=x.substring(x.length-3);var otherNumbers=x.substring(0,x.length-3);if(otherNumbers!='')
lastThree=','+lastThree;var res=otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g,",")+lastThree+afterPoint;return res;}
$(document).ready(function(){$('body').on('click',".my-requirement-container ul.sell-tab-block li a",function(){$(this).addClass('active').closest('li').siblings('li').find('a').removeClass('active');});$('body').on('click',".my-requirement-container .color-selection .view-more",function(){$(this).closest('div').siblings('.checkbox-inline').removeClass('hidden');$(this).closest('div').hide();});$('body').on('click',".my-requirement-container .auto-search .choice-close",function(){$(this).closest('div').remove();});});;var DiffModalMyReq=DiffModalMyReq||new function(){$(document).ready(function(){$("header.header .dropdown.assist").on("click",function(){if(typeof DroomApp!=='undefined'){DroomApp.load_js('/themes/beta/js/white-glove/script.js',function(){WhiteGloves.bind(1);},{},true);}else if(typeof WhiteGloves!=='undefined'){WhiteGloves.bind(1);}});$(".myreq_lead_germ_shield").on("click",function(){if(typeof DroomApp!=='undefined'){DroomApp.load_js('/themes/beta/js/LocalStorage.js');DroomApp.load_js('/themes/beta/js/my-requirement/script.js',function(){MyReqHome.bind('myRequirementGermShieldModal');$("#myRequirementGermShieldModal").modal('show');},{},true);}else if(typeof MyReqHome!=='undefined'){MyReqHome.bind('myRequirementGermShieldModal');$("#myRequirementGermShieldModal").modal('show');}});$(".jumpStartButton").on("click",function(){if(typeof DroomApp!=='undefined'){DroomApp.load_js('/themes/beta/js/LocalStorage.js');DroomApp.load_js('/themes/beta/js/my-requirement/script.js',function(){MyReqHome.bind('myRequirementJumpstartModal');$("#myRequirementJumpstartModal").modal('show');},{},true);}else if(typeof MyReqHome!=='undefined'){MyReqHome.bind('myRequirementJumpstartModal');$("#myRequirementJumpstartModal").modal('show');}});$(".servicesButton").on("click",function(){MyReqHome.bind('myRequirementModal');MyReqHome.load_section({section:"Buy",tab:"automobile_services",change:1},'myRequirementModal');$("#myRequirementModal").modal('show');});$(".myreq_lockdown").on("click",function(){DroomApp.load_css("/themes/beta/css/pages/staticPages/covid-meter.css");DroomApp.load_css("/themes/beta/libs/lockdownPopup-Icon/style.css");MyReqHome.bind('myreqlockdownModal');$("#myreqlockdownModal").modal('show');});$("#myreqlockdownModal").on("shown.bs.modal",function(){$("#myreqlockdownModal").find("#lockdown-heading").removeClass("hidden");});});};;function isDTSentForToday(){var d=new Date();d=d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate();var storedDate=localStorage.getItem('pnsdt');if(storedDate==null){return false;}else{if(d==storedDate){return true;}}
return false;}
function isSessionChanged(){var c=localStorage.getItem('pnuserlgn');var p=localStorage.getItem('pnuserlgnp')
if(c!=null&&p!=null&&p!=c){return true;}else{return false;}}
if('serviceWorker'in navigator){navigator.serviceWorker.getRegistrations().then(function(registrations){for(let registration of registrations){if(registration.scope!=base_url+'/themes/beta/js/firebase-cloud-messaging-push-scope'){registration.unregister();}}},function(err){});}
function updateSWForTodayIfNotUpdated(){var d=new Date();d=d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate();var storedDate=localStorage.getItem('pn_swudt');if(storedDate!=null&&storedDate==d){return;}
navigator.serviceWorker.getRegistration(base_url+'/themes/beta/js/firebase-cloud-messaging-push-scope').then(function(registration){if(registration!==undefined){registration.update();localStorage.setItem('pn_swudt',d);}});return;}
if(window.location.host.includes("secure.droom.in")){}else{if(navigator.userAgent.toLowerCase().indexOf('iphone')>-1||navigator.userAgent.toLowerCase().indexOf('ipad')>-1){}else if(navigator.userAgent.toLowerCase().indexOf('safari')>-1&&navigator.userAgent.toLowerCase().indexOf('chrome')==-1&&navigator.userAgent.toLowerCase().indexOf('silk')==-1){function sdpnCall(token){if(!isDTSentForToday()||isSessionChanged()){localStorage.setItem("pn_drm",token);$.ajax({url:base_url+'/sdpn',type:'post',dataType:'JSON',data:{device_id:token,platform:"web_safari"},success:function(data){if(data.code=='success'){var d=new Date();localStorage.setItem("pnsdt",d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate());}}});}}
function safariPushWorker(){if('safari'in window&&'pushNotification'in window.safari){var permissionData=window.safari.pushNotification.permission('web.in.droom');checkRemotePermission(permissionData);}else{}};var checkRemotePermission=function(permissionData){if(permissionData.permission==='default'){var url=window.location.href;var arr=url.split("/");var web_service_url=arr[0]+"//"+arr[2];window.safari.pushNotification.requestPermission(web_service_url,'web.in.droom',{},checkRemotePermission);}else if(permissionData.permission==='denied'){}else if(permissionData.permission==='granted'){localStorage.setItem("pn_drm",permissionData.deviceToken);sdpnCall(permissionData.deviceToken);}};$(document).ready(function(){if('safari'in window&&'pushNotification'in window.safari){var permissionData=window.safari.pushNotification.permission('web.in.droom');if(permissionData.permission==='granted'){localStorage.setItem("pn_drm",permissionData.deviceToken);sdpnCall(permissionData.deviceToken);}}});$(document).click(function(){if('safari'in window&&'pushNotification'in window.safari){var permissionData=window.safari.pushNotification.permission('web.in.droom');if(permissionData.permission==='default'){var url=window.location.href;var arr=url.split("/");var web_service_url=arr[0]+"//"+arr[2];window.safari.pushNotification.requestPermission(web_service_url,'web.in.droom',{},checkRemotePermission);}else if(permissionData.permission==='denied'){}}});}else{!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.firebase=e()}(this,function(){"use strict";!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};f.prototype.append=function(t,e){t=a(t),e=u(e);var r=this.map[t];this.map[t]=r?r+","+e:e},f.prototype.delete=function(t){delete this.map[a(t)]},f.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},f.prototype.set=function(t,e){this.map[a(t)]=u(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),c(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),c(t)},e.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];m.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=f,t.Request=v,t.Response=m,t.fetch=function(t,r){return new Promise(function(n,o){var i=new v(t,r),s=new XMLHttpRequest;s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;n(new m(o,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&e.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function p(t){var e=new FileReader,r=l(e);return e.readAsArrayBuffer(t),r}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,r,n=h(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=l(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var r,n,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),i.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0);var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=setTimeout;function n(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function i(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void a(e.promise,t)}s(e.promise,n)}else(1===t._state?s:a)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof r)return void c((n=r,i=e,function(){n.apply(i,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){a(t,e)}var n,i}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var r=!1;try{t(function(t){r||(r=!0,s(e,t))},function(t){r||(r=!0,a(e,t))})}catch(t){if(r)return;r=!0,a(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new function(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}(t,e,r)),r},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},o.all=function(t){return new o(function(e,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function i(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){i(t,e)},r)}n[t]=s,0==--o&&e(n)}catch(t){r(t)}}for(var s=0;s<n.length;s++)i(s,n[s])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,r){r(t)})},o.race=function(t){return new o(function(e,r){for(var n=0,o=t.length;n<o;n++)t[n].then(e,r)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=o);var h=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),l=e(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),p=(l.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),d=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},y=function(t){try{return!!t()}catch(t){return!0}},v=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=h.document,m=p(b)&&p(b.createElement),_=function(t){return m?b.createElement(t):{}},g=!v&&!y(function(){return 7!=Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!p(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!p(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!p(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!p(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,S={f:v?Object.defineProperty:function(t,e,r){if(d(t),e=w(e,!0),d(r),g)try{return O(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=v?function(t,e,r){return S.f(t,e,E(1,r))}:function(t,e,r){return t[e]=r,t},j={}.hasOwnProperty,P=function(t,e){return j.call(t,e)},T=0,k=Math.random(),x=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++T+k).toString(36))},F=e(function(t){var e=x("src"),r=Function.toString,n=(""+r).split("toString");l.inspectSource=function(t){return r.call(t)},(t.exports=function(t,r,o,i){var s="function"==typeof o;s&&(P(o,"name")||A(o,"name",r)),t[r]!==o&&(s&&(P(o,e)||A(o,e,t[r]?""+t[r]:n.join(String(r)))),t===h?t[r]=o:i?t[r]?t[r]=o:A(t,r,o):(delete t[r],A(t,r,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||r.call(this)})}),L=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},N=function(t,e,r){var n,o,i,s,a=t&N.F,u=t&N.G,c=t&N.S,f=t&N.P,p=t&N.B,d=u?h:c?h[e]||(h[e]={}):(h[e]||{}).prototype,y=u?l:l[e]||(l[e]={}),v=y.prototype||(y.prototype={});for(n in u&&(r=e),r)i=((o=!a&&d&&void 0!==d[n])?d:r)[n],s=p&&o?L(i,h):f&&"function"==typeof i?L(Function.call,i):i,d&&F(d,n,i,t&N.U),y[n]!=i&&A(y,n,s),f&&v[n]!=i&&(v[n]=i)};h.core=l,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128;var D=N,I={}.toString,R=function(t){return I.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==R(t)?t.split(""):Object(t)},C=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object(C(t))},M=Math.ceil,z=Math.floor,G=function(t){return isNaN(t=+t)?0:(t>0?z:M)(t)},W=Math.min,H=function(t){return t>0?W(G(t),9007199254740991):0},V=Array.isArray||function(t){return"Array"==R(t)},q=h["__core-js_shared__"]||(h["__core-js_shared__"]={}),K=function(t){return q[t]||(q[t]={})},$=e(function(t){var e=K("wks"),r=h.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:x)("Symbol."+t))}).store=e}),J=$("species"),Y=function(t,e){return new(function(t){var e;return V(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!V(e.prototype)||(e=void 0),p(e)&&null===(e=e[J])&&(e=void 0)),void 0===e?Array:e}(t))(e)},X=function(t,e){var r=1==t,n=2==t,o=3==t,i=4==t,s=6==t,a=5==t||s,u=e||Y;return function(e,c,f){for(var h,l,p=U(e),d=B(p),y=L(c,f,3),v=H(d.length),b=0,m=r?u(e,v):n?u(e,0):void 0;v>b;b++)if((a||b in d)&&(l=y(h=d[b],b,p),t))if(r)m[b]=l;else if(l)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:m.push(h)}else if(i)return!1;return s?-1:o||i?i:m}},Q=$("unscopables"),Z=Array.prototype;void 0==Z[Q]&&A(Z,Q,{});var tt=function(t){Z[Q][t]=!0},et=X(5),rt=!0;"find"in[]&&Array(1).find(function(){rt=!1}),D(D.P+D.F*rt,"Array",{find:function(t){return et(this,t,arguments.length>1?arguments[1]:void 0)}}),tt("find");l.Array.find;var nt=X(6),ot=!0;"findIndex"in[]&&Array(1).findIndex(function(){ot=!1}),D(D.P+D.F*ot,"Array",{findIndex:function(t){return nt(this,t,arguments.length>1?arguments[1]:void 0)}}),tt("findIndex");l.Array.findIndex;var it,st=function(t){return B(C(t))},at=Math.max,ut=Math.min,ct=K("keys"),ft=function(t){return ct[t]||(ct[t]=x(t))},ht=(it=!1,function(t,e,r){var n,o=st(t),i=H(o.length),s=function(t,e){return(t=G(t))<0?at(t+e,0):ut(t,e)}(r,i);if(it&&e!=e){for(;i>s;)if((n=o[s++])!=n)return!0}else for(;i>s;s++)if((it||s in o)&&o[s]===e)return it||s||0;return!it&&-1}),lt=ft("IE_PROTO"),pt=function(t,e){var r,n=st(t),o=0,i=[];for(r in n)r!=lt&&P(n,r)&&i.push(r);for(;e.length>o;)P(n,r=e[o++])&&(~ht(i,r)||i.push(r));return i},dt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return pt(t,dt)},vt={f:Object.getOwnPropertySymbols},bt={f:{}.propertyIsEnumerable},mt=Object.assign,_t=!mt||y(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=mt({},t)[r]||Object.keys(mt({},e)).join("")!=n})?function(t,e){for(var r=U(t),n=arguments.length,o=1,i=vt.f,s=bt.f;n>o;)for(var a,u=B(arguments[o++]),c=i?yt(u).concat(i(u)):yt(u),f=c.length,h=0;f>h;)s.call(u,a=c[h++])&&(r[a]=u[a]);return r}:mt;D(D.S+D.F,"Object",{assign:_t});l.Object.assign;var gt=$("match"),wt=function(t,e,r){if(p(n=e)&&(void 0!==(o=n[gt])?o:"RegExp"==R(n)))throw TypeError("String#"+r+" doesn't accept regex!");var n,o;return String(C(t))},Ot=$("match"),St="".startsWith;D(D.P+D.F*function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Ot]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=wt(this,t,"startsWith"),r=H(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return St?St.call(e,n,r):e.slice(r,r+n.length)===n}});l.String.startsWith;D(D.P,"String",{repeat:function(t){var e=String(C(this)),r="",n=G(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}});l.String.repeat;var Et=e(function(t){var e=x("meta"),r=S.f,n=0,o=Object.isExtensible||function(){return!0},i=!y(function(){return o(Object.preventExtensions({}))}),s=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!p(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!P(t,e)){if(!o(t))return"F";if(!r)return"E";s(t)}return t[e].i},getWeak:function(t,r){if(!P(t,e)){if(!o(t))return!0;if(!r)return!1;s(t)}return t[e].w},onFreeze:function(t){return i&&a.NEED&&o(t)&&!P(t,e)&&s(t),t}}}),At=(Et.KEY,Et.NEED,Et.fastKey,Et.getWeak,Et.onFreeze,S.f),jt=$("toStringTag"),Pt=function(t,e,r){t&&!P(t=r?t:t.prototype,jt)&&At(t,jt,{configurable:!0,value:e})},Tt={f:$},kt=S.f,xt=function(t){var e=l.Symbol||(l.Symbol=h.Symbol||{});"_"==t.charAt(0)||t in e||kt(e,t,{value:Tt.f(t)})},Ft=v?Object.defineProperties:function(t,e){d(t);for(var r,n=yt(e),o=n.length,i=0;o>i;)S.f(t,r=n[i++],e[r]);return t},Lt=h.document,Nt=Lt&&Lt.documentElement,Dt=ft("IE_PROTO"),It=function(){},Rt=function(){var t,e=_("iframe"),r=dt.length;for(e.style.display="none",Nt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Rt=t.F;r--;)delete Rt.prototype[dt[r]];return Rt()},Bt=Object.create||function(t,e){var r;return null!==t?(It.prototype=d(t),r=new It,It.prototype=null,r[Dt]=t):r=Rt(),void 0===e?r:Ft(r,e)},Ct=dt.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return pt(t,Ct)}},Mt=Ut.f,zt={}.toString,Gt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Wt={f:function(t){return Gt&&"[object Window]"==zt.call(t)?function(t){try{return Mt(t)}catch(t){return Gt.slice()}}(t):Mt(st(t))}},Ht=Object.getOwnPropertyDescriptor,Vt={f:v?Ht:function(t,e){if(t=st(t),e=w(e,!0),g)try{return Ht(t,e)}catch(t){}if(P(t,e))return E(!bt.f.call(t,e),t[e])}},qt=Et.KEY,Kt=Vt.f,$t=S.f,Jt=Wt.f,Yt=h.Symbol,Xt=h.JSON,Qt=Xt&&Xt.stringify,Zt=$("_hidden"),te=$("toPrimitive"),ee={}.propertyIsEnumerable,re=K("symbol-registry"),ne=K("symbols"),oe=K("op-symbols"),ie=Object.prototype,se="function"==typeof Yt,ae=h.QObject,ue=!ae||!ae.prototype||!ae.prototype.findChild,ce=v&&y(function(){return 7!=Bt($t({},"a",{get:function(){return $t(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=Kt(ie,e);n&&delete ie[e],$t(t,e,r),n&&t!==ie&&$t(ie,e,n)}:$t,fe=function(t){var e=ne[t]=Bt(Yt.prototype);return e._k=t,e},he=se&&"symbol"==typeof Yt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Yt},le=function(t,e,r){return t===ie&&le(oe,e,r),d(t),e=w(e,!0),d(r),P(ne,e)?(r.enumerable?(P(t,Zt)&&t[Zt][e]&&(t[Zt][e]=!1),r=Bt(r,{enumerable:E(0,!1)})):(P(t,Zt)||$t(t,Zt,E(1,{})),t[Zt][e]=!0),ce(t,e,r)):$t(t,e,r)},pe=function(t,e){d(t);for(var r,n=function(t){var e=yt(t),r=vt.f;if(r)for(var n,o=r(t),i=bt.f,s=0;o.length>s;)i.call(t,n=o[s++])&&e.push(n);return e}(e=st(e)),o=0,i=n.length;i>o;)le(t,r=n[o++],e[r]);return t},de=function(t){var e=ee.call(this,t=w(t,!0));return!(this===ie&&P(ne,t)&&!P(oe,t))&&(!(e||!P(this,t)||!P(ne,t)||P(this,Zt)&&this[Zt][t])||e)},ye=function(t,e){if(t=st(t),e=w(e,!0),t!==ie||!P(ne,e)||P(oe,e)){var r=Kt(t,e);return!r||!P(ne,e)||P(t,Zt)&&t[Zt][e]||(r.enumerable=!0),r}},ve=function(t){for(var e,r=Jt(st(t)),n=[],o=0;r.length>o;)P(ne,e=r[o++])||e==Zt||e==qt||n.push(e);return n},be=function(t){for(var e,r=t===ie,n=Jt(r?oe:st(t)),o=[],i=0;n.length>i;)!P(ne,e=n[i++])||r&&!P(ie,e)||o.push(ne[e]);return o};se||(F((Yt=function(){if(this instanceof Yt)throw TypeError("Symbol is not a constructor!");var t=x(arguments.length>0?arguments[0]:void 0),e=function(r){this===ie&&e.call(oe,r),P(this,Zt)&&P(this[Zt],t)&&(this[Zt][t]=!1),ce(this,t,E(1,r))};return v&&ue&&ce(ie,t,{configurable:!0,set:e}),fe(t)}).prototype,"toString",function(){return this._k}),Vt.f=ye,S.f=le,Ut.f=Wt.f=ve,bt.f=de,vt.f=be,v&&F(ie,"propertyIsEnumerable",de,!0),Tt.f=function(t){return fe($(t))}),D(D.G+D.W+D.F*!se,{Symbol:Yt});for(var me="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_e=0;me.length>_e;)$(me[_e++]);for(var ge=yt($.store),we=0;ge.length>we;)xt(ge[we++]);D(D.S+D.F*!se,"Symbol",{for:function(t){return P(re,t+="")?re[t]:re[t]=Yt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+" is not a symbol!");for(var e in re)if(re[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),D(D.S+D.F*!se,"Object",{create:function(t,e){return void 0===e?Bt(t):pe(Bt(t),e)},defineProperty:le,defineProperties:pe,getOwnPropertyDescriptor:ye,getOwnPropertyNames:ve,getOwnPropertySymbols:be}),Xt&&D(D.S+D.F*(!se||y(function(){var t=Yt();return"[null]"!=Qt([t])||"{}"!=Qt({a:t})||"{}"!=Qt(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(p(e)||void 0!==t)&&!he(t))return V(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!he(e))return e}),n[1]=e,Qt.apply(Xt,n)}}),Yt.prototype[te]||A(Yt.prototype,te,Yt.prototype.valueOf),Pt(Yt,"Symbol"),Pt(Math,"Math",!0),Pt(h.JSON,"JSON",!0);var Oe=$("toStringTag"),Se="Arguments"==R(function(){return arguments}()),Ee={};Ee[$("toStringTag")]="z",Ee+""!="[object z]"&&F(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Oe))?r:Se?R(e):"Object"==(n=R(e))&&"function"==typeof e.callee?"Arguments":n)+"]";var t,e,r,n},!0),xt("asyncIterator"),xt("observable");l.Symbol;var Ae={},je={};A(je,$("iterator"),function(){return this});var Pe,Te=function(t,e,r){t.prototype=Bt(je,{next:E(1,r)}),Pt(t,e+" Iterator")},ke=ft("IE_PROTO"),xe=Object.prototype,Fe=Object.getPrototypeOf||function(t){return t=U(t),P(t,ke)?t[ke]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xe:null},Le=$("iterator"),Ne=!([].keys&&"next"in[].keys()),De=function(){return this},Ie=function(t,e,r,n,o,i,s){Te(r,e,n);var a,u,c,f=function(t){if(!Ne&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},h=e+" Iterator",l="values"==o,p=!1,d=t.prototype,y=d[Le]||d["@@iterator"]||o&&d[o],v=y||f(o),b=o?l?f("entries"):v:void 0,m="Array"==e&&d.entries||y;if(m&&(c=Fe(m.call(new t)))!==Object.prototype&&c.next&&(Pt(c,h,!0),"function"!=typeof c[Le]&&A(c,Le,De)),l&&y&&"values"!==y.name&&(p=!0,v=function(){return y.call(this)}),(Ne||p||!d[Le])&&A(d,Le,v),Ae[e]=v,Ae[h]=De,o)if(a={values:l?v:f("values"),keys:i?v:f("keys"),entries:b},s)for(u in a)u in d||F(d,u,a[u]);else D(D.P+D.F*(Ne||p),e,a);return a},Re=(Pe=!0,function(t,e){var r,n,o=String(C(t)),i=G(e),s=o.length;return i<0||i>=s?Pe?"":void 0:(r=o.charCodeAt(i))<55296||r>56319||i+1===s||(n=o.charCodeAt(i+1))<56320||n>57343?Pe?o.charAt(i):r:Pe?o.slice(i,i+2):n-56320+(r-55296<<10)+65536});Ie(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Re(e,r),this._i+=t.length,{value:t,done:!1})});var Be=function(t,e){return{value:e,done:!!t}},Ce=Ie(Array,"Array",function(t,e){this._t=st(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Be(1)):Be(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");Ae.Arguments=Ae.Array,tt("keys"),tt("values"),tt("entries");for(var Ue=$("iterator"),Me=$("toStringTag"),ze=Ae.Array,Ge={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},We=yt(Ge),He=0;He<We.length;He++){var Ve,qe=We[He],Ke=Ge[qe],$e=h[qe],Je=$e&&$e.prototype;if(Je&&(Je[Ue]||A(Je,Ue,ze),Je[Me]||A(Je,Me,qe),Ae[qe]=ze,Ke))for(Ve in Ce)Je[Ve]||F(Je,Ve,Ce[Ve],!0)}Tt.f("iterator");var Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function Xe(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=Xe(t[r],e[r]));return t}function Qe(t,e,r){t[e]=r}var Ze="FirebaseError",tr=Error.captureStackTrace,er=function(){return function(t,e){if(this.code=t,this.message=e,tr)tr(this,rr.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=Ze,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();er.prototype=Object.create(Error.prototype),er.prototype.constructor=er,er.prototype.name=Ze;var rr=function(){function t(t,e,r){this.service=t,this.serviceName=e,this.errors=r,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var r,n=this.errors[t],o=this.service+"/"+t;r=void 0===n?"Error":n.replace(this.pattern,function(t,r){var n=e[r];return void 0!==n?n.toString():"<"+r+"?>"}),r=this.serviceName+": "+r+" ("+o+").";var i=new er(o,r);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(i[s]=e[s]);return i},t}();!function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var r=1;r<e.blockSize;++r)e.pad_[r]=0;return e.reset(),e}(function(t,e){function r(){this.constructor=t}Ye(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var r=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)r[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)r[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var o=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(o<<1|o>>>31)}var i,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],h=this.chain_[4];for(n=0;n<80;n++){n<40?n<20?(i=f^u&(c^f),s=1518500249):(i=u^c^f,s=1859775393):n<60?(i=u&c|f&(u|c),s=2400959708):(i=u^c^f,s=3395469782);o=(a<<5|a>>>27)+i+h+s+r[n]&4294967295;h=f,f=c,c=4294967295&(u<<30|u>>>2),u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=0,o=this.buf_,i=this.inbuf_;n<e;){if(0==i)for(;n<=r;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(o[i]=t.charCodeAt(n),++n,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;n<e;)if(o[i]=t[n],++n,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var o=24;o>=0;o-=8)t[n]=this.chain_[r]>>o&255,++n;return t}}(function(){return function(){this.blockSize=-1}}());function nr(t,e){var r=new or(t,e);return r.subscribe.bind(r)}var or=function(){function t(t,e){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(r)}).catch(function(t){r.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,r){var n,o=this;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(n.next=ir),void 0===n.error&&(n.error=ir),void 0===n.complete&&(n.complete=ir);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(t){}}),this.observers.push(n),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{e(r.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function ir(){}var sr=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ar="[DEFAULT]",ur=[],cr=function(){function t(t,e,r){this.firebase_=r,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=Xe(void 0,t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){ur.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){ur=ur.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(r){Object.keys(t.services_[r]).forEach(function(n){e.push(t.services_[r][n])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=ar),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var r=e!==ar?e:void 0,n=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),r);this.services_[t][e]=n}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Xe(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(ur.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),ur=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&fr("app-deleted",{name:this.name_})},t}();function fr(t,e){throw hr.create(t,e)}cr.prototype.name&&cr.prototype.options||cr.prototype.delete||console.log("dc");var hr=new rr("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});return function t(){var e={},r={},n={},o={__esModule:!0,initializeApp:function(t,r){if(void 0===r&&(r={}),"object"!=typeof r||null===r){var n=r;r={name:n}}var i=r;void 0===i.name&&(i.name=ar);var s=i.name;"string"==typeof s&&s||fr("bad-app-name",{name:s+""}),sr(e,s)&&fr("duplicate-app",{name:s});var u=new cr(t,i,o);return e[s]=u,a(u,"create"),u},app:i,apps:null,Promise:Promise,SDK_VERSION:"5.8.2",INTERNAL:{registerService:function(t,e,a,u,c){r[t]&&fr("duplicate-service",{name:t}),r[t]=e,u&&(n[t]=u,s().forEach(function(t){u("create",t)}));var f=function(e){return void 0===e&&(e=i()),"function"!=typeof e[t]&&fr("invalid-app-argument",{name:t}),e[t]()};return void 0!==a&&Xe(f,a),o[t]=f,cr.prototype[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._getService.bind(this,t).apply(this,c?e:[])},f},createFirebaseNamespace:t,extendNamespace:function(t){Xe(o,t)},createSubscribe:nr,ErrorFactory:rr,removeApp:function(t){a(e[t],"delete"),delete e[t]},factories:r,useAsService:u,Promise:Promise,deepExtend:Xe}};function i(t){return sr(e,t=t||ar)||fr("no-app",{name:t}),e[t]}function s(){return Object.keys(e).map(function(t){return e[t]})}function a(t,e){Object.keys(r).forEach(function(r){var o=u(t,r);null!==o&&n[o]&&n[o](e,t)})}function u(t,e){if("serverAuth"===e)return null;var r=e;return t.options,r}return Qe(o,"default",o),Object.defineProperty(o,"apps",{get:s}),Qe(i,"App",cr),o}()});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],t):t(e.firebase)}(this,function(e){"use strict";try{(function(){e=e&&e.hasOwnProperty("default")?e.default:e;var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function n(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})}function o(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var s="FirebaseError",a=Error.captureStackTrace,c=function(){return function(e,t){if(this.code=e,this.message=t,a)a(this,u.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=s,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}}();c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name=s;var u=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new c(i,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();!function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}n(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^c&(u^h),s=1518500249):(o=c^u^h,s=1859775393):r<60?(o=c&u|h&(c|u),s=2400959708):(o=c^u^h,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=h,h=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}(function(){return function(){this.blockSize=-1}}());function h(e,t){var n=new f(e,t);return n.subscribe.bind(n)}var f=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=d),void 0===r.error&&(r.error=d),void 0===r.complete&&(r.complete=d);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function d(){}var p,l,_,E={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},b=((p={})[E.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",p[E.AVAILABLE_IN_SW]="This method is available in a service worker context.",p[E.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",p[E.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",p[E.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",p[E.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",p[E.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",p[E.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",p[E.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",p[E.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",p[E.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",p[E.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",p[E.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",p[E.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",p[E.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",p[E.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",p[E.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",p[E.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",p[E.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",p[E.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",p[E.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",p[E.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",p[E.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",p[E.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",p[E.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",p[E.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",p[E.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",p[E.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",p[E.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",p[E.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",p[E.BAD_SCOPE]="The service worker scope must be a string with at least one character.",p[E.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",p[E.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",p[E.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",p[E.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",p[E.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",p[E.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",p[E.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",p),v=new u("messaging","Messaging",b),g=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),T="https://fcm.googleapis.com";function S(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=0;i<e.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function y(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(l||(l={})),function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(_||(_={}));var w=function(){function e(){}return e.prototype.getToken=function(e,t,n){return i(this,void 0,void 0,function(){var r,i,s,a,c,u,h,f;return o(this,function(o){switch(o.label){case 0:r=y(t.getKey("p256dh")),i=y(t.getKey("auth")),s="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+i,S(n.buffer,g.buffer)||(a=y(n),s+="&application_pub_key="+a),(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),u={method:"POST",headers:c,body:s},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/subscribe",u)];case 2:return[4,o.sent().json()];case 3:return h=o.sent(),[3,5];case 4:throw o.sent(),v.create(E.TOKEN_SUBSCRIBE_FAILED);case 5:if(h.error)throw f=h.error.message,v.create(E.TOKEN_SUBSCRIBE_FAILED,{message:f});if(!h.token)throw v.create(E.TOKEN_SUBSCRIBE_NO_TOKEN);if(!h.pushSet)throw v.create(E.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:h.token,pushSet:h.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,r,s){return i(this,void 0,void 0,function(){var i,a,c,u,h,f,d,p;return o(this,function(o){switch(o.label){case 0:i=y(r.getKey("p256dh")),a=y(r.getKey("auth")),c="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+i+"&encryption_auth="+a,S(s.buffer,g.buffer)||(u=y(s),c+="&application_pub_key="+u),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:h,body:c},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/subscribe",f)];case 2:return[4,o.sent().json()];case 3:return d=o.sent(),[3,5];case 4:throw o.sent(),v.create(E.TOKEN_UPDATE_FAILED);case 5:if(d.error)throw p=d.error.message,v.create(E.TOKEN_UPDATE_FAILED,{message:p});if(!d.token)throw v.create(E.TOKEN_UPDATE_NO_TOKEN);return[2,d.token]}})})},e.prototype.deleteToken=function(e,t,n){return i(this,void 0,void 0,function(){var r,i,s,a,c;return o(this,function(o){switch(o.label){case 0:r="authorized_entity="+e+"&token="+t+"&pushSet="+n,(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),s={method:"POST",headers:i,body:r},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(T+"/fcm/connect/unsubscribe",s)];case 2:return[4,o.sent().json()];case 3:if((a=o.sent()).error)throw c=a.error.message,v.create(E.TOKEN_UNSUBSCRIBE_FAILED,{message:c});return[3,5];case 4:throw o.sent(),v.create(E.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},e}();function I(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var D="undefined",N="fcm_token_object_Store";function m(){var e=indexedDB.open(D);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(N)){var t=e.transaction(N).objectStore(N),n=new w,r=t.openCursor();r.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},r.onsuccess=function(){var t=r.result;if(t){var i=t.value;n.deleteToken(i.fcmSenderId,i.fcmToken,i.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(D)}}}(e.result)}}var O=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){return this.createTransaction(function(n){return n.index(e).get(t)})},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),i(this,void 0,void 0,function(){var n,r,i,s;return o(this,function(o){switch(o.label){case 0:return[4,this.getDb()];case 1:return n=o.sent(),r=n.transaction(this.objectStoreName,t),i=r.objectStore(this.objectStoreName),[4,function(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}(e(i))];case 2:return s=o.sent(),[2,new Promise(function(e,t){r.oncomplete=function(){e(s)},r.onerror=function(){t(r.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}})),this.dbPromise},e}();var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return n(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(i=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:m();case 2:var i,o=(i=e.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var e=o.result;if(e){var t=e.value,n=r({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=I(t.vapidKey)),"string"==typeof t.auth&&(n.auth=I(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=I(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){if(!e)throw v.create(E.BAD_TOKEN);return A({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){if(!e)throw v.create(E.BAD_SCOPE);return A({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){if(!e.swScope)throw v.create(E.BAD_SCOPE);if(!e.vapidKey)throw v.create(E.BAD_VAPID_KEY);if(!e.endpoint||!e.auth||!e.p256dh)throw v.create(E.BAD_SUBSCRIPTION);if(!e.fcmSenderId)throw v.create(E.BAD_SENDER_ID);if(!e.fcmToken)throw v.create(E.BAD_TOKEN);if(!e.fcmPushSet)throw v.create(E.BAD_PUSH_SET);return A(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(v.create(E.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw v.create(E.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(O);function A(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw v.create(E.BAD_TOKEN);if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw v.create(E.BAD_SCOPE);if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw v.create(E.BAD_VAPID_KEY);if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw v.create(E.BAD_SUBSCRIPTION);if(e.auth&&!(e.auth instanceof ArrayBuffer))throw v.create(E.BAD_SUBSCRIPTION);if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw v.create(E.BAD_SUBSCRIPTION);if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw v.create(E.BAD_SENDER_ID);if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw v.create(E.BAD_PUSH_SET)}var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return n(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw v.create(E.BAD_SCOPE);return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){if("string"!=typeof e||0===e.length)throw v.create(E.BAD_SCOPE);if(null===t||65!==t.length)throw v.create(E.BAD_VAPID_KEY);return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw v.create(E.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(O),C="messagingSenderId",B=function(){function e(e){var t=this;if(!e.options[C]||"string"!=typeof e.options[C])throw v.create(E.BAD_SENDER_ID);this.messagingSenderId=e.options[C],this.tokenDetailsModel=new k,this.vapidDetailsModel=new P,this.iidModel=new w,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i;return o(this,function(o){switch(o.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw v.create(E.NOTIFICATIONS_BLOCKED);return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return i(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return function(e,t,n){if(!n.vapidKey||!S(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,i=S(e.getKey("auth"),n.auth),o=S(e.getKey("p256dh"),n.p256dh);return r&&i&&o}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,r){return i(this,void 0,void 0,function(){var i,s,a;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,t,n)];case 1:return i=o.sent(),s={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(s)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,i];case 4:return a=o.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw o.sent(),a;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return i(this,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return r=o.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,r.token]}})})},e.prototype.deleteToken=function(e){return i(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw v.create(E.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw v.create(E.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw v.create(E.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw v.create(E.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw v.create(E.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw v.create(E.AVAILABLE_IN_SW)},e.prototype.delete=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIidModel=function(){return this.iidModel},e}();var R=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return n(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,s,a;return o(this,function(o){switch(o.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return o.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=o.sent(),s=n.actions,a=Notification.maxActions,s&&a&&s.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return o.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return i(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=i.sent(),[3,3];case 2:throw t=i.sent(),v.create(E.UNABLE_TO_RESUBSCRIBE,{message:t});case 3:return i.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=o.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete t.notification,delete t.fcmOptions,i=L(_.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=r({},e.notification);return n.data=r({},e.notification.data,((t={}).FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw v.create(E.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,U()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===t){r=n[i];break}return[2,r]}})})},t.prototype.attemptToMessageClient_=function(e,t){return i(this,void 0,void 0,function(){return o(this,function(n){if(!e)throw v.create(E.NO_WINDOW_CLIENT_TO_MSG);return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,U()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return i(this,void 0,void 0,function(){var t,n,r=this;return o(this,function(i){switch(i.label){case 0:return[4,U()];case 1:return t=i.sent(),n=L(_.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return i.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return i(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw v.create(E.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,g]:[2,t]}})})},t}(B);function U(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function L(e,t){return(n={})[l.TYPE_OF_MSG]=e,n[l.DATA]=t,n;var n}var K,M=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=h(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=h(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return n(t,e),t.prototype.getToken=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return i(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:if(!(e=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(e.href)];case 2:return[4,n.sent().json()];case 3:return t=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!t||!t.gcm_sender_id)return[2];if("103953800507"!==t.gcm_sender_id)throw v.create(E.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return t.sent(),[2,e.prototype.getToken.call(this)]}})})},t.prototype.requestPermission=function(){return i(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?v.create(E.PERMISSION_BLOCKED):v.create(E.PERMISSION_DEFAULT)}})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw v.create(E.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw v.create(E.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw v.create(E.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw v.create(E.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=I(e);if(65!==t.length)throw v.create(E.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){var i=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(v.create(E.SW_REG_REDUNDANT))}t.removeEventListener("statechange",i)};t.addEventListener("statechange",i)}else r(v.create(E.SW_REG_REDUNDANT));else n(e);else r(v.create(E.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/themes/beta/js/firebase-messaging-sw.js",{scope:"/themes/beta/js/firebase-cloud-messaging-push-scope"}).catch(function(e){throw v.create(E.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return i(this,void 0,void 0,function(){return o(this,function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,g]})})},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[l.TYPE_OF_MSG]){var n=t.data;switch(n[l.TYPE_OF_MSG]){case _.PUSH_MSG_RECEIVED:case _.NOTIFICATION_CLICKED:var r=n[l.DATA];e.messageObserver&&e.messageObserver.next(r)}}},!1)},t}(B);function F(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}K={isSupported:F},e.INTERNAL.registerService("messaging",function(e){if(!F())throw v.create(E.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new R(e):new M(e)},K)}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-messaging - be sure to load firebase-app.js first.")}});var config={messagingSenderId:'35894794826'};firebase.initializeApp(config);messaging=firebase.messaging();updateSWForTodayIfNotUpdated();if('serviceWorker'in navigator){window.addEventListener('install',function(){navigator.serviceWorker.getRegistrations().then(registrations=>{if(registrations.length===undefined||registrations.length==0){navigator.serviceWorker.register('/themes/beta/js/firebase-messaging-sw.js').then(function(registration){messaging.useServiceWorker(registration);if(updateToken()||localStorage.getItem("pn_drm")===null){messaging.getToken().then(function(refreshedToken){sendTokenToServer(refreshedToken);}).catch(function(err){});}},function(err){});}});});messaging.onTokenRefresh(function(){messaging.getToken().then(function(refreshedToken){sendTokenToServer(refreshedToken);}).catch(function(err){});});}
$(document).ready(function(){if('serviceWorker'in navigator){messaging.requestPermission().then(function(){return messaging.getToken()}).then(function(token){sendTokenToServer(token);}).catch(function(err){});}});$(document).click(function(){if('serviceWorker'in navigator){messaging.requestPermission().then(function(){return messaging.getToken()}).then(function(token){}).catch(function(err){});}else{}});function sendTokenToServer(token){if(typeof token!=='undefined'&&token!==null){if(!isDTSentForToday()||isSessionChanged()){localStorage.setItem("pn_drm",token);var expires=(24*60*60);var now=Date.now();var schedule=now+expires*1000;localStorage.setItem("pn_snc",schedule);$.ajax({url:base_url+'/sdpn',type:'post',dataType:'JSON',data:{device_id:token},success:function(data){if(data.code=='failed'){}else{var d=new Date();localStorage.setItem("pnsdt",d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate());}}});}}}
function updateToken(){var now=Date.now();var expiresIn=localStorage.getItem("pn_snc");if(expiresIn===undefined||expiresIn===null){expiresIn=0;}
if(expiresIn<now){localStorage.removeItem("pn_drm");return 1;}else{return 0;}}
messaging.usePublicVapidKey("BOHihaIS49ZNSqdXQ-szkHlxwFpnsW0mIPWsIEwYpJzirmTVQr1hV-omIowUFESWg4igdJ06oQ1tkkRMJujB2rQ");messaging.onMessage(function(payload){});}};var WhiteGloves=WhiteGloves||new function(){var self=this;this.bind=function(show=0){$("#buyFlowModal").modal('hide');if($('#white-gloves-modal').find("#white-gloves-modal-load").attr("data-value")!="1"){$.ajax({url:"/white-glove-modal",type:"GET",success:function(html){$('#white-gloves-modal').find("#white-gloves-modal-load").html(html);$('#white-gloves-modal').find("#white-gloves-modal-load").attr("data-value","1");if(window.location.pathname=='/'){$("#assistChat").addClass("hidden");}
DroomApp.load_js('/themes/beta/libs/nouislider/nouislider.min.js');var img_arr={"wg-popup-img1":"/photos/images/web/beta/images/whiteglove/da.png","wg-popup-img2":"/photos/images/white-gloves/luxury-car-logo.png","wg-popup-img3":"/photos/images//web/beta/images/whiteglove/wg.png"};self.load_wg_images(img_arr);$("#assistChat").on("click",function(){if(typeof joe_params!=='undefined'){joe_params['click']=1;$("#white-gloves-modal").modal("hide");DroomApp.load_js('/themes/beta/js/joehukumchat.js',function(){$("#mobile-chat-container").trigger("click");},{},true);}});$(".my-requirements-wg").on("click",function(){$("#white-gloves-modal").modal("hide");DroomApp.load_js('/themes/beta/js/LocalStorage.js');DroomApp.load_js('/themes/beta/libs/nouislider/nouislider.min.js');DroomApp.load_js('/themes/beta/js/my-requirement/script.js',function(){MyReqHome.bind('myRequirementModal');$("#myRequirementModal").modal('show');},{},true);});if(show==1){$("#white-gloves-modal").modal("show");}}});}else if(show==1){$("#white-gloves-modal").modal("show");}};this.luxury_bind=function(show=0){self.onShownLuxury();if($('#whiteGlove-luxury-modal').find("#white-glove-luxury-load").attr("data-value")!="1"){$.ajax({url:"/white-glove-luxury-modal",type:"GET",success:function(html){$('#whiteGlove-luxury-modal').find("#white-glove-luxury-load").html(html);$('#whiteGlove-luxury-modal').find("#white-glove-luxury-load").attr("data-value","1");DroomApp.load_js('/themes/beta/libs/nouislider/nouislider.min.js');$('.white-gloves-modal .slidebtn').click(function(){$(this).toggleClass('open');$(this).next('#assistbar').slideToggle();$(this).next('#wgbar').slideToggle();});var img_arr={"wg-popup-img4":"/photos/images/white-gloves/luxury-car-logo-2.png","wg-popup-img5":"/photos/images/white-gloves/white-glove-thanks.png"};self.load_wg_images(img_arr);self.luxury_otp_js();wg_otp_step_input(event,'whiteGlove-luxury-modal');if(show==1){$("#whiteGlove-luxury-modal").modal("show");}}});}else if(show==1){$("#whiteGlove-luxury-modal").modal("show");}};this.onShownLuxury=function(){$("#white-gloves-modal").modal("hide");var wgsapplicable=$('#wgs_applicable').val();if(wgsapplicable==2){$(".wg-paid-heading").removeClass("hidden");$(".wg-free-heading").addClass("hidden");}else{$(".wg-free-heading").removeClass("hidden");$(".wg-paid-heading").addClass("hidden");}
var name=$('#wg-full-name').val();if($.trim(name)==''||$.trim(name)===undefined){$('#wg-full-name').attr('readonly',false);}else{$('#wg-full-name').attr('readonly',true);}
var email=$('#wg-email').val();if($.trim(email)==''||$.trim(email)==undefined){$('#wg-email').prop('readonly',false);}else{$('#wg-email').prop('readonly',true);}
var mobile_phone=$('#wg-phone').val();if($.trim(mobile_phone)==''||$.trim(mobile_phone)==undefined){$('#wg-phone').prop('readonly',false);}else{$('#wg-phone').prop('readonly',true);}};this.load_wg_images=function(img_arr){$.each(img_arr,function(id,path){if($("#"+id).find("img").attr("src")==""||$("#"+id).find("img").attr("src")==undefined){$("#"+id).find("img").attr("src",$("#"+id).attr("data-url")+path);}});};this.luxury_otp_js=function(){$("#otp-send-btn").on("click",function(){send_param={};send_param['name']=$('#wg-full-name').val();send_param['name']=$.trim(send_param['name']);send_param['wgs_applicable']=$('#wgs_applicable').val();if(send_param['name']==''||send_param['name']==undefined){$('#wg-full-name').closest('.form-group').find('small[name=error]').text('Please Enter Your Name');return false;}
send_param['email']=$('#wg-email').val();if(/(.+)@(.+){2,}\.(.+){2,}/.test(send_param['email'])){}else{$('#wg-email').closest('.form-group').find('small[name=error]').text('Please Enter A Valid Email-Id');return false;}
if(send_param['email']==''||send_param['email']==undefined){$('#wg-email').closest('.form-group').find('small[name=error]').text('Please Enter Your Email-Id');return false;}
send_param['mobile_phone']=$('#wg-phone').val();if(send_param['mobile_phone']==''||send_param['mobile_phone']==undefined){$('#wg-phone').closest('.form-group').find('small[name=error]').text('Please Enter Your Phone Number');return false;}
if(send_param['mobile_phone'].length!=10||send_param['mobile_phone']<6000000000||($.isNumeric(send_param['mobile_phone'])==false)){$('#wg-phone').closest('.form-group').find('small[name=error]').text('Please Enter A Valid Phone Number');return false;}
send_param['wg_ba_listing_id']=$('#wg_ba_listing_id').val();send_param['logged_in']=$('#wgs_logged').val();$("#whiteGlove-luxury-modal").find("#wg-resend-otp").on('click',function(){$.ajax({type:"GET",data:send_param,dataType:"json",url:"/verify-user-detail",success:function(d){if(d.code=='success'){send_param['oshd']=d.data.token;send_param['otp_verifed']=d.data.otp_verifed;$("#wg-otp-field").removeClass("hidden");$("#whiteGlove-luxury-modal").find("#wg-otp-sent").text(d.message);$("#otp-verify-btn").removeClass("hidden");$("#otp-send-btn").addClass("hidden");}}});});if($('#wgs_logged').val()=="1"){$("#otp-send-btn").addClass("hidden");$("#otp-verify-btn").addClass("hidden");$("#wg-otp-field").addClass("hidden");$("#wg-submit").removeClass("hidden");$("#wg-already-verified").text("Your Phone Number Is Already Verified. Please Submit.");}else{$.ajax({type:"GET",data:send_param,dataType:"json",url:"/verify-user-detail",success:function(d){if(d.code=='success'){send_param['oshd']=d.data.token;if($('#wgs_logged').val()=="1"){$("#otp-send-btn").addClass("hidden");$("#otp-verify-btn").addClass("hidden");$("#wg-otp-field").addClass("hidden");$("#wg-submit").removeClass("hidden");$("#wg-already-verified").text("Your Phone Number Is Already Verified. Please Submit.");}else{$("#otp-verify-btn").removeClass("hidden");$("#otp-send-btn").addClass("hidden");$("#wg-otp-field").removeClass("hidden");}
$("#whiteGlove-luxury-modal").find("#wg-otp-sent").text(d.message);}else{if(d.code=='failed'){}}}});}
$("#wg-submit").on("click",function(){var wgsapplicable=$('#wgs_applicable').val();if(wgsapplicable==1){$("#wg-modal-content").addClass("hidden");$("#wg-thankyou").removeClass("hidden");}
$.ajax({type:"GET",data:send_param,dataType:"json",url:"/get-wg-modal-params",success:function(d){if(d.code=='success'){send_param['wg_ba_listing_id']=$('#wg_ba_listing_id').val();send_param['make']=$('#wg_ba_make').val();send_param['model']=$('#wg_ba_model').val();send_param['body_type']=$('#wg_ba_body_type').val();send_param['fuel_type']=$('#wg_ba_fuel_type').val();send_param['category']=$('#wg_ba_category').val();send_param['condition']=$('#wgs_condition').val();send_param['location']=$('#wgs_location').val();send_param['trim']=d.data.trim;send_param['year']=d.data.year;send_param['is_pan_india']=d.data.is_pan_india;send_param['pincode']=d.data.pincode;send_param['rto_location']=d.data.rto_location;send_param['rto_office']=d.data.rto_office;send_param['office']=d.data.office;send_param['order_source_point']=d.data.order_source_point;send_param['order_type']=d.data.order_type;send_param['wg_package_id']=d.data.wg_package_id;send_param['listing_alias']=d.data.listing_alias;send_param['price']=d.data.price;send_param['listing_id']=d.data.listing_id;if(wgsapplicable==1){$("#wg-next-btn").on('click',function(){$.ajax({type:"GET",data:send_param,dataType:"json",url:"/add_to_cart",success:function(d){window.location.href='/cart-summary';}});});}else{$.ajax({type:"GET",data:send_param,dataType:"json",url:"/add_to_cart",success:function(d){window.location.href='/cart-summary';}});}}}});});$("#otp-verify-btn").on("click",function(){$("#otp-verify-btn").attr("disabled",false);send_param['otp_verified']=0;send_param['otpText']=$("#whiteGlove-luxury-modal").find("#otp-input1").val()+$("#whiteGlove-luxury-modal").find("#otp-input2").val()+$("#whiteGlove-luxury-modal").find("#otp-input3").val()+$("#whiteGlove-luxury-modal").find("#otp-input4").val();$.ajax({type:"GET",data:send_param,dataType:"json",url:"/login-with-otp",success:function(d){if(d.code=='success'){$("#whiteGlove-luxury-modal").find("#wg-otp-sent").text("OTP Verified");send_param['wgs_applicable']=$('#wgs_applicable').val();$.ajax({type:"GET",data:send_param,dataType:"json",url:"/get-wg-modal-params",success:function(d){if(d.code=='success'){$("#wg-otp-field").addClass("hidden");$("#otp-verify-btn").addClass("hidden");var wgsapplicable=$('#wgs_applicable').val();if(wgsapplicable==1){$("#wg-modal-content").addClass("hidden");$("#wg-thankyou").removeClass("hidden");}
send_param['wg_ba_listing_id']=$('#wg_ba_listing_id').val();send_param['make']=$('#wg_ba_make').val();send_param['model']=$('#wg_ba_model').val();send_param['body_type']=$('#wg_ba_body_type').val();send_param['fuel_type']=$('#wg_ba_fuel_type').val();send_param['category']=$('#wg_ba_category').val();send_param['condition']=$('#wgs_condition').val();send_param['location']=$('#wgs_location').val();send_param['trim']=d.data.trim;send_param['year']=d.data.year;send_param['is_pan_india']=d.data.is_pan_india;send_param['pincode']=d.data.pincode;send_param['rto_location']=d.data.rto_location;send_param['rto_office']=d.data.rto_office;send_param['office']=d.data.office;send_param['order_source_point']=d.data.order_source_point;send_param['order_type']=d.data.order_type;send_param['wg_package_id']=d.data.wg_package_id;send_param['listing_alias']=d.data.listing_alias;send_param['price']=d.data.price;send_param['listing_id']=d.data.listing_id;if(wgsapplicable==1){$("#wg-next-btn").on('click',function(){$.ajax({type:"GET",data:send_param,dataType:"json",url:"/add_to_cart",success:function(d){window.location.href='/cart-summary';}});});}else{$.ajax({type:"GET",data:send_param,dataType:"json",url:"/add_to_cart",success:function(d){window.location.href='/cart-summary';}});}}}});}else{if(d.code=='failed'){$("#whiteGlove-luxury-modal").find("#wg-otp-sent").text(d.error);}}}});});});};this.reset_modal=function(){$("#otp-send-btn").removeClass("hidden");$("#wg-otp-field").addClass("hidden");$("#otp-verify-btn").addClass("hidden");$("#wg-modal-content").removeClass("hidden");$("#wg-thankyou").addClass("hidden");$("#wg-submit").addClass("hidden");$("#wg-already-verified").text("");$(".wg-paid-heading").addClass("hidden");$(".wg-free-heading").addClass("hidden");$('#wgs_applicable').val("2");$('#wg_ba_listing_id').val("");$('#wg_ba_make').val("");$('#wg_ba_model').val("");$('#wg_ba_body_type').val("");$('#wg_ba_fuel_type').val("");$('#wg_ba_category').val("");$('#wgs_condition').val("");$('#wgs_location').val("");};};$(document).ready(function(){$(".wgs-luxury1").click(function(){$('#wgs_applicable').val("2");$('#wgs_applicable').val($(this).attr('data-wgs_applicable'));$('#wg_ba_listing_id').val($(this).attr('data-listingid'));$('#wg_ba_make').val($(this).attr('data-wg_ba_make'));$('#wg_ba_model').val($(this).attr('data-wg_ba_model'));$('#wg_ba_body_type').val($(this).attr('data-wg_ba_body_type'));$('#wg_ba_fuel_type').val($(this).attr('data-wg_ba_fuel_type'));$('#wgs_applicable').val($(this).attr('data-wgs_applicable'));$('#wg_ba_category').val($(this).attr('data-wg_ba_category'));$('#wgs_condition').val($(this).attr('data-wgs_condition'));$('#wgs_location').val($(this).attr('data-wgs_location'));});$("#whiteGlove-luxury-modal, #white-gloves-modal").on('hide.bs.modal',function(){WhiteGloves.reset_modal();});$('#white-glove-assist, #whiteGlove-luxury-modal').on('shown.bs.modal',function(e){$('body').addClass('modal-open');});$('#white-glove-assist, #whiteGlove-luxury-modal').on('hidden.bs.modal',function(e){$("body").css('padding-right',0);});});function wg_otp_step_input(event,modal_id){$('#'+modal_id).on('keyup','#otp-input1',function(){wg_onKeyUpEvent(1,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input2',function(){wg_onKeyUpEvent(2,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input3',function(){wg_onKeyUpEvent(3,event,modal_id);});$('#'+modal_id).on('keyup','#otp-input4',function(){wg_onKeyUpEvent(4,event,modal_id);});$('#'+modal_id).on('focus','#otp-input1',function(){wg_onFocusEvent(1,modal_id);});$('#'+modal_id).on('focus','#otp-input2',function(){wg_onFocusEvent(2,modal_id);});$('#'+modal_id).on('focus','#otp-input3',function(){wg_onFocusEvent(3,modal_id);});$('#'+modal_id).on('focus','#otp-input4',function(){wg_onFocusEvent(4,modal_id);});};function wg_getOtpInput(index,modal_id){return $('#'+modal_id).find('#otp-input'+index)[0];};function wg_onKeyUpEvent(index,event,modal_id){const eventCode=event.which||event.keyCode;if(wg_getOtpInput(index,modal_id).value.length===1){if(index!==4){wg_getOtpInput(index+1,modal_id).focus();}else{wg_getOtpInput(index,modal_id).blur();}}
if(eventCode===8&&index!==1){wg_getOtpInput(index-1,modal_id).focus();}};function wg_onFocusEvent(index,modal_id){for(item=1;item<index;item++){const currentElement=wg_getOtpInput(item,modal_id);if(!currentElement.value){currentElement.focus();break;}}};